{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/josep/VSCODEprojects/Temple/Temple4/app/api/auth/forgot-password/route.ts"],"sourcesContent":["import { NextResponse } from 'next/server';\r\nimport { PrismaClient } from '@prisma/client';\r\n\r\nconst prisma = new PrismaClient();\r\n\r\nexport async function POST(request: Request) {\r\n  try {\r\n    const { email } = await request.json();\r\n\r\n    if (!email) {\r\n      return NextResponse.json({ message: 'Email is required' }, { status: 400 });\r\n    }\r\n\r\n    const user = await prisma.user.findUnique({\r\n      where: { email: email.toLowerCase() },\r\n    });\r\n\r\n    if (user) {\r\n      // In a real app, you would generate a token and send an email\r\n      console.log(`Password reset requested for ${email}. Token would be generated and sent.`);\r\n    } else {\r\n      console.log(`Password reset requested for non-existent email: ${email}. No action taken.`);\r\n    }\r\n\r\n    // Always return a success response to prevent email enumeration\r\n    return NextResponse.json({ message: 'If an account with that email exists, a password reset link has been sent.' });\r\n  } catch (error) {\r\n    console.error('Forgot password error:', error);\r\n    return NextResponse.json({ message: 'An unexpected error occurred.' }, { status: 500 });\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEA,MAAM,SAAS,IAAI,6IAAY;AAExB,eAAe,KAAK,OAAgB;IACzC,IAAI;QACF,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,QAAQ,IAAI;QAEpC,IAAI,CAAC,OAAO;YACV,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,SAAS;YAAoB,GAAG;gBAAE,QAAQ;YAAI;QAC3E;QAEA,MAAM,OAAO,MAAM,OAAO,IAAI,CAAC,UAAU,CAAC;YACxC,OAAO;gBAAE,OAAO,MAAM,WAAW;YAAG;QACtC;QAEA,IAAI,MAAM;YACR,8DAA8D;YAC9D,QAAQ,GAAG,CAAC,CAAC,6BAA6B,EAAE,MAAM,oCAAoC,CAAC;QACzF,OAAO;YACL,QAAQ,GAAG,CAAC,CAAC,iDAAiD,EAAE,MAAM,kBAAkB,CAAC;QAC3F;QAEA,gEAAgE;QAChE,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,SAAS;QAA6E;IACnH,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,0BAA0B;QACxC,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,SAAS;QAAgC,GAAG;YAAE,QAAQ;QAAI;IACvF;AACF"}}]
}