{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 74, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/josep/VSCODEprojects/Temple/Temple4/lib/db.ts"],"sourcesContent":["import { PrismaClient } from '@prisma/client';\r\n\r\ndeclare global {\r\n  // allow global `var` declarations\r\n  // eslint-disable-next-line no-var\r\n  var prisma: PrismaClient | undefined;\r\n}\r\n\r\nexport const prisma =\r\n  globalThis.prisma ||\r\n  new PrismaClient();\r\n\r\nif (process.env.NODE_ENV !== 'production') globalThis.prisma = prisma;\r\n"],"names":[],"mappings":";;;;AAAA;;AAQO,MAAM,SACX,WAAW,MAAM,IACjB,IAAI,6IAAY;AAElB,wCAA2C,WAAW,MAAM,GAAG"}},
    {"offset": {"line": 86, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/josep/VSCODEprojects/Temple/Temple4/app/api/auth/%5B...nextauth%5D/route.ts"],"sourcesContent":["import NextAuth, { AuthOptions, SessionStrategy } from 'next-auth';\r\nimport CredentialsProvider from 'next-auth/providers/credentials';\r\nimport { prisma } from '@/lib/db';\r\nimport bcrypt from 'bcryptjs';\r\n\r\nexport const authOptions: AuthOptions = {\r\n  providers: [\r\n    CredentialsProvider({\r\n      name: 'Credentials',\r\n      credentials: {\r\n        email: { label: \"Email\", type: \"text\" },\r\n        password: {  label: \"Password\", type: \"password\" }\r\n      },\r\n      async authorize(credentials) {\r\n        if (!credentials?.email || !credentials.password) {\r\n          return null;\r\n        }\r\n\r\n        const user = await prisma.user.findUnique({\r\n          where: { email: credentials.email.toLowerCase() },\r\n          include: {\r\n            profile: true,\r\n          },\r\n        });\r\n\r\n        if (user && user.password && await bcrypt.compare(credentials.password, user.password)) {\r\n          // Return user object with required fields for NextAuth\r\n          return {\r\n            id: user.id,\r\n            email: user.email,\r\n            name: user.profile?.displayName || user.email,\r\n            isSuperAdmin: user.isSuperAdmin,\r\n          };\r\n        } else {\r\n          return null;\r\n        }\r\n      }\r\n    })\r\n  ],\r\n  session: {\r\n    strategy: 'jwt' as SessionStrategy,\r\n  },\r\n  callbacks: {\r\n    async jwt({ token, user }) {\r\n      if (user) {\r\n        token.id = user.id;\r\n        token.email = user.email;\r\n        token.name = user.name;\r\n        token.isSuperAdmin = (user as any).isSuperAdmin;\r\n      }\r\n      return token;\r\n    },\r\n    async session({ session, token }) {\r\n      if (session.user) {\r\n        (session.user as any).id = token.id;\r\n        session.user.email = token.email as string;\r\n        session.user.name = token.name as string;\r\n        (session.user as any).isSuperAdmin = token.isSuperAdmin;\r\n      }\r\n      return session;\r\n    }\r\n  },\r\n  pages: {\r\n    signIn: '/auth/login', // This will be the login page\r\n  },\r\n};\r\n\r\nconst handler = NextAuth(authOptions);\r\n\r\nexport { handler as GET, handler as POST };\r\n"],"names":[],"mappings":";;;;;;;;AAAA;AACA;AACA;AACA;;;;;AAEO,MAAM,cAA2B;IACtC,WAAW;QACT,IAAA,mKAAmB,EAAC;YAClB,MAAM;YACN,aAAa;gBACX,OAAO;oBAAE,OAAO;oBAAS,MAAM;gBAAO;gBACtC,UAAU;oBAAG,OAAO;oBAAY,MAAM;gBAAW;YACnD;YACA,MAAM,WAAU,WAAW;gBACzB,IAAI,CAAC,aAAa,SAAS,CAAC,YAAY,QAAQ,EAAE;oBAChD,OAAO;gBACT;gBAEA,MAAM,OAAO,MAAM,mHAAM,CAAC,IAAI,CAAC,UAAU,CAAC;oBACxC,OAAO;wBAAE,OAAO,YAAY,KAAK,CAAC,WAAW;oBAAG;oBAChD,SAAS;wBACP,SAAS;oBACX;gBACF;gBAEA,IAAI,QAAQ,KAAK,QAAQ,IAAI,MAAM,4IAAM,CAAC,OAAO,CAAC,YAAY,QAAQ,EAAE,KAAK,QAAQ,GAAG;oBACtF,uDAAuD;oBACvD,OAAO;wBACL,IAAI,KAAK,EAAE;wBACX,OAAO,KAAK,KAAK;wBACjB,MAAM,KAAK,OAAO,EAAE,eAAe,KAAK,KAAK;wBAC7C,cAAc,KAAK,YAAY;oBACjC;gBACF,OAAO;oBACL,OAAO;gBACT;YACF;QACF;KACD;IACD,SAAS;QACP,UAAU;IACZ;IACA,WAAW;QACT,MAAM,KAAI,EAAE,KAAK,EAAE,IAAI,EAAE;YACvB,IAAI,MAAM;gBACR,MAAM,EAAE,GAAG,KAAK,EAAE;gBAClB,MAAM,KAAK,GAAG,KAAK,KAAK;gBACxB,MAAM,IAAI,GAAG,KAAK,IAAI;gBACtB,MAAM,YAAY,GAAG,AAAC,KAAa,YAAY;YACjD;YACA,OAAO;QACT;QACA,MAAM,SAAQ,EAAE,OAAO,EAAE,KAAK,EAAE;YAC9B,IAAI,QAAQ,IAAI,EAAE;gBACf,QAAQ,IAAI,CAAS,EAAE,GAAG,MAAM,EAAE;gBACnC,QAAQ,IAAI,CAAC,KAAK,GAAG,MAAM,KAAK;gBAChC,QAAQ,IAAI,CAAC,IAAI,GAAG,MAAM,IAAI;gBAC7B,QAAQ,IAAI,CAAS,YAAY,GAAG,MAAM,YAAY;YACzD;YACA,OAAO;QACT;IACF;IACA,OAAO;QACL,QAAQ;IACV;AACF;AAEA,MAAM,UAAU,IAAA,gJAAQ,EAAC"}},
    {"offset": {"line": 175, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/josep/VSCODEprojects/Temple/Temple4/lib/data.ts"],"sourcesContent":["import { prisma } from './db';\r\nimport { Tenant, User, Post, Event, UserTenantMembership, Notification, AuditLog, Conversation, TenantRole, MembershipStatus, TenantSettings, TenantBranding } from '@prisma/client';\r\nimport bcrypt from 'bcryptjs';\r\n\r\ntype TenantWithDetails = Tenant & {\r\n    settings: TenantSettings | null;\r\n    branding: TenantBranding | null;\r\n};\r\n\r\nexport async function getTenantsForUser(userId: string): Promise<Tenant[]> {\r\n  const memberships = await prisma.userTenantMembership.findMany({\r\n    where: {\r\n      userId: userId,\r\n      status: 'APPROVED',\r\n    },\r\n    include: {\r\n      tenant: true,\r\n    },\r\n  });\r\n\r\n  return memberships.map((membership: { tenant: Tenant; }) => membership.tenant);\r\n}\r\n\r\nexport async function getTenantById(tenantId: string) {\r\n  return await prisma.tenant.findUnique({\r\n    where: { id: tenantId },\r\n    include: {\r\n      settings: true,\r\n      branding: true,\r\n    },\r\n  });\r\n}\r\n\r\nexport async function getUserById(userId: string) {\r\n  return await prisma.user.findUnique({\r\n    where: { id: userId },\r\n    include: {\r\n      profile: true,\r\n      privacySettings: true,\r\n      accountSettings: true,\r\n    },\r\n  });\r\n}\r\n\r\nexport async function getTenants(): Promise<Tenant[]> {\r\n    const tenants = await prisma.tenant.findMany({\r\n        include: {\r\n            settings: true,\r\n            branding: true,\r\n        }\r\n    });\r\n    \r\n    // Transform Prisma data to match Tenant interface with nested address\r\n    return tenants.map(tenant => ({\r\n        ...tenant,\r\n        address: {\r\n            street: tenant.street,\r\n            city: tenant.city,\r\n            state: tenant.state,\r\n            country: tenant.country,\r\n            postalCode: tenant.postalCode,\r\n        },\r\n        settings: tenant.settings || {\r\n            isPublic: true,\r\n            allowMemberDirectory: true,\r\n            allowEvents: true,\r\n            allowDonations: true,\r\n            allowSmallGroups: true,\r\n            allowMessaging: true,\r\n        },\r\n        branding: tenant.branding || {\r\n            logoUrl: '',\r\n            bannerImageUrl: '',\r\n            primaryColor: '#d97706',\r\n            accentColor: '#92400e',\r\n        },\r\n        permissions: tenant.permissions as any || {},\r\n    })) as Tenant[];\r\n}\r\n\r\nexport async function getEventsForTenant(tenantId: string): Promise<Event[]> {\r\n  return await prisma.event.findMany({\r\n    where: { tenantId },\r\n    orderBy: { startDateTime: 'asc' },\r\n  });\r\n}\r\n\r\nexport async function getPostsForTenant(tenantId: string): Promise<Post[]> {\r\n  return await prisma.post.findMany({\r\n    where: { tenantId, isPublished: true },\r\n    orderBy: { publishedAt: 'desc' },\r\n    include: {\r\n      author: {\r\n        include: {\r\n          profile: true,\r\n        }\r\n      }\r\n    }\r\n  });\r\n}\r\n\r\nexport async function getMembershipForUserInTenant(userId: string, tenantId: string): Promise<UserTenantMembership | null> {\r\n  return await prisma.userTenantMembership.findUnique({\r\n    where: {\r\n      userId_tenantId: {\r\n        userId,\r\n        tenantId,\r\n      }\r\n    },\r\n  });\r\n}\r\n\r\nexport async function getNotificationsForUser(userId: string): Promise<Notification[]> {\r\n    return await prisma.notification.findMany({\r\n        where: { userId },\r\n        orderBy: { createdAt: 'desc' },\r\n    });\r\n}\r\n\r\nexport async function markNotificationAsRead(notificationId: string): Promise<Notification> {\r\n    return await prisma.notification.update({\r\n        where: { id: notificationId },\r\n        data: { isRead: true },\r\n    });\r\n}\r\n\r\nexport async function markAllNotificationsAsRead(userId: string) {\r\n    return await prisma.notification.updateMany({\r\n        where: { userId },\r\n        data: { isRead: true },\r\n    });\r\n}\r\n\r\nexport async function getUserByEmail(email: string) {\r\n    return await prisma.user.findUnique({\r\n        where: { email },\r\n        include: {\r\n            profile: true,\r\n            privacySettings: true,\r\n            accountSettings: true,\r\n        },\r\n    });\r\n}\r\n\r\nexport async function registerUser(displayName: string, email: string, pass: string) {\r\n    const existingUser = await getUserByEmail(email);\r\n    if (existingUser) {\r\n        return { success: false, message: 'User with this email already exists.' };\r\n    }\r\n    const hashedPassword = await bcrypt.hash(pass, 10);\r\n    const user = await prisma.user.create({\r\n        data: {\r\n            email,\r\n            password: hashedPassword,\r\n            profile: {\r\n                create: {\r\n                    displayName,\r\n                },\r\n            },\r\n            accountSettings: { create: {} },\r\n            privacySettings: { create: {} },\r\n        },\r\n        include: {\r\n            profile: true,\r\n            privacySettings: true,\r\n            accountSettings: true,\r\n        }\r\n    });\r\n    return { success: true, user };\r\n}\r\n\r\nexport async function createTenant(tenantDetails: Omit<Tenant, 'id' | 'slug' | 'permissions'>, ownerId: string): Promise<Tenant> {\r\n    const tenant = await prisma.tenant.create({\r\n        data: {\r\n            ...tenantDetails,\r\n            slug: tenantDetails.name.toLowerCase().replace(/ /g, '-'),\r\n            memberships: {\r\n                create: {\r\n                    userId: ownerId,\r\n                    roles: {\r\n                        create: {\r\n                            role: TenantRole.ADMIN,\r\n                        }\r\n                    },\r\n                    status: MembershipStatus.APPROVED,\r\n                }\r\n            },\r\n            settings: { \r\n                create: {\r\n                    isPublic: false,\r\n                    membershipApprovalMode: 'APPROVAL_REQUIRED',\r\n                    enableCalendar: true,\r\n                    enablePosts: true,\r\n                    enableSermons: true,\r\n                    enablePodcasts: true,\r\n                    enableBooks: true,\r\n                    enableDonations: true,\r\n                    enableVolunteering: true,\r\n                    enableSmallGroups: true,\r\n                    enableLiveStream: true,\r\n                    enablePrayerWall: true,\r\n                    enableResourceCenter: true,\r\n                    visitorVisibility: {},\r\n                    donationSettings: {},\r\n                    liveStreamSettings: {},\r\n                } \r\n            },\r\n            branding: { \r\n                create: {\r\n                    logoUrl: '',\r\n                    bannerImageUrl: '',\r\n                    primaryColor: '#000000',\r\n                    accentColor: '#FFFFFF',\r\n                    customLinks: [],\r\n                } \r\n            },\r\n        }\r\n    });\r\n    return tenant;\r\n}\r\n\r\nexport async function updateTenant(tenant: Partial<TenantWithDetails>): Promise<Tenant> {\r\n    const { id, settings, branding, ...data } = tenant;\r\n    \r\n    const updateData: any = { ...data };\r\n\r\n    if (settings) {\r\n        const { id: settingsId, tenantId: settingsTenantId, ...restOfSettings } = settings;\r\n        updateData.settings = {\r\n            update: {\r\n                ...restOfSettings,\r\n                visitorVisibility: restOfSettings.visitorVisibility || undefined,\r\n                donationSettings: restOfSettings.donationSettings || undefined,\r\n                liveStreamSettings: restOfSettings.liveStreamSettings || undefined,\r\n            }\r\n        };\r\n    }\r\n\r\n    if (branding) {\r\n        const { id: brandingId, tenantId: brandingTenantId, ...restOfBranding } = branding;\r\n        updateData.branding = {\r\n            update: {\r\n                ...restOfBranding,\r\n                customLinks: restOfBranding.customLinks || undefined,\r\n            }\r\n        };\r\n    }\r\n\r\n    return await prisma.tenant.update({\r\n        where: { id },\r\n        data: updateData,\r\n    });\r\n}\r\n\r\nexport async function requestToJoinTenant(userId: string, tenantId: string): Promise<UserTenantMembership> {\r\n    const existingMembership = await getMembershipForUserInTenant(userId, tenantId);\r\nif (existingMembership) {\r\n        return existingMembership;\r\n    }\r\n    return await prisma.userTenantMembership.create({\r\n        data: {\r\n            userId,\r\n            tenantId,\r\n            roles: {\r\n                create: {\r\n                    role: TenantRole.MEMBER,\r\n                }\r\n            },\r\n            status: MembershipStatus.PENDING,\r\n        }\r\n    });\r\n}\r\n\r\n// NOTE: These are not secure and are for demonstration only.\r\n// In a real app, you'd use secure tokens and a proper reset flow.\r\nexport async function requestPasswordReset(email: string): Promise<boolean> {\r\n    const user = await getUserByEmail(email);\r\n    if (!user) return false;\r\n    // In a real app, generate a token, save it, and email a link.\r\n    console.log(`Password reset requested for ${email}. In this demo, we'll just allow a direct reset.`);\r\n    return true;\r\n}\r\n\r\nexport async function resetPassword(email: string, newPass: string) {\r\n    const user = await getUserByEmail(email);\r\n    if (!user) return { success: false, message: \"User not found.\" };\r\n    const hashedPassword = await bcrypt.hash(newPass, 10);\r\n    await prisma.user.update({\r\n        where: { email },\r\n        data: { password: hashedPassword },\r\n    });\r\n    return { success: true };\r\n}\r\n\r\nexport async function logAuditEvent(event: Omit<AuditLog, 'id' | 'createdAt'>): Promise<AuditLog> {\r\n    return await prisma.auditLog.create({\r\n        data: {\r\n            ...event,\r\n            metadata: event.metadata || {},\r\n        },\r\n    });\r\n}\r\n\r\nexport async function getOrCreateDirectConversation(userId1: string, userId2: string): Promise<Conversation> {\r\n    const existing = await prisma.conversation.findFirst({\r\n        where: {\r\n            isDirectMessage: true,\r\n            participants: {\r\n                every: {\r\n                    userId: { in: [userId1, userId2] }\r\n                }\r\n            }\r\n        },\r\n        include: { participants: true }\r\n    });\r\n\r\n    if (existing) return existing;\r\n\r\n    return await prisma.conversation.create({\r\n        data: {\r\n            isDirectMessage: true,\r\n            participants: {\r\n                create: [\r\n                    { userId: userId1 },\r\n                    { userId: userId2 },\r\n                ]\r\n            }\r\n        }\r\n    });\r\n}\r\n\r\nexport async function getConversationsForUser(userId: string) {\r\n    return await prisma.conversation.findMany({\r\n        where: {\r\n            participants: {\r\n                some: {\r\n                    userId: userId\r\n                }\r\n            }\r\n        },\r\n        include: {\r\n            participants: {\r\n                include: {\r\n                    user: {\r\n                        include: {\r\n                            profile: true\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            messages: {\r\n                orderBy: {\r\n                    createdAt: 'desc'\r\n                },\r\n                take: 1,\r\n                include: {\r\n                    user: {\r\n                        include: {\r\n                            profile: true\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        orderBy: {\r\n            id: 'desc'\r\n        }\r\n    });\r\n}\r\n\r\nexport async function getMessagesForConversation(conversationId: string) {\r\n    return await prisma.chatMessage.findMany({\r\n        where: {\r\n            conversationId: conversationId\r\n        },\r\n        include: {\r\n            user: {\r\n                include: {\r\n                    profile: true\r\n                }\r\n            }\r\n        },\r\n        orderBy: {\r\n            createdAt: 'asc'\r\n        }\r\n    });\r\n}\r\n\r\nexport async function addMessage(conversationId: string, senderId: string, content: string) {\r\n    const message = await prisma.chatMessage.create({\r\n        data: {\r\n            conversationId,\r\n            userId: senderId,\r\n            text: content\r\n        },\r\n        include: {\r\n            user: {\r\n                include: {\r\n                    profile: true\r\n                }\r\n            }\r\n        }\r\n    });\r\n\r\n    return message;\r\n}\r\n\r\nexport async function deleteMessage(messageId: string) {\r\n    return await prisma.chatMessage.delete({\r\n        where: { id: messageId }\r\n    });\r\n}\r\n\r\nexport async function markConversationAsRead(conversationId: string, userId: string) {\r\n    // This would update read receipts via ConversationParticipant's lastReadMessageId\r\n    // For now, just return success\r\n    return { success: true };\r\n}\r\n\r\nexport async function getAllUsers() {\r\n    return await prisma.user.findMany({\r\n        include: {\r\n            profile: true\r\n        }\r\n    });\r\n}\r\n\r\nexport async function getAuditLogs() {\r\n    return await prisma.auditLog.findMany({\r\n        include: {\r\n            actorUser: {\r\n                include: {\r\n                    profile: true\r\n                }\r\n            },\r\n            effectiveUser: {\r\n                include: {\r\n                    profile: true\r\n                }\r\n            }\r\n        },\r\n        orderBy: {\r\n            createdAt: 'desc'\r\n        },\r\n        take: 100\r\n    });\r\n}\r\n\r\n// Get enriched memberships for a user (includes tenant details)\r\nexport async function getEnrichedMembershipsForUser(userId: string) {\r\n    const memberships = await prisma.userTenantMembership.findMany({\r\n        where: { userId },\r\n        include: {\r\n            tenant: {\r\n                include: {\r\n                    settings: true,\r\n                    branding: true,\r\n                }\r\n            }\r\n        }\r\n    });\r\n    \r\n    return memberships.map(m => ({\r\n        membership: m,\r\n        tenant: m.tenant\r\n    }));\r\n}\r\n\r\n// Update membership profile (display name and title within a tenant)\r\nexport async function updateMembershipProfile(\r\n    userId: string, \r\n    membershipId: string, \r\n    data: { displayName?: string; displayTitle?: string }\r\n) {\r\n    return await prisma.userTenantMembership.update({\r\n        where: { id: membershipId, userId },\r\n        data: {\r\n            displayName: data.displayName,\r\n            displayTitle: data.displayTitle\r\n        }\r\n    });\r\n}\r\n\r\n// Update user notification preferences\r\nexport async function updateUserNotificationPreferences(\r\n    userId: string,\r\n    preferences: any\r\n) {\r\n    // Note: This assumes notification preferences are stored in a JSON field or separate table\r\n    // Adjust based on your actual schema\r\n    return await prisma.user.update({\r\n        where: { id: userId },\r\n        data: {\r\n            // If you have a notificationPreferences JSON field:\r\n            // notificationPreferences: preferences\r\n        }\r\n    });\r\n}\r\n\r\n// ===== MISSING FUNCTION STUBS =====\r\n// These functions are called by components but not yet fully implemented\r\n\r\nexport async function getMembersForTenant(tenantId: string) {\r\n    // TODO: Implement member fetching with enriched data\r\n    return [];\r\n}\r\n\r\nexport async function updateMembershipStatus(userId: string, tenantId: string, status: string) {\r\n    // TODO: Implement membership status update\r\n    return null;\r\n}\r\n\r\nexport async function updateMemberRolesAndTitle(userId: string, tenantId: string, roles: any[], title: string) {\r\n    // TODO: Implement member roles and title update\r\n    return null;\r\n}\r\n\r\nexport async function getSmallGroupsForTenant(tenantId: string) {\r\n    // TODO: Implement small groups fetching\r\n    return [];\r\n}\r\n\r\nexport async function createSmallGroup(tenantId: string, groupData: any) {\r\n    // TODO: Implement small group creation\r\n    return null;\r\n}\r\n\r\nexport async function getVolunteerNeedsForTenant(tenantId: string) {\r\n    // TODO: Implement volunteer needs fetching\r\n    return [];\r\n}\r\n\r\nexport async function addVolunteerNeed(tenantId: string, needData: any) {\r\n    // TODO: Implement volunteer need creation\r\n    return null;\r\n}\r\n\r\nexport async function getResourceItemsForTenant(tenantId: string) {\r\n    // TODO: Implement resource items fetching\r\n    return [];\r\n}\r\n\r\nexport async function addResourceItem(tenantId: string, itemData: any) {\r\n    // TODO: Implement resource item creation\r\n    return null;\r\n}\r\n\r\nexport async function deleteResourceItem(itemId: string) {\r\n    // TODO: Implement resource item deletion\r\n    return null;\r\n}\r\n\r\nexport async function getCommunityPostsForTenant(tenantId: string) {\r\n    // TODO: Implement community posts fetching\r\n    return [];\r\n}\r\n\r\nexport async function updateCommunityPostStatus(postId: string, status: string) {\r\n    // TODO: Implement community post status update\r\n    return null;\r\n}\r\n\r\nexport async function getContactSubmissionsForTenant(tenantId: string) {\r\n    // TODO: Implement contact submissions fetching\r\n    return [];\r\n}\r\n\r\nexport async function updateContactSubmissionStatus(submissionId: string, status: string) {\r\n    // TODO: Implement contact submission status update\r\n    return null;\r\n}\r\n\r\nexport async function respondToContactSubmission(submissionId: string, response: string) {\r\n    // TODO: Implement contact submission response\r\n    return null;\r\n}\r\n\r\nexport async function updateTenantPermissions(tenantId: string, permissions: any) {\r\n    // TODO: Implement tenant permissions update\r\n    return null;\r\n}\r\n\r\nexport async function addPost(tenantId: string, postData: any) {\r\n    // TODO: Implement post creation\r\n    return null;\r\n}\r\n\r\nexport async function addEvent(tenantId: string, eventData: any) {\r\n    // TODO: Implement event creation\r\n    return null;\r\n}\r\n\r\nexport async function getSermonsForTenant(tenantId: string) {\r\n    // TODO: Implement sermons fetching\r\n    return [];\r\n}\r\n\r\nexport async function getPodcastsForTenant(tenantId: string) {\r\n    // TODO: Implement podcasts fetching\r\n    return [];\r\n}\r\n\r\nexport async function getBooksForTenant(tenantId: string) {\r\n    // TODO: Implement books fetching\r\n    return [];\r\n}\r\n\r\nexport async function getDonationsForTenant(tenantId: string) {\r\n    // TODO: Implement donations fetching\r\n    return [];\r\n}\r\n\r\nexport async function addDonationRecord(tenantId: string, donationData: any) {\r\n    // TODO: Implement donation record creation\r\n    return null;\r\n}\r\n\r\nexport async function addContactSubmission(tenantId: string, submissionData: any) {\r\n    // TODO: Implement contact submission creation\r\n    return null;\r\n}\r\n\r\nexport async function addCommunityPost(tenantId: string, postData: any) {\r\n    // TODO: Implement community post creation\r\n    return null;\r\n}\r\n\r\nexport async function joinSmallGroup(groupId: string, userId: string) {\r\n    // TODO: Implement small group join\r\n    return null;\r\n}\r\n\r\nexport async function leaveSmallGroup(groupId: string, userId: string) {\r\n    // TODO: Implement small group leave\r\n    return null;\r\n}\r\n\r\nexport async function signUpForNeed(needId: string, userId: string) {\r\n    // TODO: Implement volunteer need sign up\r\n    return null;\r\n}\r\n\r\nexport async function cancelSignUp(needId: string, userId: string) {\r\n    // TODO: Implement volunteer need cancellation\r\n    return null;\r\n}\r\n\r\nexport async function createConversation(conversationData: any) {\r\n    // TODO: Implement conversation creation\r\n    return null;\r\n}\r\n\r\nexport async function adminUpdateUserProfile(userId: string, profileData: any) {\r\n    // TODO: Implement admin user profile update\r\n    return null;\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 940, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/josep/VSCODEprojects/Temple/Temple4/app/components/ui/Button.tsx"],"sourcesContent":["import React from 'react';\r\n\r\ninterface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\r\n  variant?: 'primary' | 'secondary' | 'danger';\r\n  size?: 'sm' | 'md';\r\n  children: React.ReactNode;\r\n}\r\n\r\nconst Button: React.FC<ButtonProps> = ({ children, variant = 'primary', size = 'md', className, ...props }) => {\r\n  const baseClasses = \"rounded-md font-semibold focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\";\r\n\r\n  const variantClasses = {\r\n    primary: 'bg-amber-600 text-white hover:bg-amber-700 focus:ring-amber-500',\r\n    secondary: 'bg-gray-200 text-gray-800 hover:bg-gray-300 focus:ring-gray-400',\r\n    danger: 'bg-red-600 text-white hover:bg-red-700 focus:ring-red-500',\r\n  };\r\n  \r\n  const sizeClasses = {\r\n      md: \"px-4 py-2 text-sm\",\r\n      sm: \"px-3 py-1.5 text-xs\",\r\n  }\r\n\r\n  return (\r\n    <button className={`${baseClasses} ${variantClasses[variant]} ${sizeClasses[size]} ${className}`} {...props}>\r\n      {children}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n"],"names":[],"mappings":";;;;;;AAQA,MAAM,SAAgC,CAAC,EAAE,QAAQ,EAAE,UAAU,SAAS,EAAE,OAAO,IAAI,EAAE,SAAS,EAAE,GAAG,OAAO;IACxG,MAAM,cAAc;IAEpB,MAAM,iBAAiB;QACrB,SAAS;QACT,WAAW;QACX,QAAQ;IACV;IAEA,MAAM,cAAc;QAChB,IAAI;QACJ,IAAI;IACR;IAEA,qBACE,8OAAC;QAAO,WAAW,GAAG,YAAY,CAAC,EAAE,cAAc,CAAC,QAAQ,CAAC,CAAC,EAAE,WAAW,CAAC,KAAK,CAAC,CAAC,EAAE,WAAW;QAAG,GAAG,KAAK;kBACxG;;;;;;AAGP;uCAEe"}},
    {"offset": {"line": 972, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/josep/VSCODEprojects/Temple/Temple4/app/components/notifications/NotificationPanel.tsx"],"sourcesContent":["import React from 'react';\r\nimport type { Notification } from '@/types';\r\nimport Button from '../ui/Button';\r\n\r\ninterface NotificationPanelProps {\r\n  notifications: Notification[];\r\n  onClose: () => void;\r\n  onMarkAsRead: (notificationId: string) => void;\r\n  onMarkAllAsRead: () => void;\r\n  onNavigate: (link?: string) => void;\r\n}\r\n\r\nconst NotificationPanel: React.FC<NotificationPanelProps> = ({\r\n  notifications,\r\n  onClose,\r\n  onMarkAsRead,\r\n  onMarkAllAsRead,\r\n  onNavigate,\r\n}) => {\r\n  const handleNotificationClick = (notification: Notification) => {\r\n    if (!notification.isRead) {\r\n      onMarkAsRead(notification.id);\r\n    }\r\n    if (notification.link) {\r\n      onNavigate(notification.link);\r\n    }\r\n  };\r\n\r\n  const timeSince = (date: Date) => {\r\n    const seconds = Math.floor((new Date().getTime() - date.getTime()) / 1000);\r\n    let interval = seconds / 31536000;\r\n    if (interval > 1) return Math.floor(interval) + \"y ago\";\r\n    interval = seconds / 2592000;\r\n    if (interval > 1) return Math.floor(interval) + \"mo ago\";\r\n    interval = seconds / 86400;\r\n    if (interval > 1) return Math.floor(interval) + \"d ago\";\r\n    interval = seconds / 3600;\r\n    if (interval > 1) return Math.floor(interval) + \"h ago\";\r\n    interval = seconds / 60;\r\n    if (interval > 1) return Math.floor(interval) + \"m ago\";\r\n    return Math.floor(seconds) + \"s ago\";\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className=\"absolute right-0 mt-2 w-80 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none z-30\"\r\n      role=\"menu\"\r\n      aria-orientation=\"vertical\"\r\n      aria-labelledby=\"user-menu-button\"\r\n    >\r\n      <div className=\"flex items-center justify-between border-b border-gray-200 px-4 py-3\">\r\n        <h3 className=\"text-md font-semibold text-gray-900\">Notifications</h3>\r\n        <Button variant=\"secondary\" size=\"sm\" onClick={onMarkAllAsRead}>Mark all as read</Button>\r\n      </div>\r\n      <div className=\"py-1 max-h-96 overflow-y-auto\" role=\"none\">\r\n        {notifications.length > 0 ? (\r\n          notifications.map((notification) => (\r\n            <div\r\n              key={notification.id}\r\n              onClick={() => handleNotificationClick(notification)}\r\n              className={`flex items-start gap-3 px-4 py-3 text-sm text-gray-700 cursor-pointer transition-colors ${\r\n                notification.isRead ? 'hover:bg-gray-50' : 'bg-amber-50 hover:bg-amber-100'\r\n              }`}\r\n            >\r\n              {!notification.isRead && (\r\n                 <div className=\"mt-1 h-2 w-2 rounded-full bg-amber-500 flex-shrink-0\"></div>\r\n              )}\r\n              <div className={notification.isRead ? 'pl-4' : ''}>\r\n                  <p className=\"text-gray-800\">{notification.message}</p>\r\n                  <p className=\"text-xs text-gray-400 mt-1\">{timeSince(notification.createdAt)}</p>\r\n              </div>\r\n            </div>\r\n          ))\r\n        ) : (\r\n          <div className=\"px-4 py-8 text-center text-sm text-gray-500\">\r\n            You have no notifications.\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NotificationPanel;\r\n"],"names":[],"mappings":";;;;;AAEA;;;AAUA,MAAM,oBAAsD,CAAC,EAC3D,aAAa,EACb,OAAO,EACP,YAAY,EACZ,eAAe,EACf,UAAU,EACX;IACC,MAAM,0BAA0B,CAAC;QAC/B,IAAI,CAAC,aAAa,MAAM,EAAE;YACxB,aAAa,aAAa,EAAE;QAC9B;QACA,IAAI,aAAa,IAAI,EAAE;YACrB,WAAW,aAAa,IAAI;QAC9B;IACF;IAEA,MAAM,YAAY,CAAC;QACjB,MAAM,UAAU,KAAK,KAAK,CAAC,CAAC,IAAI,OAAO,OAAO,KAAK,KAAK,OAAO,EAAE,IAAI;QACrE,IAAI,WAAW,UAAU;QACzB,IAAI,WAAW,GAAG,OAAO,KAAK,KAAK,CAAC,YAAY;QAChD,WAAW,UAAU;QACrB,IAAI,WAAW,GAAG,OAAO,KAAK,KAAK,CAAC,YAAY;QAChD,WAAW,UAAU;QACrB,IAAI,WAAW,GAAG,OAAO,KAAK,KAAK,CAAC,YAAY;QAChD,WAAW,UAAU;QACrB,IAAI,WAAW,GAAG,OAAO,KAAK,KAAK,CAAC,YAAY;QAChD,WAAW,UAAU;QACrB,IAAI,WAAW,GAAG,OAAO,KAAK,KAAK,CAAC,YAAY;QAChD,OAAO,KAAK,KAAK,CAAC,WAAW;IAC/B;IAEA,qBACE,8OAAC;QACC,WAAU;QACV,MAAK;QACL,oBAAiB;QACjB,mBAAgB;;0BAEhB,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAAsC;;;;;;kCACpD,8OAAC,6IAAM;wBAAC,SAAQ;wBAAY,MAAK;wBAAK,SAAS;kCAAiB;;;;;;;;;;;;0BAElE,8OAAC;gBAAI,WAAU;gBAAgC,MAAK;0BACjD,cAAc,MAAM,GAAG,IACtB,cAAc,GAAG,CAAC,CAAC,6BACjB,8OAAC;wBAEC,SAAS,IAAM,wBAAwB;wBACvC,WAAW,CAAC,wFAAwF,EAClG,aAAa,MAAM,GAAG,qBAAqB,kCAC3C;;4BAED,CAAC,aAAa,MAAM,kBAClB,8OAAC;gCAAI,WAAU;;;;;;0CAElB,8OAAC;gCAAI,WAAW,aAAa,MAAM,GAAG,SAAS;;kDAC3C,8OAAC;wCAAE,WAAU;kDAAiB,aAAa,OAAO;;;;;;kDAClD,8OAAC;wCAAE,WAAU;kDAA8B,UAAU,aAAa,SAAS;;;;;;;;;;;;;uBAX1E,aAAa,EAAE;;;;kFAgBxB,8OAAC;oBAAI,WAAU;8BAA8C;;;;;;;;;;;;;;;;;AAOvE;uCAEe"}},
    {"offset": {"line": 1105, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/josep/VSCODEprojects/Temple/Temple4/app/notifications/page.tsx"],"sourcesContent":["import { getServerSession } from 'next-auth/next';\r\nimport { authOptions } from '../api/auth/[...nextauth]/route';\r\nimport { redirect } from 'next/navigation';\r\nimport { getUserByEmail, getNotificationsForUser, markNotificationAsRead, markAllNotificationsAsRead } from '@/lib/data';\r\nimport NotificationPanel from '../components/notifications/NotificationPanel';\r\n\r\nexport default async function Page() {\r\n  const session = await getServerSession(authOptions);\r\n  \r\n  if (!session?.user?.email) {\r\n    redirect('/auth/login');\r\n  }\r\n  \r\n  const user = await getUserByEmail(session.user.email);\r\n  \r\n  if (!user) {\r\n    redirect('/auth/login');\r\n  }\r\n  \r\n  const notifications = await getNotificationsForUser(user.id);\r\n  \r\n  return (\r\n    <NotificationPanel \r\n      notifications={notifications}\r\n      onClose={() => {}}\r\n      onMarkAsRead={(id) => markNotificationAsRead(id)}\r\n      onMarkAllAsRead={() => markAllNotificationsAsRead(user.id)}\r\n      onNavigate={(link) => {}}\r\n    />\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAAA;AACA;AACA;;;;;;;AAEe,eAAe;IAC5B,MAAM,UAAU,MAAM,IAAA,iKAAgB,EAAC,gKAAW;IAElD,IAAI,CAAC,SAAS,MAAM,OAAO;QACzB,IAAA,iMAAQ,EAAC;IACX;IAEA,MAAM,OAAO,MAAM,IAAA,6HAAc,EAAC,QAAQ,IAAI,CAAC,KAAK;IAEpD,IAAI,CAAC,MAAM;QACT,IAAA,iMAAQ,EAAC;IACX;IAEA,MAAM,gBAAgB,MAAM,IAAA,sIAAuB,EAAC,KAAK,EAAE;IAE3D,qBACE,8OAAC,mKAAiB;QAChB,eAAe;QACf,SAAS,KAAO;QAChB,cAAc,CAAC,KAAO,IAAA,qIAAsB,EAAC;QAC7C,iBAAiB,IAAM,IAAA,yIAA0B,EAAC,KAAK,EAAE;QACzD,YAAY,CAAC,QAAU;;;;;;AAG7B"}}]
}