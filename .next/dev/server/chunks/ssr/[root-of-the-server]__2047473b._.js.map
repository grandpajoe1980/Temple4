{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/josep/VSCODEprojects/Temple/Temple4/app/components/ui/Button.tsx"],"sourcesContent":["import React from 'react';\r\n\r\ninterface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\r\n  variant?: 'primary' | 'secondary' | 'danger';\r\n  size?: 'sm' | 'md';\r\n  children: React.ReactNode;\r\n}\r\n\r\nconst Button: React.FC<ButtonProps> = ({ children, variant = 'primary', size = 'md', className, ...props }) => {\r\n  const baseClasses = \"rounded-md font-semibold focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\";\r\n\r\n  const variantClasses = {\r\n    primary: 'bg-amber-600 text-white hover:bg-amber-700 focus:ring-amber-500',\r\n    secondary: 'bg-gray-200 text-gray-800 hover:bg-gray-300 focus:ring-gray-400',\r\n    danger: 'bg-red-600 text-white hover:bg-red-700 focus:ring-red-500',\r\n  };\r\n  \r\n  const sizeClasses = {\r\n      md: \"px-4 py-2 text-sm\",\r\n      sm: \"px-3 py-1.5 text-xs\",\r\n  }\r\n\r\n  return (\r\n    <button className={`${baseClasses} ${variantClasses[variant]} ${sizeClasses[size]} ${className}`} {...props}>\r\n      {children}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n"],"names":[],"mappings":";;;;;;AAQA,MAAM,SAAgC,CAAC,EAAE,QAAQ,EAAE,UAAU,SAAS,EAAE,OAAO,IAAI,EAAE,SAAS,EAAE,GAAG,OAAO;IACxG,MAAM,cAAc;IAEpB,MAAM,iBAAiB;QACrB,SAAS;QACT,WAAW;QACX,QAAQ;IACV;IAEA,MAAM,cAAc;QAChB,IAAI;QACJ,IAAI;IACR;IAEA,qBACE,8OAAC;QAAO,WAAW,GAAG,YAAY,CAAC,EAAE,cAAc,CAAC,QAAQ,CAAC,CAAC,EAAE,WAAW,CAAC,KAAK,CAAC,CAAC,EAAE,WAAW;QAAG,GAAG,KAAK;kBACxG;;;;;;AAGP;uCAEe"}},
    {"offset": {"line": 50, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/josep/VSCODEprojects/Temple/Temple4/app/components/ui/Modal.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/components/ui/Modal.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/components/ui/Modal.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA+R,GAC5T,6DACA","ignoreList":[0]}},
    {"offset": {"line": 64, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/josep/VSCODEprojects/Temple/Temple4/app/components/ui/Modal.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/components/ui/Modal.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/components/ui/Modal.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA2Q,GACxS,yCACA","ignoreList":[0]}},
    {"offset": {"line": 78, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 86, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/josep/VSCODEprojects/Temple/Temple4/app/components/ui/Input.tsx"],"sourcesContent":["import React from 'react';\r\n\r\ninterface InputProps extends React.InputHTMLAttributes<HTMLInputElement> {\r\n  label: string;\r\n  containerClassName?: string;\r\n}\r\n\r\nconst Input: React.FC<InputProps> = ({ label, id, containerClassName, ...props }) => {\r\n  return (\r\n    <div className={containerClassName}>\r\n      <label htmlFor={id} className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n        {label}\r\n      </label>\r\n      <input\r\n        id={id}\r\n        className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-amber-500 focus:border-amber-500 sm:text-sm bg-white text-gray-900 placeholder:text-gray-400\"\r\n        {...props}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Input;"],"names":[],"mappings":";;;;;;AAOA,MAAM,QAA8B,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,kBAAkB,EAAE,GAAG,OAAO;IAC9E,qBACE,8OAAC;QAAI,WAAW;;0BACd,8OAAC;gBAAM,SAAS;gBAAI,WAAU;0BAC3B;;;;;;0BAEH,8OAAC;gBACC,IAAI;gBACJ,WAAU;gBACT,GAAG,KAAK;;;;;;;;;;;;AAIjB;uCAEe"}},
    {"offset": {"line": 126, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/josep/VSCODEprojects/Temple/Temple4/app/components/tenant/forms/ResourceForm.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport type { ResourceItem } from '../../../types';\r\nimport { FileType, ResourceVisibility } from '../../../types';\r\nimport Input from '../../ui/Input';\r\nimport Button from '../../ui/Button';\r\n\r\ninterface ResourceFormProps {\r\n  onSubmit: (data: Omit<ResourceItem, 'id' | 'createdAt' | 'tenantId' | 'uploaderUserId'>) => void;\r\n  onCancel: () => void;\r\n}\r\n\r\nconst ResourceForm: React.FC<ResourceFormProps> = ({ onSubmit, onCancel }) => {\r\n  const [title, setTitle] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const [fileUrl, setFileUrl] = useState('');\r\n  const [fileType, setFileType] = useState<FileType>(FileType.PDF);\r\n  const [visibility, setVisibility] = useState<ResourceVisibility>(ResourceVisibility.MEMBERS_ONLY);\r\n\r\n  const handleSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!title || !fileUrl) {\r\n      alert('Please fill out the Title and File URL fields.');\r\n      return;\r\n    }\r\n    onSubmit({ title, description, fileUrl, fileType, visibility });\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n      <Input\r\n        label=\"Title\"\r\n        id=\"title\"\r\n        name=\"title\"\r\n        value={title}\r\n        onChange={(e) => setTitle(e.target.value)}\r\n        required\r\n      />\r\n      <div>\r\n        <label htmlFor=\"description\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n          Description\r\n        </label>\r\n        <textarea\r\n          id=\"description\"\r\n          name=\"description\"\r\n          rows={3}\r\n          className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-amber-500 focus:border-amber-500 sm:text-sm bg-white text-gray-900\"\r\n          value={description}\r\n          onChange={(e) => setDescription(e.target.value)}\r\n        />\r\n      </div>\r\n       <Input\r\n        label=\"File URL (mock)\"\r\n        id=\"fileUrl\"\r\n        name=\"fileUrl\"\r\n        type=\"url\"\r\n        value={fileUrl}\r\n        onChange={(e) => setFileUrl(e.target.value)}\r\n        required\r\n        placeholder=\"https://example.com/file.pdf\"\r\n      />\r\n       <div>\r\n        <label htmlFor=\"fileType\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n          File Type\r\n        </label>\r\n        <select\r\n          id=\"fileType\"\r\n          name=\"fileType\"\r\n          className=\"w-full pl-3 pr-10 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-amber-500 focus:border-amber-500 sm:text-sm bg-white text-gray-900\"\r\n          value={fileType}\r\n          onChange={(e) => setFileType(e.target.value as FileType)}\r\n        >\r\n          {Object.values(FileType).map(type => (\r\n            <option key={type} value={type}>{type}</option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n      <div>\r\n        <label className=\"block text-sm font-medium text-gray-700 mb-2\">Visibility</label>\r\n        <div className=\"flex space-x-4\">\r\n            <label className=\"flex items-center space-x-2\">\r\n                <input type=\"radio\" name=\"visibility\" value={ResourceVisibility.MEMBERS_ONLY} checked={visibility === ResourceVisibility.MEMBERS_ONLY} onChange={() => setVisibility(ResourceVisibility.MEMBERS_ONLY)} className=\"h-4 w-4 text-amber-600 border-gray-300 focus:ring-amber-500\" />\r\n                <span>Members Only</span>\r\n            </label>\r\n             <label className=\"flex items-center space-x-2\">\r\n                <input type=\"radio\" name=\"visibility\" value={ResourceVisibility.PUBLIC} checked={visibility === ResourceVisibility.PUBLIC} onChange={() => setVisibility(ResourceVisibility.PUBLIC)} className=\"h-4 w-4 text-amber-600 border-gray-300 focus:ring-amber-500\" />\r\n                <span>Public</span>\r\n            </label>\r\n        </div>\r\n      </div>\r\n      <div className=\"flex justify-end items-center space-x-4 pt-4 border-t border-gray-200\">\r\n        <Button type=\"button\" variant=\"secondary\" onClick={onCancel}>\r\n          Cancel\r\n        </Button>\r\n        <Button type=\"submit\">\r\n          Save Resource\r\n        </Button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default ResourceForm;"],"names":[],"mappings":";;;;;AAAA;;;;;;AAGA;AACA;;;;;;AAOA,MAAM,eAA4C,CAAC,EAAE,QAAQ,EAAE,QAAQ,EAAE;IACvE,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IACnC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAC/C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAW,SAAS,GAAG;IAC/D,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAqB,mBAAmB,YAAY;IAEhG,MAAM,eAAe,CAAC;QACpB,EAAE,cAAc;QAChB,IAAI,CAAC,SAAS,CAAC,SAAS;YACtB,MAAM;YACN;QACF;QACA,SAAS;YAAE;YAAO;YAAa;YAAS;YAAU;QAAW;IAC/D;IAEA,qBACE,8OAAC;QAAK,UAAU;QAAc,WAAU;;0BACtC,8OAAC,4IAAK;gBACJ,OAAM;gBACN,IAAG;gBACH,MAAK;gBACL,OAAO;gBACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;gBACxC,QAAQ;;;;;;0BAEV,8OAAC;;kCACC,8OAAC;wBAAM,SAAQ;wBAAc,WAAU;kCAA+C;;;;;;kCAGtF,8OAAC;wBACC,IAAG;wBACH,MAAK;wBACL,MAAM;wBACN,WAAU;wBACV,OAAO;wBACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;0BAGjD,8OAAC,4IAAK;gBACL,OAAM;gBACN,IAAG;gBACH,MAAK;gBACL,MAAK;gBACL,OAAO;gBACP,UAAU,CAAC,IAAM,WAAW,EAAE,MAAM,CAAC,KAAK;gBAC1C,QAAQ;gBACR,aAAY;;;;;;0BAEb,8OAAC;;kCACA,8OAAC;wBAAM,SAAQ;wBAAW,WAAU;kCAA+C;;;;;;kCAGnF,8OAAC;wBACC,IAAG;wBACH,MAAK;wBACL,WAAU;wBACV,OAAO;wBACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;kCAE1C,OAAO,MAAM,CAAC,UAAU,GAAG,CAAC,CAAA,qBAC3B,8OAAC;gCAAkB,OAAO;0CAAO;+BAApB;;;;;;;;;;;;;;;;0BAInB,8OAAC;;kCACC,8OAAC;wBAAM,WAAU;kCAA+C;;;;;;kCAChE,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAM,WAAU;;kDACb,8OAAC;wCAAM,MAAK;wCAAQ,MAAK;wCAAa,OAAO,mBAAmB,YAAY;wCAAE,SAAS,eAAe,mBAAmB,YAAY;wCAAE,UAAU,IAAM,cAAc,mBAAmB,YAAY;wCAAG,WAAU;;;;;;kDACjN,8OAAC;kDAAK;;;;;;;;;;;;0CAET,8OAAC;gCAAM,WAAU;;kDACd,8OAAC;wCAAM,MAAK;wCAAQ,MAAK;wCAAa,OAAO,mBAAmB,MAAM;wCAAE,SAAS,eAAe,mBAAmB,MAAM;wCAAE,UAAU,IAAM,cAAc,mBAAmB,MAAM;wCAAG,WAAU;;;;;;kDAC/L,8OAAC;kDAAK;;;;;;;;;;;;;;;;;;;;;;;;0BAIhB,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,6IAAM;wBAAC,MAAK;wBAAS,SAAQ;wBAAY,SAAS;kCAAU;;;;;;kCAG7D,8OAAC,6IAAM;wBAAC,MAAK;kCAAS;;;;;;;;;;;;;;;;;;AAM9B;uCAEe"}},
    {"offset": {"line": 379, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/josep/VSCODEprojects/Temple/Temple4/app/components/ui/Card.tsx"],"sourcesContent":["\r\nimport React from 'react';\r\n\r\ninterface CardProps {\r\n  children: React.ReactNode;\r\n  className?: string;\r\n  title?: string;\r\n  description?: string;\r\n}\r\n\r\nconst Card: React.FC<CardProps> = ({ children, className, title, description }) => {\r\n  return (\r\n    <div className={`bg-white shadow-md rounded-lg overflow-hidden ${className}`}>\r\n        {title && (\r\n            <div className=\"p-6 border-b border-gray-200\">\r\n                <h3 className=\"text-lg font-semibold leading-6 text-gray-900\">{title}</h3>\r\n                {description && <p className=\"mt-1 text-sm text-gray-500\">{description}</p>}\r\n            </div>\r\n        )}\r\n      <div className=\"p-6\">\r\n        {children}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n"],"names":[],"mappings":";;;;;;AAUA,MAAM,OAA4B,CAAC,EAAE,QAAQ,EAAE,SAAS,EAAE,KAAK,EAAE,WAAW,EAAE;IAC5E,qBACE,8OAAC;QAAI,WAAW,CAAC,8CAA8C,EAAE,WAAW;;YACvE,uBACG,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAG,WAAU;kCAAiD;;;;;;oBAC9D,6BAAe,8OAAC;wBAAE,WAAU;kCAA8B;;;;;;;;;;;;0BAGrE,8OAAC;gBAAI,WAAU;0BACZ;;;;;;;;;;;;AAIT;uCAEe"}},
    {"offset": {"line": 434, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/josep/VSCODEprojects/Temple/Temple4/app/components/tenant/ResourceItemCard.tsx"],"sourcesContent":["import React from 'react';\r\nimport type { EnrichedResourceItem, User, Tenant } from '../../types';\r\nimport { FileType, ResourceVisibility } from '../../types';\r\nimport { can } from '../../lib/permissions';\r\nimport { deleteResourceItem } from '../../../lib/data';\r\nimport Card from '../ui/Card';\r\nimport Button from '../ui/Button';\r\n\r\ninterface ResourceItemCardProps {\r\n  resource: EnrichedResourceItem;\r\n  currentUser: User;\r\n  tenant: Tenant;\r\n  onUpdate: () => void;\r\n}\r\n\r\nconst FileTypeIcon: React.FC<{ type: FileType }> = ({ type }) => {\r\n  // FIX: Changed `JSX.Element` to `React.ReactElement` to resolve the \"Cannot find namespace 'JSX'\" error by using the explicit type from the imported React module.\r\n  const iconMap: { [key in FileType]: React.ReactElement } = {\r\n    [FileType.PDF]: (\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-full w-full\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n        <path fillRule=\"evenodd\" d=\"M4 4a2 2 0 012-2h8a2 2 0 012 2v12a1 1 0 11-2 0V4H6a1 1 0 11-2 0V4zm4.586 4.586a1 1 0 00-1.414 0L6 9.757V14a1 1 0 001 1h6a1 1 0 001-1V9.757l-1.172-1.171a1 1 0 00-1.414 0L10 9.586 8.586 8.586z\" clipRule=\"evenodd\" />\r\n      </svg>\r\n    ),\r\n    [FileType.DOCX]: (\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-full w-full\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n        <path fillRule=\"evenodd\" d=\"M4 4a2 2 0 012-2h8a2 2 0 012 2v12a1 1 0 11-2 0V4H6a1 1 0 11-2 0V4zm1 6a1 1 0 011-1h6a1 1 0 110 2H6a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H6z\" clipRule=\"evenodd\" />\r\n      </svg>\r\n    ),\r\n    [FileType.MP3]: (\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-full w-full\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n        <path d=\"M18 3a1 1 0 00-1.196-.98l-10 2A1 1 0 006 5v9.114A4.369 4.369 0 005 14c-1.657 0-3 1.343-3 3s1.343 3 3 3 3-1.343 3-3V7.82l8-1.6v5.894A4.37 4.37 0 0015 12c-1.657 0-3 1.343-3 3s1.343 3 3 3 3-1.343 3-3V3z\" />\r\n      </svg>\r\n    ),\r\n    [FileType.JPG]: (\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-full w-full\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n        <path fillRule=\"evenodd\" d=\"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z\" clipRule=\"evenodd\" />\r\n      </svg>\r\n    ),\r\n    [FileType.PNG]: (\r\n       <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-full w-full\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n        <path fillRule=\"evenodd\" d=\"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z\" clipRule=\"evenodd\" />\r\n      </svg>\r\n    ),\r\n    [FileType.OTHER]: (\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-full w-full\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n        <path fillRule=\"evenodd\" d=\"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z\" clipRule=\"evenodd\" />\r\n      </svg>\r\n    ),\r\n  };\r\n  return iconMap[type] || iconMap[FileType.OTHER];\r\n};\r\n\r\nconst ResourceItemCard: React.FC<ResourceItemCardProps> = ({ resource, currentUser, tenant, onUpdate }) => {\r\n  const canManage = can(currentUser, tenant, 'canManageResources');\r\n\r\n  const handleDelete = () => {\r\n    if (window.confirm('Are you sure you want to delete this resource? This action cannot be undone.')) {\r\n      deleteResourceItem(resource.id, currentUser.id);\r\n      onUpdate();\r\n    }\r\n  };\r\n  \r\n  const iconBgColor = resource.visibility === ResourceVisibility.MEMBERS_ONLY ? 'bg-indigo-100 text-indigo-600' : 'bg-gray-100 text-gray-600';\r\n\r\n  return (\r\n    <Card className=\"!p-0 flex flex-col h-full\">\r\n      <div className=\"p-6 flex-grow flex flex-col\">\r\n        <div className=\"flex items-start space-x-4\">\r\n          <div className={`w-12 h-12 flex-shrink-0 rounded-lg p-2 ${iconBgColor}`}>\r\n            <FileTypeIcon type={resource.fileType} />\r\n          </div>\r\n          <div className=\"flex-1\">\r\n            <h3 className=\"text-lg font-semibold text-gray-900 line-clamp-2\">{resource.title}</h3>\r\n            {resource.visibility === ResourceVisibility.MEMBERS_ONLY && (\r\n              <span className=\"inline-flex items-center rounded-full bg-indigo-100 px-2.5 py-0.5 text-xs font-medium text-indigo-800 mt-1\">\r\n                Members Only\r\n              </span>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <p className=\"mt-4 text-sm text-gray-600 flex-grow line-clamp-3\">{resource.description}</p>\r\n      </div>\r\n      <div className=\"bg-gray-50 px-6 py-3 border-t border-gray-200\">\r\n        <div className=\"flex items-center justify-between text-xs text-gray-500\">\r\n          <span>{resource.uploaderDisplayName}</span>\r\n          <span>{resource.createdAt.toLocaleDateString()}</span>\r\n        </div>\r\n        <div className=\"mt-3 flex items-center space-x-2\">\r\n            <a href={resource.fileUrl} download className=\"w-full\">\r\n                <Button className=\"w-full\">Download</Button>\r\n            </a>\r\n            {canManage && (\r\n                <Button variant=\"danger\" size=\"sm\" onClick={handleDelete} className=\"!p-2.5\">\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                        <path fillRule=\"evenodd\" d=\"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 012 0v6a1 1 0 11-2 0V8z\" clipRule=\"evenodd\" />\r\n                    </svg>\r\n                </Button>\r\n            )}\r\n        </div>\r\n      </div>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default ResourceItemCard;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 752, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/josep/VSCODEprojects/Temple/Temple4/app/components/tenant/ResourceCenterPage.tsx"],"sourcesContent":["import React, { useState, useMemo } from 'react';\r\nimport type { Tenant, User, ResourceItem } from '../../types';\r\nimport { getResourceItemsForTenant, getMembershipForUserInTenant, addResourceItem } from '../../../lib/data';\r\nimport { can } from '../../lib/permissions';\r\nimport Button from '../ui/Button';\r\nimport Modal from '../ui/Modal';\r\nimport ResourceForm from './forms/ResourceForm';\r\nimport ResourceItemCard from './ResourceItemCard';\r\n\r\ninterface ResourceCenterPageProps {\r\n  tenant: Tenant;\r\n  user: User;\r\n  onRefresh: () => void;\r\n}\r\n\r\nconst ResourceCenterPage: React.FC<ResourceCenterPageProps> = ({ tenant, user, onRefresh }) => {\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  \r\n  const membership = useMemo(() => getMembershipForUserInTenant(user.id, tenant.id), [user.id, tenant.id]);\r\n  const isMember = membership?.status === 'APPROVED';\r\n  \r\n  const resources = useMemo(() => getResourceItemsForTenant(tenant.id, isMember), [tenant.id, isMember, onRefresh]);\r\n\r\n  const canUpload = can(user, tenant, 'canUploadResources');\r\n\r\n  const handleCreateResource = (data: Omit<ResourceItem, 'id' | 'createdAt' | 'tenantId' | 'uploaderUserId'>) => {\r\n    addResourceItem({\r\n      ...data,\r\n      tenantId: tenant.id,\r\n      uploaderUserId: user.id,\r\n    });\r\n    onRefresh();\r\n    setIsModalOpen(false);\r\n    alert('Resource uploaded successfully!');\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-8\">\r\n      <div className=\"flex justify-between items-center\">\r\n        <div>\r\n          <h2 className=\"text-2xl font-bold text-gray-900\">Resource Center</h2>\r\n          <p className=\"mt-1 text-sm text-gray-500\">\r\n            Downloadable files and resources from {tenant.name}.\r\n          </p>\r\n        </div>\r\n        {canUpload && (\r\n          <Button onClick={() => setIsModalOpen(true)}>+ Upload Resource</Button>\r\n        )}\r\n      </div>\r\n\r\n      {resources.length > 0 ? (\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n          {resources.map(resource => (\r\n            <ResourceItemCard key={resource.id} resource={resource} currentUser={user} tenant={tenant} onUpdate={onRefresh} />\r\n          ))}\r\n        </div>\r\n      ) : (\r\n        <div className=\"text-center bg-white p-12 rounded-lg shadow-sm\">\r\n          <h3 className=\"text-lg font-medium text-gray-900\">No Resources Available</h3>\r\n          <p className=\"mt-1 text-sm text-gray-500\">\r\n            There are no resources here yet. {canUpload ? 'Why not upload one?' : ''}\r\n          </p>\r\n        </div>\r\n      )}\r\n      \r\n      <Modal isOpen={isModalOpen} onClose={() => setIsModalOpen(false)} title=\"Upload a New Resource\">\r\n        <ResourceForm onSubmit={handleCreateResource} onCancel={() => setIsModalOpen(false)} />\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ResourceCenterPage;"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;;;AAEA;AACA;AACA;AACA;;;;;;;;;AAQA,MAAM,qBAAwD,CAAC,EAAE,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE;IACxF,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAE/C,MAAM,aAAa,IAAA,gNAAO,EAAC,IAAM,IAAA,2IAA4B,EAAC,KAAK,EAAE,EAAE,OAAO,EAAE,GAAG;QAAC,KAAK,EAAE;QAAE,OAAO,EAAE;KAAC;IACvG,MAAM,WAAW,YAAY,WAAW;IAExC,MAAM,YAAY,IAAA,gNAAO,EAAC,IAAM,IAAA,wIAAyB,EAAC,OAAO,EAAE,EAAE,WAAW;QAAC,OAAO,EAAE;QAAE;QAAU;KAAU;IAEhH,MAAM,YAAY,IAAI,MAAM,QAAQ;IAEpC,MAAM,uBAAuB,CAAC;QAC5B,IAAA,8HAAe,EAAC;YACd,GAAG,IAAI;YACP,UAAU,OAAO,EAAE;YACnB,gBAAgB,KAAK,EAAE;QACzB;QACA;QACA,eAAe;QACf,MAAM;IACR;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;;0CACC,8OAAC;gCAAG,WAAU;0CAAmC;;;;;;0CACjD,8OAAC;gCAAE,WAAU;;oCAA6B;oCACD,OAAO,IAAI;oCAAC;;;;;;;;;;;;;oBAGtD,2BACC,8OAAC,6IAAM;wBAAC,SAAS,IAAM,eAAe;kCAAO;;;;;;;;;;;;YAIhD,UAAU,MAAM,GAAG,kBAClB,8OAAC;gBAAI,WAAU;0BACZ,UAAU,GAAG,CAAC,CAAA,yBACb,8OAAC,2JAAgB;wBAAmB,UAAU;wBAAU,aAAa;wBAAM,QAAQ;wBAAQ,UAAU;uBAA9E,SAAS,EAAE;;;;;;;;;yEAItC,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAAoC;;;;;;kCAClD,8OAAC;wBAAE,WAAU;;4BAA6B;4BACN,YAAY,wBAAwB;;;;;;;;;;;;;0BAK5E,8OAAC,4IAAK;gBAAC,QAAQ;gBAAa,SAAS,IAAM,eAAe;gBAAQ,OAAM;0BACtE,cAAA,8OAAC,gKAAY;oBAAC,UAAU;oBAAsB,UAAU,IAAM,eAAe;;;;;;;;;;;;;;;;;AAIrF;uCAEe"}},
    {"offset": {"line": 920, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/josep/VSCODEprojects/Temple/Temple4/app/tenants/%5BtenantId%5D/resources/page.tsx"],"sourcesContent":["import { getServerSession } from 'next-auth/next';\r\nimport { authOptions } from '@/app/api/auth/[...nextauth]/route';\r\nimport { redirect } from 'next/navigation';\r\nimport { getTenantById, getUserById } from '@/lib/data';\r\nimport ResourceCenterPage from '@/app/components/tenant/ResourceCenterPage';\r\n\r\nexport default async function TenantResourcesPage({ params }: { params: Promise<{ tenantId: string }> }) {\r\n  const session = await getServerSession(authOptions);\r\n\r\n  if (!session || !session.user) {\r\n    redirect('/auth/login');\r\n  }\r\n\r\n  const resolvedParams = await params;\r\n  const tenant = await getTenantById(resolvedParams.tenantId);\r\n  const user = await getUserById((session.user as any).id);\r\n\r\n  if (!tenant || !user) {\r\n    redirect('/');\r\n  }\r\n\r\n  return <ResourceCenterPage tenant={tenant} user={user} />;\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAAA;AACA;AACA;;;;;;;AAEe,eAAe,oBAAoB,EAAE,MAAM,EAA6C;IACrG,MAAM,UAAU,MAAM,IAAA,iKAAgB,EAAC,gKAAW;IAElD,IAAI,CAAC,WAAW,CAAC,QAAQ,IAAI,EAAE;QAC7B,IAAA,iMAAQ,EAAC;IACX;IAEA,MAAM,iBAAiB,MAAM;IAC7B,MAAM,SAAS,MAAM,IAAA,4HAAa,EAAC,eAAe,QAAQ;IAC1D,MAAM,OAAO,MAAM,IAAA,0HAAW,EAAC,AAAC,QAAQ,IAAI,CAAS,EAAE;IAEvD,IAAI,CAAC,UAAU,CAAC,MAAM;QACpB,IAAA,iMAAQ,EAAC;IACX;IAEA,qBAAO,8OAAC,6JAAkB;QAAC,QAAQ;QAAQ,MAAM;;;;;;AACnD"}}]
}