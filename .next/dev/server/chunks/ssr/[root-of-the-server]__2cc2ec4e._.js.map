{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/josep/VSCODEprojects/Temple/Temple4/app/components/ui/Button.tsx"],"sourcesContent":["import React from 'react';\r\n\r\ninterface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\r\n  variant?: 'primary' | 'secondary' | 'danger';\r\n  size?: 'sm' | 'md';\r\n  children: React.ReactNode;\r\n}\r\n\r\nconst Button: React.FC<ButtonProps> = ({ children, variant = 'primary', size = 'md', className, ...props }) => {\r\n  const baseClasses = \"rounded-md font-semibold focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\";\r\n\r\n  const variantClasses = {\r\n    primary: 'bg-amber-600 text-white hover:bg-amber-700 focus:ring-amber-500',\r\n    secondary: 'bg-gray-200 text-gray-800 hover:bg-gray-300 focus:ring-gray-400',\r\n    danger: 'bg-red-600 text-white hover:bg-red-700 focus:ring-red-500',\r\n  };\r\n  \r\n  const sizeClasses = {\r\n      md: \"px-4 py-2 text-sm\",\r\n      sm: \"px-3 py-1.5 text-xs\",\r\n  }\r\n\r\n  return (\r\n    <button className={`${baseClasses} ${variantClasses[variant]} ${sizeClasses[size]} ${className}`} {...props}>\r\n      {children}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n"],"names":[],"mappings":";;;;;;AAQA,MAAM,SAAgC,CAAC,EAAE,QAAQ,EAAE,UAAU,SAAS,EAAE,OAAO,IAAI,EAAE,SAAS,EAAE,GAAG,OAAO;IACxG,MAAM,cAAc;IAEpB,MAAM,iBAAiB;QACrB,SAAS;QACT,WAAW;QACX,QAAQ;IACV;IAEA,MAAM,cAAc;QAChB,IAAI;QACJ,IAAI;IACR;IAEA,qBACE,8OAAC;QAAO,WAAW,GAAG,YAAY,CAAC,EAAE,cAAc,CAAC,QAAQ,CAAC,CAAC,EAAE,WAAW,CAAC,KAAK,CAAC,CAAC,EAAE,WAAW;QAAG,GAAG,KAAK;kBACxG;;;;;;AAGP;uCAEe"}},
    {"offset": {"line": 36, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/josep/VSCODEprojects/Temple/Temple4/app/components/ui/Card.tsx"],"sourcesContent":["\r\nimport React from 'react';\r\n\r\ninterface CardProps {\r\n  children: React.ReactNode;\r\n  className?: string;\r\n  title?: string;\r\n  description?: string;\r\n}\r\n\r\nconst Card: React.FC<CardProps> = ({ children, className, title, description }) => {\r\n  return (\r\n    <div className={`bg-white shadow-md rounded-lg overflow-hidden ${className}`}>\r\n        {title && (\r\n            <div className=\"p-6 border-b border-gray-200\">\r\n                <h3 className=\"text-lg font-semibold leading-6 text-gray-900\">{title}</h3>\r\n                {description && <p className=\"mt-1 text-sm text-gray-500\">{description}</p>}\r\n            </div>\r\n        )}\r\n      <div className=\"p-6\">\r\n        {children}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n"],"names":[],"mappings":";;;;;;AAUA,MAAM,OAA4B,CAAC,EAAE,QAAQ,EAAE,SAAS,EAAE,KAAK,EAAE,WAAW,EAAE;IAC5E,qBACE,8OAAC;QAAI,WAAW,CAAC,8CAA8C,EAAE,WAAW;;YACvE,uBACG,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAG,WAAU;kCAAiD;;;;;;oBAC9D,6BAAe,8OAAC;wBAAE,WAAU;kCAA8B;;;;;;;;;;;;0BAGrE,8OAAC;gBAAI,WAAU;0BACZ;;;;;;;;;;;;AAIT;uCAEe"}},
    {"offset": {"line": 91, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/josep/VSCODEprojects/Temple/Temple4/app/components/ui/Tabs.tsx"],"sourcesContent":["\r\nimport React from 'react';\r\n\r\ninterface TabsProps {\r\n  tabs: string[];\r\n  activeTab: string;\r\n  onTabClick: (tab: string) => void;\r\n}\r\n\r\nconst Tabs: React.FC<TabsProps> = ({ tabs, activeTab, onTabClick }) => {\r\n  return (\r\n    <div className=\"border-b border-gray-200\">\r\n      <nav className=\"-mb-px flex space-x-6 overflow-x-auto\" aria-label=\"Tabs\">\r\n        {tabs.map((tab) => (\r\n          <button\r\n            key={tab}\r\n            onClick={() => onTabClick(tab)}\r\n            className={`${\r\n              activeTab === tab\r\n                ? 'border-amber-500 text-amber-600'\r\n                : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\r\n            } whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`}\r\n            aria-current={activeTab === tab ? 'page' : undefined}\r\n          >\r\n            {tab}\r\n          </button>\r\n        ))}\r\n      </nav>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Tabs;\r\n"],"names":[],"mappings":";;;;;;AASA,MAAM,OAA4B,CAAC,EAAE,IAAI,EAAE,SAAS,EAAE,UAAU,EAAE;IAChE,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;YAAwC,cAAW;sBAC/D,KAAK,GAAG,CAAC,CAAC,oBACT,8OAAC;oBAEC,SAAS,IAAM,WAAW;oBAC1B,WAAW,GACT,cAAc,MACV,oCACA,6EACL,2DAA2D,CAAC;oBAC7D,gBAAc,cAAc,MAAM,SAAS;8BAE1C;mBATI;;;;;;;;;;;;;;;AAejB;uCAEe"}},
    {"offset": {"line": 129, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/josep/VSCODEprojects/Temple/Temple4/app/components/ui/Input.tsx"],"sourcesContent":["import React from 'react';\r\n\r\ninterface InputProps extends React.InputHTMLAttributes<HTMLInputElement> {\r\n  label: string;\r\n  containerClassName?: string;\r\n}\r\n\r\nconst Input: React.FC<InputProps> = ({ label, id, containerClassName, ...props }) => {\r\n  return (\r\n    <div className={containerClassName}>\r\n      <label htmlFor={id} className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n        {label}\r\n      </label>\r\n      <input\r\n        id={id}\r\n        className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-amber-500 focus:border-amber-500 sm:text-sm bg-white text-gray-900 placeholder:text-gray-400\"\r\n        {...props}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Input;"],"names":[],"mappings":";;;;;;AAOA,MAAM,QAA8B,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,kBAAkB,EAAE,GAAG,OAAO;IAC9E,qBACE,8OAAC;QAAI,WAAW;;0BACd,8OAAC;gBAAM,SAAS;gBAAI,WAAU;0BAC3B;;;;;;0BAEH,8OAAC;gBACC,IAAI;gBACJ,WAAU;gBACT,GAAG,KAAK;;;;;;;;;;;;AAIjB;uCAEe"}},
    {"offset": {"line": 169, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/josep/VSCODEprojects/Temple/Temple4/app/components/account/ProfileSettingsTab.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState } from 'react';\r\nimport type { UserProfile } from '@prisma/client';\r\nimport Input from '../ui/Input';\r\nimport Button from '../ui/Button';\r\n\r\ninterface ProfileSettingsTabProps {\r\n  profile: UserProfile;\r\n  onUpdate: (profile: UserProfile) => void;\r\n}\r\n\r\nconst ProfileSettingsTab: React.FC<ProfileSettingsTabProps> = ({ profile: initialProfile, onUpdate }) => {\r\n  const [profile, setProfile] = useState<UserProfile>(initialProfile);\r\n\r\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\r\n    const { name, value } = e.target;\r\n    setProfile(prev => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleLanguagesChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setProfile(prev => ({ ...prev, languages: e.target.value }));\r\n  };\r\n\r\n  const handleSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    onUpdate(profile);\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className=\"space-y-8\">\r\n      <div>\r\n        <h3 className=\"text-lg font-medium leading-6 text-gray-900\">Personal Information</h3>\r\n        <p className=\"mt-1 text-sm text-gray-500\">This information will be displayed on your public profile.</p>\r\n      </div>\r\n      <div className=\"space-y-6\">\r\n        <Input \r\n          label=\"Display Name\" \r\n          id=\"displayName\" \r\n          name=\"displayName\" \r\n          value={profile.displayName} \r\n          onChange={handleInputChange} \r\n          required \r\n        />\r\n        <Input \r\n          label=\"Avatar URL\" \r\n          id=\"avatarUrl\" \r\n          name=\"avatarUrl\" \r\n          type=\"url\"\r\n          value={profile.avatarUrl || ''} \r\n          onChange={handleInputChange} \r\n        />\r\n        <div>\r\n          <label htmlFor=\"bio\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n            Bio\r\n          </label>\r\n          <textarea\r\n            id=\"bio\"\r\n            name=\"bio\"\r\n            rows={4}\r\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-amber-500 focus:border-amber-500 sm:text-sm bg-white text-gray-900\"\r\n            value={profile.bio || ''}\r\n            onChange={handleInputChange}\r\n          />\r\n        </div>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n          <Input \r\n            label=\"City\" \r\n            id=\"locationCity\" \r\n            name=\"locationCity\" \r\n            value={profile.locationCity || ''} \r\n            onChange={handleInputChange} \r\n          />\r\n          <Input \r\n            label=\"Country\" \r\n            id=\"locationCountry\" \r\n            name=\"locationCountry\" \r\n            value={profile.locationCountry || ''} \r\n            onChange={handleInputChange} \r\n          />\r\n        </div>\r\n        <Input \r\n          label=\"Languages\" \r\n          id=\"languages\" \r\n          name=\"languages\" \r\n          value={profile.languages || ''} \r\n          onChange={handleLanguagesChange} \r\n          placeholder=\"e.g., English, Spanish, German\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"text-right border-t border-gray-200 pt-6\">\r\n        <Button type=\"submit\">Save Changes</Button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default ProfileSettingsTab;\r\n"],"names":[],"mappings":";;;;;AAEA;AAEA;AACA;AALA;;;;;AAYA,MAAM,qBAAwD,CAAC,EAAE,SAAS,cAAc,EAAE,QAAQ,EAAE;IAClG,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAc;IAEpD,MAAM,oBAAoB,CAAC;QACzB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,EAAE,MAAM;QAChC,WAAW,CAAA,OAAQ,CAAC;gBAAE,GAAG,IAAI;gBAAE,CAAC,KAAK,EAAE;YAAM,CAAC;IAChD;IAEA,MAAM,wBAAwB,CAAC;QAC7B,WAAW,CAAA,OAAQ,CAAC;gBAAE,GAAG,IAAI;gBAAE,WAAW,EAAE,MAAM,CAAC,KAAK;YAAC,CAAC;IAC5D;IAEA,MAAM,eAAe,CAAC;QACpB,EAAE,cAAc;QAChB,SAAS;IACX;IAEA,qBACE,8OAAC;QAAK,UAAU;QAAc,WAAU;;0BACtC,8OAAC;;kCACC,8OAAC;wBAAG,WAAU;kCAA8C;;;;;;kCAC5D,8OAAC;wBAAE,WAAU;kCAA6B;;;;;;;;;;;;0BAE5C,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,4IAAK;wBACJ,OAAM;wBACN,IAAG;wBACH,MAAK;wBACL,OAAO,QAAQ,WAAW;wBAC1B,UAAU;wBACV,QAAQ;;;;;;kCAEV,8OAAC,4IAAK;wBACJ,OAAM;wBACN,IAAG;wBACH,MAAK;wBACL,MAAK;wBACL,OAAO,QAAQ,SAAS,IAAI;wBAC5B,UAAU;;;;;;kCAEZ,8OAAC;;0CACC,8OAAC;gCAAM,SAAQ;gCAAM,WAAU;0CAA+C;;;;;;0CAG9E,8OAAC;gCACC,IAAG;gCACH,MAAK;gCACL,MAAM;gCACN,WAAU;gCACV,OAAO,QAAQ,GAAG,IAAI;gCACtB,UAAU;;;;;;;;;;;;kCAGd,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,4IAAK;gCACJ,OAAM;gCACN,IAAG;gCACH,MAAK;gCACL,OAAO,QAAQ,YAAY,IAAI;gCAC/B,UAAU;;;;;;0CAEZ,8OAAC,4IAAK;gCACJ,OAAM;gCACN,IAAG;gCACH,MAAK;gCACL,OAAO,QAAQ,eAAe,IAAI;gCAClC,UAAU;;;;;;;;;;;;kCAGd,8OAAC,4IAAK;wBACJ,OAAM;wBACN,IAAG;wBACH,MAAK;wBACL,OAAO,QAAQ,SAAS,IAAI;wBAC5B,UAAU;wBACV,aAAY;;;;;;;;;;;;0BAIhB,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC,6IAAM;oBAAC,MAAK;8BAAS;;;;;;;;;;;;;;;;;AAI9B;uCAEe"}},
    {"offset": {"line": 361, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/josep/VSCODEprojects/Temple/Temple4/app/components/ui/ToggleSwitch.tsx"],"sourcesContent":["\r\nimport React from 'react';\r\n\r\ninterface ToggleSwitchProps {\r\n  label: string;\r\n  enabled: boolean;\r\n  onChange: (enabled: boolean) => void;\r\n  description?: string;\r\n}\r\n\r\nconst ToggleSwitch: React.FC<ToggleSwitchProps> = ({ label, enabled, onChange, description }) => {\r\n  return (\r\n    <div className=\"flex items-center justify-between\">\r\n      <span className=\"flex-grow flex flex-col\">\r\n        <span className=\"text-sm font-medium text-gray-900\">{label}</span>\r\n        {description && <span className=\"text-sm text-gray-500\">{description}</span>}\r\n      </span>\r\n      <button\r\n        type=\"button\"\r\n        className={`${\r\n          enabled ? 'bg-amber-600' : 'bg-gray-200'\r\n        } relative inline-flex flex-shrink-0 h-6 w-11 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-amber-500`}\r\n        role=\"switch\"\r\n        aria-checked={enabled}\r\n        onClick={() => onChange(!enabled)}\r\n      >\r\n        <span\r\n          aria-hidden=\"true\"\r\n          className={`${\r\n            enabled ? 'translate-x-5' : 'translate-x-0'\r\n          } pointer-events-none inline-block h-5 w-5 rounded-full bg-white shadow transform ring-0 transition ease-in-out duration-200`}\r\n        />\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ToggleSwitch;\r\n"],"names":[],"mappings":";;;;;;AAUA,MAAM,eAA4C,CAAC,EAAE,KAAK,EAAE,OAAO,EAAE,QAAQ,EAAE,WAAW,EAAE;IAC1F,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAK,WAAU;;kCACd,8OAAC;wBAAK,WAAU;kCAAqC;;;;;;oBACpD,6BAAe,8OAAC;wBAAK,WAAU;kCAAyB;;;;;;;;;;;;0BAE3D,8OAAC;gBACC,MAAK;gBACL,WAAW,GACT,UAAU,iBAAiB,cAC5B,wNAAwN,CAAC;gBAC1N,MAAK;gBACL,gBAAc;gBACd,SAAS,IAAM,SAAS,CAAC;0BAEzB,cAAA,8OAAC;oBACC,eAAY;oBACZ,WAAW,GACT,UAAU,kBAAkB,gBAC7B,2HAA2H,CAAC;;;;;;;;;;;;;;;;;AAKvI;uCAEe"}},
    {"offset": {"line": 427, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/josep/VSCODEprojects/Temple/Temple4/app/components/account/PrivacySettingsTab.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState } from 'react';\r\nimport type { UserPrivacySettings } from '@prisma/client';\r\nimport Button from '../ui/Button';\r\nimport ToggleSwitch from '../ui/ToggleSwitch';\r\n\r\ninterface PrivacySettingsTabProps {\r\n  settings: UserPrivacySettings;\r\n  onUpdate: (settings: UserPrivacySettings) => void;\r\n}\r\n\r\nconst PrivacySettingsTab: React.FC<PrivacySettingsTabProps> = ({ settings: initialSettings, onUpdate }) => {\r\n  const [settings, setSettings] = useState<UserPrivacySettings>(initialSettings);\r\n\r\n  const handleToggleChange = (key: keyof UserPrivacySettings, value: boolean) => {\r\n    setSettings(prev => ({ ...prev, [key]: value }));\r\n  };\r\n\r\n  const handleSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    onUpdate(settings);\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className=\"space-y-8\">\r\n      <div>\r\n        <h3 className=\"text-lg font-medium leading-6 text-gray-900\">Privacy Settings</h3>\r\n        <p className=\"mt-1 text-sm text-gray-500\">Control what information you share on the platform.</p>\r\n      </div>\r\n      \r\n      <div className=\"space-y-4\">\r\n        <ToggleSwitch\r\n          label=\"Show Temple Affiliations\"\r\n          description=\"Allow others to see the list of temples you are a member of on your profile.\"\r\n          enabled={settings.showAffiliations}\r\n          onChange={(enabled) => handleToggleChange('showAffiliations', enabled)}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"text-right border-t border-gray-200 pt-6\">\r\n        <Button type=\"submit\">Save Changes</Button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default PrivacySettingsTab;"],"names":[],"mappings":";;;;;AAEA;AAEA;AACA;AALA;;;;;AAYA,MAAM,qBAAwD,CAAC,EAAE,UAAU,eAAe,EAAE,QAAQ,EAAE;IACpG,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAsB;IAE9D,MAAM,qBAAqB,CAAC,KAAgC;QAC1D,YAAY,CAAA,OAAQ,CAAC;gBAAE,GAAG,IAAI;gBAAE,CAAC,IAAI,EAAE;YAAM,CAAC;IAChD;IAEA,MAAM,eAAe,CAAC;QACpB,EAAE,cAAc;QAChB,SAAS;IACX;IAEA,qBACE,8OAAC;QAAK,UAAU;QAAc,WAAU;;0BACtC,8OAAC;;kCACC,8OAAC;wBAAG,WAAU;kCAA8C;;;;;;kCAC5D,8OAAC;wBAAE,WAAU;kCAA6B;;;;;;;;;;;;0BAG5C,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC,mJAAY;oBACX,OAAM;oBACN,aAAY;oBACZ,SAAS,SAAS,gBAAgB;oBAClC,UAAU,CAAC,UAAY,mBAAmB,oBAAoB;;;;;;;;;;;0BAIlE,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC,6IAAM;oBAAC,MAAK;8BAAS;;;;;;;;;;;;;;;;;AAI9B;uCAEe"}},
    {"offset": {"line": 530, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/josep/VSCODEprojects/Temple/Temple4/lib/db.ts"],"sourcesContent":["import { PrismaClient } from '@prisma/client';\r\n\r\ndeclare global {\r\n  // allow global `var` declarations\r\n  // eslint-disable-next-line no-var\r\n  var prisma: PrismaClient | undefined;\r\n}\r\n\r\nexport const prisma =\r\n  globalThis.prisma ||\r\n  new PrismaClient();\r\n\r\nif (process.env.NODE_ENV !== 'production') globalThis.prisma = prisma;\r\n"],"names":[],"mappings":";;;;AAAA;;AAQO,MAAM,SACX,WAAW,MAAM,IACjB,IAAI,6IAAY;AAElB,wCAA2C,WAAW,MAAM,GAAG"}},
    {"offset": {"line": 548, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/josep/VSCODEprojects/Temple/Temple4/lib/data.ts"],"sourcesContent":["import { prisma } from './db';\r\nimport { Tenant, User, Post, Event, UserTenantMembership, Notification, AuditLog, Conversation, TenantRole, MembershipStatus, TenantSettings, TenantBranding } from '@prisma/client';\r\nimport bcrypt from 'bcryptjs';\r\n\r\ntype TenantWithDetails = Tenant & {\r\n    settings: TenantSettings | null;\r\n    branding: TenantBranding | null;\r\n};\r\n\r\nexport async function getTenantsForUser(userId: string): Promise<Tenant[]> {\r\n  const memberships = await prisma.userTenantMembership.findMany({\r\n    where: {\r\n      userId: userId,\r\n      status: 'APPROVED',\r\n    },\r\n    include: {\r\n      tenant: true,\r\n    },\r\n  });\r\n\r\n  return memberships.map((membership: { tenant: Tenant; }) => membership.tenant);\r\n}\r\n\r\nexport async function getTenantById(tenantId: string) {\r\n  return await prisma.tenant.findUnique({\r\n    where: { id: tenantId },\r\n    include: {\r\n      settings: true,\r\n      branding: true,\r\n    },\r\n  });\r\n}\r\n\r\nexport async function getUserById(userId: string) {\r\n  return await prisma.user.findUnique({\r\n    where: { id: userId },\r\n    include: {\r\n      profile: true,\r\n      privacySettings: true,\r\n      accountSettings: true,\r\n    },\r\n  });\r\n}\r\n\r\nexport async function getTenants(): Promise<Tenant[]> {\r\n    const tenants = await prisma.tenant.findMany({\r\n        include: {\r\n            settings: true,\r\n            branding: true,\r\n        }\r\n    });\r\n    \r\n    // Transform Prisma data to match Tenant interface with nested address\r\n    return tenants.map(tenant => ({\r\n        ...tenant,\r\n        address: {\r\n            street: tenant.street,\r\n            city: tenant.city,\r\n            state: tenant.state,\r\n            country: tenant.country,\r\n            postalCode: tenant.postalCode,\r\n        },\r\n        settings: tenant.settings || {\r\n            isPublic: true,\r\n            allowMemberDirectory: true,\r\n            allowEvents: true,\r\n            allowDonations: true,\r\n            allowSmallGroups: true,\r\n            allowMessaging: true,\r\n        },\r\n        branding: tenant.branding || {\r\n            logoUrl: '',\r\n            bannerImageUrl: '',\r\n            primaryColor: '#d97706',\r\n            accentColor: '#92400e',\r\n        },\r\n        permissions: tenant.permissions as any || {},\r\n    })) as Tenant[];\r\n}\r\n\r\nexport async function getEventsForTenant(tenantId: string): Promise<Event[]> {\r\n  return await prisma.event.findMany({\r\n    where: { tenantId },\r\n    orderBy: { startDateTime: 'asc' },\r\n  });\r\n}\r\n\r\nexport async function getPostsForTenant(tenantId: string): Promise<Post[]> {\r\n  return await prisma.post.findMany({\r\n    where: { tenantId, isPublished: true },\r\n    orderBy: { publishedAt: 'desc' },\r\n    include: {\r\n      author: {\r\n        include: {\r\n          profile: true,\r\n        }\r\n      }\r\n    }\r\n  });\r\n}\r\n\r\nexport async function getMembershipForUserInTenant(userId: string, tenantId: string): Promise<UserTenantMembership | null> {\r\n  return await prisma.userTenantMembership.findUnique({\r\n    where: {\r\n      userId_tenantId: {\r\n        userId,\r\n        tenantId,\r\n      }\r\n    },\r\n  });\r\n}\r\n\r\nexport async function getNotificationsForUser(userId: string): Promise<Notification[]> {\r\n    return await prisma.notification.findMany({\r\n        where: { userId },\r\n        orderBy: { createdAt: 'desc' },\r\n    });\r\n}\r\n\r\nexport async function markNotificationAsRead(notificationId: string): Promise<Notification> {\r\n    return await prisma.notification.update({\r\n        where: { id: notificationId },\r\n        data: { isRead: true },\r\n    });\r\n}\r\n\r\nexport async function markAllNotificationsAsRead(userId: string) {\r\n    return await prisma.notification.updateMany({\r\n        where: { userId },\r\n        data: { isRead: true },\r\n    });\r\n}\r\n\r\nexport async function getUserByEmail(email: string) {\r\n    return await prisma.user.findUnique({\r\n        where: { email },\r\n        include: {\r\n            profile: true,\r\n            privacySettings: true,\r\n            accountSettings: true,\r\n        },\r\n    });\r\n}\r\n\r\nexport async function registerUser(displayName: string, email: string, pass: string) {\r\n    const existingUser = await getUserByEmail(email);\r\n    if (existingUser) {\r\n        return { success: false, message: 'User with this email already exists.' };\r\n    }\r\n    const hashedPassword = await bcrypt.hash(pass, 10);\r\n    const user = await prisma.user.create({\r\n        data: {\r\n            email,\r\n            password: hashedPassword,\r\n            profile: {\r\n                create: {\r\n                    displayName,\r\n                },\r\n            },\r\n            accountSettings: { create: {} },\r\n            privacySettings: { create: {} },\r\n        },\r\n        include: {\r\n            profile: true,\r\n            privacySettings: true,\r\n            accountSettings: true,\r\n        }\r\n    });\r\n    return { success: true, user };\r\n}\r\n\r\nexport async function createTenant(tenantDetails: Omit<Tenant, 'id' | 'slug' | 'permissions'>, ownerId: string): Promise<Tenant> {\r\n    const tenant = await prisma.tenant.create({\r\n        data: {\r\n            ...tenantDetails,\r\n            slug: tenantDetails.name.toLowerCase().replace(/ /g, '-'),\r\n            memberships: {\r\n                create: {\r\n                    userId: ownerId,\r\n                    roles: {\r\n                        create: {\r\n                            role: TenantRole.ADMIN,\r\n                        }\r\n                    },\r\n                    status: MembershipStatus.APPROVED,\r\n                }\r\n            },\r\n            settings: { \r\n                create: {\r\n                    isPublic: false,\r\n                    membershipApprovalMode: 'APPROVAL_REQUIRED',\r\n                    enableCalendar: true,\r\n                    enablePosts: true,\r\n                    enableSermons: true,\r\n                    enablePodcasts: true,\r\n                    enableBooks: true,\r\n                    enableDonations: true,\r\n                    enableVolunteering: true,\r\n                    enableSmallGroups: true,\r\n                    enableLiveStream: true,\r\n                    enablePrayerWall: true,\r\n                    enableResourceCenter: true,\r\n                    visitorVisibility: {},\r\n                    donationSettings: {},\r\n                    liveStreamSettings: {},\r\n                } \r\n            },\r\n            branding: { \r\n                create: {\r\n                    logoUrl: '',\r\n                    bannerImageUrl: '',\r\n                    primaryColor: '#000000',\r\n                    accentColor: '#FFFFFF',\r\n                    customLinks: [],\r\n                } \r\n            },\r\n        }\r\n    });\r\n    return tenant;\r\n}\r\n\r\nexport async function updateTenant(tenant: Partial<TenantWithDetails>): Promise<Tenant> {\r\n    const { id, settings, branding, ...data } = tenant;\r\n    \r\n    const updateData: any = { ...data };\r\n\r\n    if (settings) {\r\n        const { id: settingsId, tenantId: settingsTenantId, ...restOfSettings } = settings;\r\n        updateData.settings = {\r\n            update: {\r\n                ...restOfSettings,\r\n                visitorVisibility: restOfSettings.visitorVisibility || undefined,\r\n                donationSettings: restOfSettings.donationSettings || undefined,\r\n                liveStreamSettings: restOfSettings.liveStreamSettings || undefined,\r\n            }\r\n        };\r\n    }\r\n\r\n    if (branding) {\r\n        const { id: brandingId, tenantId: brandingTenantId, ...restOfBranding } = branding;\r\n        updateData.branding = {\r\n            update: {\r\n                ...restOfBranding,\r\n                customLinks: restOfBranding.customLinks || undefined,\r\n            }\r\n        };\r\n    }\r\n\r\n    return await prisma.tenant.update({\r\n        where: { id },\r\n        data: updateData,\r\n    });\r\n}\r\n\r\nexport async function requestToJoinTenant(userId: string, tenantId: string): Promise<UserTenantMembership> {\r\n    const existingMembership = await getMembershipForUserInTenant(userId, tenantId);\r\nif (existingMembership) {\r\n        return existingMembership;\r\n    }\r\n    return await prisma.userTenantMembership.create({\r\n        data: {\r\n            userId,\r\n            tenantId,\r\n            roles: {\r\n                create: {\r\n                    role: TenantRole.MEMBER,\r\n                }\r\n            },\r\n            status: MembershipStatus.PENDING,\r\n        }\r\n    });\r\n}\r\n\r\n// NOTE: These are not secure and are for demonstration only.\r\n// In a real app, you'd use secure tokens and a proper reset flow.\r\nexport async function requestPasswordReset(email: string): Promise<boolean> {\r\n    const user = await getUserByEmail(email);\r\n    if (!user) return false;\r\n    // In a real app, generate a token, save it, and email a link.\r\n    console.log(`Password reset requested for ${email}. In this demo, we'll just allow a direct reset.`);\r\n    return true;\r\n}\r\n\r\nexport async function resetPassword(email: string, newPass: string) {\r\n    const user = await getUserByEmail(email);\r\n    if (!user) return { success: false, message: \"User not found.\" };\r\n    const hashedPassword = await bcrypt.hash(newPass, 10);\r\n    await prisma.user.update({\r\n        where: { email },\r\n        data: { password: hashedPassword },\r\n    });\r\n    return { success: true };\r\n}\r\n\r\nexport async function logAuditEvent(event: Omit<AuditLog, 'id' | 'createdAt'>): Promise<AuditLog> {\r\n    return await prisma.auditLog.create({\r\n        data: {\r\n            ...event,\r\n            metadata: event.metadata || {},\r\n        },\r\n    });\r\n}\r\n\r\nexport async function getOrCreateDirectConversation(userId1: string, userId2: string): Promise<Conversation> {\r\n    const existing = await prisma.conversation.findFirst({\r\n        where: {\r\n            isDirectMessage: true,\r\n            participants: {\r\n                every: {\r\n                    userId: { in: [userId1, userId2] }\r\n                }\r\n            }\r\n        },\r\n        include: { participants: true }\r\n    });\r\n\r\n    if (existing) return existing;\r\n\r\n    return await prisma.conversation.create({\r\n        data: {\r\n            isDirectMessage: true,\r\n            participants: {\r\n                create: [\r\n                    { userId: userId1 },\r\n                    { userId: userId2 },\r\n                ]\r\n            }\r\n        }\r\n    });\r\n}\r\n\r\nexport async function getConversationsForUser(userId: string) {\r\n    return await prisma.conversation.findMany({\r\n        where: {\r\n            participants: {\r\n                some: {\r\n                    userId: userId\r\n                }\r\n            }\r\n        },\r\n        include: {\r\n            participants: {\r\n                include: {\r\n                    user: {\r\n                        include: {\r\n                            profile: true\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            messages: {\r\n                orderBy: {\r\n                    createdAt: 'desc'\r\n                },\r\n                take: 1,\r\n                include: {\r\n                    user: {\r\n                        include: {\r\n                            profile: true\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        orderBy: {\r\n            id: 'desc'\r\n        }\r\n    });\r\n}\r\n\r\nexport async function getMessagesForConversation(conversationId: string) {\r\n    return await prisma.chatMessage.findMany({\r\n        where: {\r\n            conversationId: conversationId\r\n        },\r\n        include: {\r\n            user: {\r\n                include: {\r\n                    profile: true\r\n                }\r\n            }\r\n        },\r\n        orderBy: {\r\n            createdAt: 'asc'\r\n        }\r\n    });\r\n}\r\n\r\nexport async function addMessage(conversationId: string, senderId: string, content: string) {\r\n    const message = await prisma.chatMessage.create({\r\n        data: {\r\n            conversationId,\r\n            userId: senderId,\r\n            text: content\r\n        },\r\n        include: {\r\n            user: {\r\n                include: {\r\n                    profile: true\r\n                }\r\n            }\r\n        }\r\n    });\r\n\r\n    return message;\r\n}\r\n\r\nexport async function deleteMessage(messageId: string) {\r\n    return await prisma.chatMessage.delete({\r\n        where: { id: messageId }\r\n    });\r\n}\r\n\r\nexport async function markConversationAsRead(conversationId: string, userId: string) {\r\n    // This would update read receipts via ConversationParticipant's lastReadMessageId\r\n    // For now, just return success\r\n    return { success: true };\r\n}\r\n\r\nexport async function getAllUsers() {\r\n    return await prisma.user.findMany({\r\n        include: {\r\n            profile: true\r\n        }\r\n    });\r\n}\r\n\r\nexport async function getAuditLogs() {\r\n    return await prisma.auditLog.findMany({\r\n        include: {\r\n            actorUser: {\r\n                include: {\r\n                    profile: true\r\n                }\r\n            },\r\n            effectiveUser: {\r\n                include: {\r\n                    profile: true\r\n                }\r\n            }\r\n        },\r\n        orderBy: {\r\n            createdAt: 'desc'\r\n        },\r\n        take: 100\r\n    });\r\n}\r\n\r\n// Get enriched memberships for a user (includes tenant details)\r\nexport async function getEnrichedMembershipsForUser(userId: string) {\r\n    const memberships = await prisma.userTenantMembership.findMany({\r\n        where: { userId },\r\n        include: {\r\n            tenant: {\r\n                include: {\r\n                    settings: true,\r\n                    branding: true,\r\n                }\r\n            }\r\n        }\r\n    });\r\n    \r\n    return memberships.map(m => ({\r\n        membership: m,\r\n        tenant: m.tenant\r\n    }));\r\n}\r\n\r\n// Update membership profile (display name and title within a tenant)\r\nexport async function updateMembershipProfile(\r\n    userId: string, \r\n    membershipId: string, \r\n    data: { displayName?: string; displayTitle?: string }\r\n) {\r\n    return await prisma.userTenantMembership.update({\r\n        where: { id: membershipId, userId },\r\n        data: {\r\n            displayName: data.displayName,\r\n            displayTitle: data.displayTitle\r\n        }\r\n    });\r\n}\r\n\r\n// Update user notification preferences\r\nexport async function updateUserNotificationPreferences(\r\n    userId: string,\r\n    preferences: any\r\n) {\r\n    // Note: This assumes notification preferences are stored in a JSON field or separate table\r\n    // Adjust based on your actual schema\r\n    return await prisma.user.update({\r\n        where: { id: userId },\r\n        data: {\r\n            // If you have a notificationPreferences JSON field:\r\n            // notificationPreferences: preferences\r\n        }\r\n    });\r\n}\r\n\r\n// ===== MISSING FUNCTION STUBS =====\r\n// These functions are called by components but not yet fully implemented\r\n\r\nexport async function getMembersForTenant(tenantId: string) {\r\n    // TODO: Implement member fetching with enriched data\r\n    return [];\r\n}\r\n\r\nexport async function updateMembershipStatus(userId: string, tenantId: string, status: string) {\r\n    // TODO: Implement membership status update\r\n    return null;\r\n}\r\n\r\nexport async function updateMemberRolesAndTitle(userId: string, tenantId: string, roles: any[], title: string) {\r\n    // TODO: Implement member roles and title update\r\n    return null;\r\n}\r\n\r\nexport async function getSmallGroupsForTenant(tenantId: string) {\r\n    // TODO: Implement small groups fetching\r\n    return [];\r\n}\r\n\r\nexport async function createSmallGroup(tenantId: string, groupData: any) {\r\n    // TODO: Implement small group creation\r\n    return null;\r\n}\r\n\r\nexport async function getVolunteerNeedsForTenant(tenantId: string) {\r\n    // TODO: Implement volunteer needs fetching\r\n    return [];\r\n}\r\n\r\nexport async function addVolunteerNeed(tenantId: string, needData: any) {\r\n    // TODO: Implement volunteer need creation\r\n    return null;\r\n}\r\n\r\nexport async function getResourceItemsForTenant(tenantId: string) {\r\n    // TODO: Implement resource items fetching\r\n    return [];\r\n}\r\n\r\nexport async function addResourceItem(tenantId: string, itemData: any) {\r\n    // TODO: Implement resource item creation\r\n    return null;\r\n}\r\n\r\nexport async function deleteResourceItem(itemId: string) {\r\n    // TODO: Implement resource item deletion\r\n    return null;\r\n}\r\n\r\nexport async function getCommunityPostsForTenant(tenantId: string) {\r\n    // TODO: Implement community posts fetching\r\n    return [];\r\n}\r\n\r\nexport async function updateCommunityPostStatus(postId: string, status: string) {\r\n    // TODO: Implement community post status update\r\n    return null;\r\n}\r\n\r\nexport async function getContactSubmissionsForTenant(tenantId: string) {\r\n    // TODO: Implement contact submissions fetching\r\n    return [];\r\n}\r\n\r\nexport async function updateContactSubmissionStatus(submissionId: string, status: string) {\r\n    // TODO: Implement contact submission status update\r\n    return null;\r\n}\r\n\r\nexport async function respondToContactSubmission(submissionId: string, response: string) {\r\n    // TODO: Implement contact submission response\r\n    return null;\r\n}\r\n\r\nexport async function updateTenantPermissions(tenantId: string, permissions: any) {\r\n    // TODO: Implement tenant permissions update\r\n    return null;\r\n}\r\n\r\nexport async function addPost(tenantId: string, postData: any) {\r\n    // TODO: Implement post creation\r\n    return null;\r\n}\r\n\r\nexport async function addEvent(tenantId: string, eventData: any) {\r\n    // TODO: Implement event creation\r\n    return null;\r\n}\r\n\r\nexport async function getSermonsForTenant(tenantId: string) {\r\n    // TODO: Implement sermons fetching\r\n    return [];\r\n}\r\n\r\nexport async function getPodcastsForTenant(tenantId: string) {\r\n    // TODO: Implement podcasts fetching\r\n    return [];\r\n}\r\n\r\nexport async function getBooksForTenant(tenantId: string) {\r\n    // TODO: Implement books fetching\r\n    return [];\r\n}\r\n\r\nexport async function getDonationsForTenant(tenantId: string) {\r\n    // TODO: Implement donations fetching\r\n    return [];\r\n}\r\n\r\nexport async function addDonationRecord(tenantId: string, donationData: any) {\r\n    // TODO: Implement donation record creation\r\n    return null;\r\n}\r\n\r\nexport async function addContactSubmission(tenantId: string, submissionData: any) {\r\n    // TODO: Implement contact submission creation\r\n    return null;\r\n}\r\n\r\nexport async function addCommunityPost(tenantId: string, postData: any) {\r\n    // TODO: Implement community post creation\r\n    return null;\r\n}\r\n\r\nexport async function joinSmallGroup(groupId: string, userId: string) {\r\n    // TODO: Implement small group join\r\n    return null;\r\n}\r\n\r\nexport async function leaveSmallGroup(groupId: string, userId: string) {\r\n    // TODO: Implement small group leave\r\n    return null;\r\n}\r\n\r\nexport async function signUpForNeed(needId: string, userId: string) {\r\n    // TODO: Implement volunteer need sign up\r\n    return null;\r\n}\r\n\r\nexport async function cancelSignUp(needId: string, userId: string) {\r\n    // TODO: Implement volunteer need cancellation\r\n    return null;\r\n}\r\n\r\nexport async function createConversation(conversationData: any) {\r\n    // TODO: Implement conversation creation\r\n    return null;\r\n}\r\n\r\nexport async function adminUpdateUserProfile(userId: string, profileData: any) {\r\n    // TODO: Implement admin user profile update\r\n    return null;\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1313, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/josep/VSCODEprojects/Temple/Temple4/app/components/ui/Modal.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useEffect } from 'react';\r\n\r\ninterface ModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  title: string;\r\n  children: React.ReactNode;\r\n}\r\n\r\nconst Modal: React.FC<ModalProps> = ({ isOpen, onClose, title, children }) => {\r\n  useEffect(() => {\r\n    const handleEscape = (event: KeyboardEvent) => {\r\n      if (event.key === 'Escape') {\r\n        onClose();\r\n      }\r\n    };\r\n    document.addEventListener('keydown', handleEscape);\r\n    return () => {\r\n      document.removeEventListener('keydown', handleEscape);\r\n    };\r\n  }, [onClose]);\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div\r\n      className=\"fixed inset-0 bg-black bg-opacity-50 z-40 flex justify-center items-start overflow-y-auto p-4 sm:p-10\"\r\n      aria-labelledby=\"modal-title\"\r\n      role=\"dialog\"\r\n      aria-modal=\"true\"\r\n      onClick={onClose}\r\n    >\r\n      <div\r\n        className=\"bg-white rounded-lg shadow-xl max-w-lg w-full overflow-hidden\"\r\n        onClick={(e) => e.stopPropagation()} // Prevent clicks inside the modal from closing it\r\n      >\r\n        <div className=\"flex justify-between items-center p-4 border-b border-gray-200\">\r\n          <h2 id=\"modal-title\" className=\"text-lg font-semibold text-gray-900\">\r\n            {title}\r\n          </h2>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"text-gray-400 hover:text-gray-600\"\r\n            aria-label=\"Close modal\"\r\n          >\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n            </svg>\r\n          </button>\r\n        </div>\r\n        <div className=\"p-6\">\r\n          {children}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Modal;"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAWA,MAAM,QAA8B,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,KAAK,EAAE,QAAQ,EAAE;IACvE,IAAA,kNAAS,EAAC;QACR,MAAM,eAAe,CAAC;YACpB,IAAI,MAAM,GAAG,KAAK,UAAU;gBAC1B;YACF;QACF;QACA,SAAS,gBAAgB,CAAC,WAAW;QACrC,OAAO;YACL,SAAS,mBAAmB,CAAC,WAAW;QAC1C;IACF,GAAG;QAAC;KAAQ;IAEZ,IAAI,CAAC,QAAQ,OAAO;IAEpB,qBACE,8OAAC;QACC,WAAU;QACV,mBAAgB;QAChB,MAAK;QACL,cAAW;QACX,SAAS;kBAET,cAAA,8OAAC;YACC,WAAU;YACV,SAAS,CAAC,IAAM,EAAE,eAAe;;8BAEjC,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAG,IAAG;4BAAc,WAAU;sCAC5B;;;;;;sCAEH,8OAAC;4BACC,SAAS;4BACT,WAAU;4BACV,cAAW;sCAEX,cAAA,8OAAC;gCAAI,OAAM;gCAA6B,WAAU;gCAAU,MAAK;gCAAO,SAAQ;gCAAY,QAAO;0CACjG,cAAA,8OAAC;oCAAK,eAAc;oCAAQ,gBAAe;oCAAQ,aAAa;oCAAG,GAAE;;;;;;;;;;;;;;;;;;;;;;8BAI3E,8OAAC;oBAAI,WAAU;8BACZ;;;;;;;;;;;;;;;;;AAKX;uCAEe"}},
    {"offset": {"line": 1420, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/josep/VSCODEprojects/Temple/Temple4/app/components/account/EditMembershipModal.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport type { User, UserTenantMembership, Tenant } from '@/types';\r\nimport { updateMembershipProfile } from '@/lib/data';\r\nimport Modal from '../ui/Modal';\r\nimport Button from '../ui/Button';\r\nimport Input from '../ui/Input';\r\n\r\ninterface EditMembershipModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  user: User;\r\n  enrichedMembership: {\r\n    membership: UserTenantMembership;\r\n    tenant: Tenant;\r\n  };\r\n  onSave: () => void;\r\n}\r\n\r\nconst EditMembershipModal: React.FC<EditMembershipModalProps> = ({ isOpen, onClose, user, enrichedMembership, onSave }) => {\r\n  const { membership, tenant } = enrichedMembership;\r\n  \r\n  const [displayName, setDisplayName] = useState(membership.displayName || '');\r\n  const [displayTitle, setDisplayTitle] = useState('');\r\n\r\n  useEffect(() => {\r\n    if (membership) {\r\n      setDisplayName(membership.displayName || '');\r\n      const primaryRole = membership.roles.find(r => r.isPrimary) || membership.roles[0];\r\n      setDisplayTitle(primaryRole?.displayTitle || '');\r\n    }\r\n  }, [membership]);\r\n\r\n  const handleSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    updateMembershipProfile(user.id, membership.id, { displayName, displayTitle });\r\n    onSave();\r\n    alert('Membership profile updated!');\r\n  };\r\n\r\n  return (\r\n    <Modal isOpen={isOpen} onClose={onClose} title={`Editing Profile for ${tenant.name}`}>\r\n      <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n        <Input \r\n          label=\"Display Name in this Tenant\" \r\n          id=\"displayName\" \r\n          name=\"displayName\" \r\n          value={displayName} \r\n          onChange={(e) => setDisplayName(e.target.value)}\r\n          placeholder={user.profile.displayName}\r\n        />\r\n        <p className=\"text-xs text-gray-500 -mt-4 ml-1\">Leave blank to use your global name: \"{user.profile.displayName}\"</p>\r\n        \r\n        <Input \r\n          label=\"Display Title\" \r\n          id=\"displayTitle\" \r\n          name=\"displayTitle\" \r\n          value={displayTitle} \r\n          onChange={(e) => setDisplayTitle(e.target.value)}\r\n          placeholder=\"e.g., Brother, Sister, Volunteer\"\r\n        />\r\n         <p className=\"text-xs text-gray-500 -mt-4 ml-1\">This title appears next to your name within this tenant.</p>\r\n        \r\n        <div className=\"flex justify-end items-center space-x-4 pt-4 border-t border-gray-200\">\r\n          <Button type=\"button\" variant=\"secondary\" onClick={onClose}>\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\">Save Changes</Button>\r\n        </div>\r\n      </form>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default EditMembershipModal;"],"names":[],"mappings":";;;;;AAEA;AAEA;AACA;AACA;AACA;AAPA;;;;;;;AAoBA,MAAM,sBAA0D,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,IAAI,EAAE,kBAAkB,EAAE,MAAM,EAAE;IACpH,MAAM,EAAE,UAAU,EAAE,MAAM,EAAE,GAAG;IAE/B,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC,WAAW,WAAW,IAAI;IACzE,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAC;IAEjD,IAAA,kNAAS,EAAC;QACR,IAAI,YAAY;YACd,eAAe,WAAW,WAAW,IAAI;YACzC,MAAM,cAAc,WAAW,KAAK,CAAC,IAAI,CAAC,CAAA,IAAK,EAAE,SAAS,KAAK,WAAW,KAAK,CAAC,EAAE;YAClF,gBAAgB,aAAa,gBAAgB;QAC/C;IACF,GAAG;QAAC;KAAW;IAEf,MAAM,eAAe,CAAC;QACpB,EAAE,cAAc;QAChB,IAAA,sIAAuB,EAAC,KAAK,EAAE,EAAE,WAAW,EAAE,EAAE;YAAE;YAAa;QAAa;QAC5E;QACA,MAAM;IACR;IAEA,qBACE,8OAAC,4IAAK;QAAC,QAAQ;QAAQ,SAAS;QAAS,OAAO,CAAC,oBAAoB,EAAE,OAAO,IAAI,EAAE;kBAClF,cAAA,8OAAC;YAAK,UAAU;YAAc,WAAU;;8BACtC,8OAAC,4IAAK;oBACJ,OAAM;oBACN,IAAG;oBACH,MAAK;oBACL,OAAO;oBACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;oBAC9C,aAAa,KAAK,OAAO,CAAC,WAAW;;;;;;8BAEvC,8OAAC;oBAAE,WAAU;;wBAAmC;wBAAuC,KAAK,OAAO,CAAC,WAAW;wBAAC;;;;;;;8BAEhH,8OAAC,4IAAK;oBACJ,OAAM;oBACN,IAAG;oBACH,MAAK;oBACL,OAAO;oBACP,UAAU,CAAC,IAAM,gBAAgB,EAAE,MAAM,CAAC,KAAK;oBAC/C,aAAY;;;;;;8BAEb,8OAAC;oBAAE,WAAU;8BAAmC;;;;;;8BAEjD,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,6IAAM;4BAAC,MAAK;4BAAS,SAAQ;4BAAY,SAAS;sCAAS;;;;;;sCAG5D,8OAAC,6IAAM;4BAAC,MAAK;sCAAS;;;;;;;;;;;;;;;;;;;;;;;AAKhC;uCAEe"}},
    {"offset": {"line": 1555, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/josep/VSCODEprojects/Temple/Temple4/app/components/account/MyMembershipsTab.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState, useMemo } from 'react';\r\nimport type { User, UserTenantMembership, Tenant } from '@/types';\r\nimport { getEnrichedMembershipsForUser } from '@/lib/data';\r\nimport Button from '../ui/Button';\r\nimport EditMembershipModal from './EditMembershipModal';\r\n\r\ninterface MyMembershipsTabProps {\r\n  user: User;\r\n  onRefresh: () => void;\r\n}\r\n\r\ntype EnrichedMembership = {\r\n    membership: UserTenantMembership;\r\n    tenant: Tenant;\r\n}\r\n\r\nconst MyMembershipsTab: React.FC<MyMembershipsTabProps> = ({ user, onRefresh }) => {\r\n  const memberships = useMemo(() => getEnrichedMembershipsForUser(user.id), [user.id, onRefresh]);\r\n  const [editingMembership, setEditingMembership] = useState<EnrichedMembership | null>(null);\r\n\r\n  return (\r\n    <div className=\"space-y-8\">\r\n      <div>\r\n        <h3 className=\"text-lg font-medium leading-6 text-gray-900\">My Memberships</h3>\r\n        <p className=\"mt-1 text-sm text-gray-500\">Manage your identity within each community you've joined.</p>\r\n      </div>\r\n      \r\n      {memberships.length > 0 ? (\r\n        <div className=\"flow-root\">\r\n          <div className=\"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8\">\r\n            <div className=\"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8\">\r\n              <table className=\"min-w-full divide-y divide-gray-300\">\r\n                <thead>\r\n                  <tr>\r\n                    <th scope=\"col\" className=\"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-0\">Tenant</th>\r\n                    <th scope=\"col\" className=\"px-3 py-3.5 text-left text-sm font-semibold text-gray-900\">My Display Name</th>\r\n                    <th scope=\"col\" className=\"px-3 py-3.5 text-left text-sm font-semibold text-gray-900\">My Title</th>\r\n                    <th scope=\"col\" className=\"relative py-3.5 pl-3 pr-4 sm:pr-0\"><span className=\"sr-only\">Edit</span></th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody className=\"divide-y divide-gray-200 bg-white\">\r\n                  {memberships.map(({ membership, tenant }) => {\r\n                    const primaryRole = membership.roles.find(r => r.isPrimary) || membership.roles[0];\r\n                    return (\r\n                        <tr key={membership.id}>\r\n                            <td className=\"whitespace-nowrap py-4 pl-4 pr-3 text-sm sm:pl-0\">\r\n                                <div className=\"font-medium text-gray-900\">{tenant.name}</div>\r\n                                <div className=\"text-gray-500\">{tenant.creed}</div>\r\n                            </td>\r\n                            <td className=\"whitespace-nowrap px-3 py-4 text-sm text-gray-500\">\r\n                                {membership.displayName || `${user.profile.displayName} (Global)`}\r\n                            </td>\r\n                             <td className=\"whitespace-nowrap px-3 py-4 text-sm text-gray-500\">\r\n                                {primaryRole?.displayTitle || 'Not set'}\r\n                            </td>\r\n                            <td className=\"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-0\">\r\n                                <Button variant=\"secondary\" size=\"sm\" onClick={() => setEditingMembership({ membership, tenant })}>\r\n                                    Edit\r\n                                </Button>\r\n                            </td>\r\n                        </tr>\r\n                    );\r\n                  })}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <div className=\"text-center py-12\">\r\n            <h3 className=\"text-lg font-medium text-gray-900\">No Memberships</h3>\r\n            <p className=\"mt-1 text-sm text-gray-500\">You haven't joined any tenants yet.</p>\r\n        </div>\r\n      )}\r\n\r\n      {editingMembership && (\r\n        <EditMembershipModal\r\n          isOpen={!!editingMembership}\r\n          onClose={() => setEditingMembership(null)}\r\n          user={user}\r\n          enrichedMembership={editingMembership}\r\n          onSave={() => {\r\n            onRefresh();\r\n            setEditingMembership(null);\r\n          }}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MyMembershipsTab;"],"names":[],"mappings":";;;;;AAEA;AAEA;AACA;AACA;AANA;;;;;;AAkBA,MAAM,mBAAoD,CAAC,EAAE,IAAI,EAAE,SAAS,EAAE;IAC5E,MAAM,cAAc,IAAA,gNAAO,EAAC,IAAM,IAAA,4IAA6B,EAAC,KAAK,EAAE,GAAG;QAAC,KAAK,EAAE;QAAE;KAAU;IAC9F,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,iNAAQ,EAA4B;IAEtF,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;;kCACC,8OAAC;wBAAG,WAAU;kCAA8C;;;;;;kCAC5D,8OAAC;wBAAE,WAAU;kCAA6B;;;;;;;;;;;;YAG3C,YAAY,MAAM,GAAG,kBACpB,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BAAM,WAAU;;8CACf,8OAAC;8CACC,cAAA,8OAAC;;0DACC,8OAAC;gDAAG,OAAM;gDAAM,WAAU;0DAAyE;;;;;;0DACnG,8OAAC;gDAAG,OAAM;gDAAM,WAAU;0DAA4D;;;;;;0DACtF,8OAAC;gDAAG,OAAM;gDAAM,WAAU;0DAA4D;;;;;;0DACtF,8OAAC;gDAAG,OAAM;gDAAM,WAAU;0DAAoC,cAAA,8OAAC;oDAAK,WAAU;8DAAU;;;;;;;;;;;;;;;;;;;;;;8CAG5F,8OAAC;oCAAM,WAAU;8CACd,YAAY,GAAG,CAAC,CAAC,EAAE,UAAU,EAAE,MAAM,EAAE;wCACtC,MAAM,cAAc,WAAW,KAAK,CAAC,IAAI,CAAC,CAAA,IAAK,EAAE,SAAS,KAAK,WAAW,KAAK,CAAC,EAAE;wCAClF,qBACI,8OAAC;;8DACG,8OAAC;oDAAG,WAAU;;sEACV,8OAAC;4DAAI,WAAU;sEAA6B,OAAO,IAAI;;;;;;sEACvD,8OAAC;4DAAI,WAAU;sEAAiB,OAAO,KAAK;;;;;;;;;;;;8DAEhD,8OAAC;oDAAG,WAAU;8DACT,WAAW,WAAW,IAAI,GAAG,KAAK,OAAO,CAAC,WAAW,CAAC,SAAS,CAAC;;;;;;8DAEpE,8OAAC;oDAAG,WAAU;8DACV,aAAa,gBAAgB;;;;;;8DAElC,8OAAC;oDAAG,WAAU;8DACV,cAAA,8OAAC,6IAAM;wDAAC,SAAQ;wDAAY,MAAK;wDAAK,SAAS,IAAM,qBAAqB;gEAAE;gEAAY;4DAAO;kEAAI;;;;;;;;;;;;2CAZlG,WAAW,EAAE;;;;;oCAkB5B;;;;;;;;;;;;;;;;;;;;;;;;;;yEAOV,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAG,WAAU;kCAAoC;;;;;;kCAClD,8OAAC;wBAAE,WAAU;kCAA6B;;;;;;;;;;;;YAI/C,mCACC,8OAAC,+JAAmB;gBAClB,QAAQ,CAAC,CAAC;gBACV,SAAS,IAAM,qBAAqB;gBACpC,MAAM;gBACN,oBAAoB;gBACpB,QAAQ;oBACN;oBACA,qBAAqB;gBACvB;;;;;;;;;;;;AAKV;uCAEe"}},
    {"offset": {"line": 1819, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/josep/VSCODEprojects/Temple/Temple4/app/components/account/NotificationSettingsTab.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState } from 'react';\r\nimport type { User, NotificationPreferences } from '@/types';\r\nimport { updateUserNotificationPreferences } from '@/lib/data';\r\nimport Button from '../ui/Button';\r\nimport ToggleSwitch from '../ui/ToggleSwitch';\r\n\r\ninterface NotificationSettingsTabProps {\r\n  user: User;\r\n  onRefresh: () => void;\r\n}\r\n\r\nconst NotificationSettingsTab: React.FC<NotificationSettingsTabProps> = ({ user, onRefresh }) => {\r\n  const [prefs, setPrefs] = useState<NotificationPreferences>(user.notificationPreferences);\r\n\r\n  const handleToggleChange = (\r\n    category: keyof NotificationPreferences,\r\n    key: keyof NotificationPreferences['email'],\r\n    value: boolean\r\n  ) => {\r\n    setPrefs(prev => ({\r\n      ...prev,\r\n      [category]: {\r\n        ...prev[category],\r\n        [key]: value,\r\n      }\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    updateUserNotificationPreferences(user.id, prefs);\r\n    onRefresh();\r\n    alert('Notification settings updated successfully!');\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className=\"space-y-8\">\r\n      <div>\r\n        <h3 className=\"text-lg font-medium leading-6 text-gray-900\">Email Notifications</h3>\r\n        <p className=\"mt-1 text-sm text-gray-500\">Choose which emails you want to receive.</p>\r\n      </div>\r\n      \r\n      <div className=\"space-y-6\">\r\n        <h4 className=\"text-md font-semibold text-gray-700\">Community Updates</h4>\r\n        <ToggleSwitch\r\n          label=\"New Announcements\"\r\n          description=\"Receive an email when a new announcement is posted in a tenant you belong to.\"\r\n          enabled={prefs.email.newAnnouncement}\r\n          onChange={(enabled) => handleToggleChange('email', 'newAnnouncement', enabled)}\r\n        />\r\n        <ToggleSwitch\r\n          label=\"New Events\"\r\n          description=\"Get notified when a new event is scheduled in your communities.\"\r\n          enabled={prefs.email.newEvent}\r\n          onChange={(enabled) => handleToggleChange('email', 'newEvent', enabled)}\r\n        />\r\n        <ToggleSwitch\r\n          label=\"Membership Updates\"\r\n          description=\"Be notified when your request to join a tenant is approved or rejected.\"\r\n          enabled={prefs.email.membershipUpdate}\r\n          onChange={(enabled) => handleToggleChange('email', 'membershipUpdate', enabled)}\r\n        />\r\n        \r\n        <div className=\"border-t border-gray-200 pt-6\">\r\n             <h4 className=\"text-md font-semibold text-gray-700\">Messaging</h4>\r\n        </div>\r\n         <ToggleSwitch\r\n          label=\"Direct Messages\"\r\n          description=\"Receive an email when someone sends you a direct message.\"\r\n          enabled={prefs.email.directMessage}\r\n          onChange={(enabled) => handleToggleChange('email', 'directMessage', enabled)}\r\n        />\r\n        <ToggleSwitch\r\n          label=\"Group Chat Messages\"\r\n          description=\"Receive an email for messages in group channels. (Note: This can be a lot of email!)\"\r\n          enabled={prefs.email.groupChatMessage}\r\n          onChange={(enabled) => handleToggleChange('email', 'groupChatMessage', enabled)}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"text-right border-t border-gray-200 pt-6\">\r\n        <Button type=\"submit\">Save Changes</Button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default NotificationSettingsTab;\r\n"],"names":[],"mappings":";;;;;AAEA;AAEA;AACA;AACA;AANA;;;;;;AAaA,MAAM,0BAAkE,CAAC,EAAE,IAAI,EAAE,SAAS,EAAE;IAC1F,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAA0B,KAAK,uBAAuB;IAExF,MAAM,qBAAqB,CACzB,UACA,KACA;QAEA,SAAS,CAAA,OAAQ,CAAC;gBAChB,GAAG,IAAI;gBACP,CAAC,SAAS,EAAE;oBACV,GAAG,IAAI,CAAC,SAAS;oBACjB,CAAC,IAAI,EAAE;gBACT;YACF,CAAC;IACH;IAEA,MAAM,eAAe,CAAC;QACpB,EAAE,cAAc;QAChB,IAAA,gJAAiC,EAAC,KAAK,EAAE,EAAE;QAC3C;QACA,MAAM;IACR;IAEA,qBACE,8OAAC;QAAK,UAAU;QAAc,WAAU;;0BACtC,8OAAC;;kCACC,8OAAC;wBAAG,WAAU;kCAA8C;;;;;;kCAC5D,8OAAC;wBAAE,WAAU;kCAA6B;;;;;;;;;;;;0BAG5C,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAAsC;;;;;;kCACpD,8OAAC,mJAAY;wBACX,OAAM;wBACN,aAAY;wBACZ,SAAS,MAAM,KAAK,CAAC,eAAe;wBACpC,UAAU,CAAC,UAAY,mBAAmB,SAAS,mBAAmB;;;;;;kCAExE,8OAAC,mJAAY;wBACX,OAAM;wBACN,aAAY;wBACZ,SAAS,MAAM,KAAK,CAAC,QAAQ;wBAC7B,UAAU,CAAC,UAAY,mBAAmB,SAAS,YAAY;;;;;;kCAEjE,8OAAC,mJAAY;wBACX,OAAM;wBACN,aAAY;wBACZ,SAAS,MAAM,KAAK,CAAC,gBAAgB;wBACrC,UAAU,CAAC,UAAY,mBAAmB,SAAS,oBAAoB;;;;;;kCAGzE,8OAAC;wBAAI,WAAU;kCACV,cAAA,8OAAC;4BAAG,WAAU;sCAAsC;;;;;;;;;;;kCAExD,8OAAC,mJAAY;wBACZ,OAAM;wBACN,aAAY;wBACZ,SAAS,MAAM,KAAK,CAAC,aAAa;wBAClC,UAAU,CAAC,UAAY,mBAAmB,SAAS,iBAAiB;;;;;;kCAEtE,8OAAC,mJAAY;wBACX,OAAM;wBACN,aAAY;wBACZ,SAAS,MAAM,KAAK,CAAC,gBAAgB;wBACrC,UAAU,CAAC,UAAY,mBAAmB,SAAS,oBAAoB;;;;;;;;;;;;0BAI3E,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC,6IAAM;oBAAC,MAAK;8BAAS;;;;;;;;;;;;;;;;;AAI9B;uCAEe"}},
    {"offset": {"line": 1988, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/josep/VSCODEprojects/Temple/Temple4/app/components/account/AccountSettingsTab.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState } from 'react';\r\nimport type { AccountSettings } from '@prisma/client';\r\nimport Button from '../ui/Button';\r\n\r\ninterface AccountSettingsTabProps {\r\n  settings: AccountSettings;\r\n  onUpdate: (settings: AccountSettings) => void;\r\n}\r\n\r\nconst timezones = [\r\n    'Etc/GMT+12', 'Pacific/Midway', 'Pacific/Honolulu',\r\n    'America/Anchorage', 'America/Los_Angeles', 'America/Denver',\r\n    'America/Chicago', 'America/New_York', 'America/Caracas',\r\n    'America/Halifax', 'America/Sao_Paulo', 'Atlantic/South_Georgia',\r\n    'Atlantic/Azores', 'Europe/London', 'Europe/Paris',\r\n    'Europe/Helsinki', 'Asia/Jerusalem', 'Asia/Dubai',\r\n    'Asia/Karachi', 'Asia/Dhaka', 'Asia/Bangkok',\r\n    'Asia/Shanghai', 'Asia/Tokyo', 'Australia/Sydney',\r\n    'Pacific/Auckland',\r\n];\r\n\r\nconst AccountSettingsTab: React.FC<AccountSettingsTabProps> = ({ settings: initialSettings, onUpdate }) => {\r\n  const [settings, setSettings] = useState<AccountSettings>(initialSettings);\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLSelectElement>) => {\r\n    const { name, value } = e.target;\r\n    setSettings(prev => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    onUpdate(settings);\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className=\"space-y-8\">\r\n      <div>\r\n        <h3 className=\"text-lg font-medium leading-6 text-gray-900\">Localization</h3>\r\n        <p className=\"mt-1 text-sm text-gray-500\">Set your preferred language, date, and time formats.</p>\r\n      </div>\r\n\r\n      <div className=\"space-y-6\">\r\n        <div>\r\n          <label htmlFor=\"languagePreference\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n            Language\r\n          </label>\r\n          <select\r\n            id=\"languagePreference\"\r\n            name=\"languagePreference\"\r\n            className=\"w-full pl-3 pr-10 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-amber-500 focus:border-amber-500 sm:text-sm bg-white text-gray-900\"\r\n            value={settings.languagePreference || 'en-US'}\r\n            onChange={handleChange}\r\n          >\r\n            <option value=\"en-US\">English (US)</option>\r\n            <option value=\"es-ES\">Espaol</option>\r\n            <option value=\"fr-FR\">Franais</option>\r\n          </select>\r\n        </div>\r\n\r\n        <div>\r\n          <label htmlFor=\"timezonePreference\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n            Timezone\r\n          </label>\r\n          <select\r\n            id=\"timezonePreference\"\r\n            name=\"timezonePreference\"\r\n            className=\"w-full pl-3 pr-10 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-amber-500 focus:border-amber-500 sm:text-sm bg-white text-gray-900\"\r\n            value={settings.timezonePreference || 'America/New_York'}\r\n            onChange={handleChange}\r\n          >\r\n            {timezones.map(tz => (\r\n              <option key={tz} value={tz}>{tz.replace(/_/g, ' ')}</option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n        \r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n            <div>\r\n              <label htmlFor=\"dateFormat\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                Date Format\r\n              </label>\r\n              <select\r\n                id=\"dateFormat\"\r\n                name=\"dateFormat\"\r\n                className=\"w-full pl-3 pr-10 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-amber-500 focus:border-amber-500 sm:text-sm bg-white text-gray-900\"\r\n                value={settings.dateFormat || 'MM/DD/YYYY'}\r\n                onChange={handleChange}\r\n              >\r\n                <option value=\"MM/DD/YYYY\">MM/DD/YYYY</option>\r\n                <option value=\"DD/MM/YYYY\">DD/MM/YYYY</option>\r\n                <option value=\"YYYY-MM-DD\">YYYY-MM-DD</option>\r\n              </select>\r\n            </div>\r\n\r\n             <div>\r\n              <label htmlFor=\"timeFormat\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                Time Format\r\n              </label>\r\n              <select\r\n                id=\"timeFormat\"\r\n                name=\"timeFormat\"\r\n                className=\"w-full pl-3 pr-10 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-amber-500 focus:border-amber-500 sm:text-sm bg-white text-gray-900\"\r\n                value={settings.timeFormat || '12h'}\r\n                onChange={handleChange}\r\n              >\r\n                <option value=\"12h\">12-hour</option>\r\n                <option value=\"24h\">24-hour</option>\r\n              </select>\r\n            </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"text-right border-t border-gray-200 pt-6\">\r\n        <Button type=\"submit\">Save Changes</Button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default AccountSettingsTab;"],"names":[],"mappings":";;;;;AAEA;AAEA;AAJA;;;;AAWA,MAAM,YAAY;IACd;IAAc;IAAkB;IAChC;IAAqB;IAAuB;IAC5C;IAAmB;IAAoB;IACvC;IAAmB;IAAqB;IACxC;IAAmB;IAAiB;IACpC;IAAmB;IAAkB;IACrC;IAAgB;IAAc;IAC9B;IAAiB;IAAc;IAC/B;CACH;AAED,MAAM,qBAAwD,CAAC,EAAE,UAAU,eAAe,EAAE,QAAQ,EAAE;IACpG,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAkB;IAE1D,MAAM,eAAe,CAAC;QACpB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,EAAE,MAAM;QAChC,YAAY,CAAA,OAAQ,CAAC;gBAAE,GAAG,IAAI;gBAAE,CAAC,KAAK,EAAE;YAAM,CAAC;IACjD;IAEA,MAAM,eAAe,CAAC;QACpB,EAAE,cAAc;QAChB,SAAS;IACX;IAEA,qBACE,8OAAC;QAAK,UAAU;QAAc,WAAU;;0BACtC,8OAAC;;kCACC,8OAAC;wBAAG,WAAU;kCAA8C;;;;;;kCAC5D,8OAAC;wBAAE,WAAU;kCAA6B;;;;;;;;;;;;0BAG5C,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;;0CACC,8OAAC;gCAAM,SAAQ;gCAAqB,WAAU;0CAA+C;;;;;;0CAG7F,8OAAC;gCACC,IAAG;gCACH,MAAK;gCACL,WAAU;gCACV,OAAO,SAAS,kBAAkB,IAAI;gCACtC,UAAU;;kDAEV,8OAAC;wCAAO,OAAM;kDAAQ;;;;;;kDACtB,8OAAC;wCAAO,OAAM;kDAAQ;;;;;;kDACtB,8OAAC;wCAAO,OAAM;kDAAQ;;;;;;;;;;;;;;;;;;kCAI1B,8OAAC;;0CACC,8OAAC;gCAAM,SAAQ;gCAAqB,WAAU;0CAA+C;;;;;;0CAG7F,8OAAC;gCACC,IAAG;gCACH,MAAK;gCACL,WAAU;gCACV,OAAO,SAAS,kBAAkB,IAAI;gCACtC,UAAU;0CAET,UAAU,GAAG,CAAC,CAAA,mBACb,8OAAC;wCAAgB,OAAO;kDAAK,GAAG,OAAO,CAAC,MAAM;uCAAjC;;;;;;;;;;;;;;;;kCAKnB,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;;kDACC,8OAAC;wCAAM,SAAQ;wCAAa,WAAU;kDAA+C;;;;;;kDAGrF,8OAAC;wCACC,IAAG;wCACH,MAAK;wCACL,WAAU;wCACV,OAAO,SAAS,UAAU,IAAI;wCAC9B,UAAU;;0DAEV,8OAAC;gDAAO,OAAM;0DAAa;;;;;;0DAC3B,8OAAC;gDAAO,OAAM;0DAAa;;;;;;0DAC3B,8OAAC;gDAAO,OAAM;0DAAa;;;;;;;;;;;;;;;;;;0CAI9B,8OAAC;;kDACA,8OAAC;wCAAM,SAAQ;wCAAa,WAAU;kDAA+C;;;;;;kDAGrF,8OAAC;wCACC,IAAG;wCACH,MAAK;wCACL,WAAU;wCACV,OAAO,SAAS,UAAU,IAAI;wCAC9B,UAAU;;0DAEV,8OAAC;gDAAO,OAAM;0DAAM;;;;;;0DACpB,8OAAC;gDAAO,OAAM;0DAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAM9B,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC,6IAAM;oBAAC,MAAK;8BAAS;;;;;;;;;;;;;;;;;AAI9B;uCAEe"}},
    {"offset": {"line": 2302, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/josep/VSCODEprojects/Temple/Temple4/app/components/account/AccountSettingsPage.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState } from 'react';\r\nimport type { User } from '@/types';\r\nimport Button from '../ui/Button';\r\nimport Card from '../ui/Card';\r\nimport Tabs from '../ui/Tabs';\r\nimport ProfileSettingsTab from './ProfileSettingsTab';\r\nimport PrivacySettingsTab from './PrivacySettingsTab';\r\nimport MyMembershipsTab from './MyMembershipsTab';\r\nimport NotificationSettingsTab from './NotificationSettingsTab';\r\nimport AccountSettingsTab from './AccountSettingsTab';\r\n\r\ninterface AccountSettingsPageProps {\r\n  user: User;\r\n  onBack: () => void;\r\n  onRefresh: () => void;\r\n}\r\n\r\nconst TABS = ['Profile', 'Privacy', 'My Memberships', 'Account', 'Notifications'];\r\n\r\nconst AccountSettingsPage: React.FC<AccountSettingsPageProps> = ({ user, onBack, onRefresh }) => {\r\n  const [activeTab, setActiveTab] = useState(TABS[0]);\r\n\r\n  const renderTabContent = () => {\r\n    switch (activeTab) {\r\n      case 'Profile':\r\n        return <ProfileSettingsTab user={user} onRefresh={onRefresh} />;\r\n      case 'Privacy':\r\n        return <PrivacySettingsTab user={user} onRefresh={onRefresh} />;\r\n      case 'My Memberships':\r\n        return <MyMembershipsTab user={user} onRefresh={onRefresh} />;\r\n      case 'Account':\r\n        return <AccountSettingsTab user={user} onRefresh={onRefresh} />;\r\n      case 'Notifications':\r\n        return <NotificationSettingsTab user={user} onRefresh={onRefresh} />;\r\n      // Add other tabs here later\r\n      default:\r\n        return (\r\n          <div className=\"text-center py-12\">\r\n            <h3 className=\"text-lg font-medium text-gray-900\">{activeTab} Settings</h3>\r\n            <p className=\"mt-1 text-sm text-gray-500\">This section is not yet implemented.</p>\r\n          </div>\r\n        );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"max-w-4xl mx-auto space-y-8 py-10 px-4 sm:px-6 lg:px-8\">\r\n      <div className=\"flex justify-between items-center\">\r\n        <div>\r\n          <h1 className=\"text-3xl font-bold text-gray-900\">Account Settings</h1>\r\n          <p className=\"text-sm text-gray-500\">Manage your profile, privacy, and account preferences.</p>\r\n        </div>\r\n        <Button variant=\"secondary\" onClick={onBack}>&larr; Back</Button>\r\n      </div>\r\n      \r\n      <Card className=\"!p-0\">\r\n        <div className=\"px-6\">\r\n          <Tabs tabs={TABS} activeTab={activeTab} onTabClick={setActiveTab} />\r\n        </div>\r\n        <div className=\"p-6\">\r\n          {renderTabContent()}\r\n        </div>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AccountSettingsPage;"],"names":[],"mappings":";;;;;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAXA;;;;;;;;;;;AAmBA,MAAM,OAAO;IAAC;IAAW;IAAW;IAAkB;IAAW;CAAgB;AAEjF,MAAM,sBAA0D,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,SAAS,EAAE;IAC1F,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC,IAAI,CAAC,EAAE;IAElD,MAAM,mBAAmB;QACvB,OAAQ;YACN,KAAK;gBACH,qBAAO,8OAAC,8JAAkB;oBAAC,MAAM;oBAAM,WAAW;;;;;;YACpD,KAAK;gBACH,qBAAO,8OAAC,8JAAkB;oBAAC,MAAM;oBAAM,WAAW;;;;;;YACpD,KAAK;gBACH,qBAAO,8OAAC,4JAAgB;oBAAC,MAAM;oBAAM,WAAW;;;;;;YAClD,KAAK;gBACH,qBAAO,8OAAC,8JAAkB;oBAAC,MAAM;oBAAM,WAAW;;;;;;YACpD,KAAK;gBACH,qBAAO,8OAAC,mKAAuB;oBAAC,MAAM;oBAAM,WAAW;;;;;;YACzD,4BAA4B;YAC5B;gBACE,qBACE,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAG,WAAU;;gCAAqC;gCAAU;;;;;;;sCAC7D,8OAAC;4BAAE,WAAU;sCAA6B;;;;;;;;;;;;QAGlD;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;;0CACC,8OAAC;gCAAG,WAAU;0CAAmC;;;;;;0CACjD,8OAAC;gCAAE,WAAU;0CAAwB;;;;;;;;;;;;kCAEvC,8OAAC,6IAAM;wBAAC,SAAQ;wBAAY,SAAS;kCAAQ;;;;;;;;;;;;0BAG/C,8OAAC,2IAAI;gBAAC,WAAU;;kCACd,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC,2IAAI;4BAAC,MAAM;4BAAM,WAAW;4BAAW,YAAY;;;;;;;;;;;kCAEtD,8OAAC;wBAAI,WAAU;kCACZ;;;;;;;;;;;;;;;;;;AAKX;uCAEe"}}]
}