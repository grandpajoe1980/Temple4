{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/josep/VSCODEprojects/Temple/Temple4/app/components/tenant/EventsCalendar.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport type { EventWithCreator } from '../../types';\r\n\r\ninterface EventsCalendarProps {\r\n  events: EventWithCreator[];\r\n  onDateClick: (date: Date) => void;\r\n}\r\n\r\nconst EventsCalendar: React.FC<EventsCalendarProps> = ({ events, onDateClick }) => {\r\n  const [viewDate, setViewDate] = useState(new Date());\r\n\r\n  const today = new Date();\r\n  today.setHours(0, 0, 0, 0);\r\n\r\n  const startOfMonth = new Date(viewDate.getFullYear(), viewDate.getMonth(), 1);\r\n  const endOfMonth = new Date(viewDate.getFullYear(), viewDate.getMonth() + 1, 0);\r\n  const startDay = startOfMonth.getDay();\r\n  const daysInMonth = endOfMonth.getDate();\r\n\r\n  const eventsByDate: { [key: string]: EventWithCreator[] } = {};\r\n  events.forEach(event => {\r\n    const dateKey = new Date(event.startDateTime).toDateString();\r\n    if (!eventsByDate[dateKey]) {\r\n      eventsByDate[dateKey] = [];\r\n    }\r\n    eventsByDate[dateKey].push(event);\r\n  });\r\n\r\n  const prevMonth = () => {\r\n    setViewDate(new Date(viewDate.getFullYear(), viewDate.getMonth() - 1, 1));\r\n  };\r\n\r\n  const nextMonth = () => {\r\n    setViewDate(new Date(viewDate.getFullYear(), viewDate.getMonth() + 1, 1));\r\n  };\r\n\r\n  const weekdays = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\r\n\r\n  return (\r\n    <div className=\"bg-white p-4 sm:p-6 rounded-lg shadow-sm\">\r\n      <div className=\"flex justify-between items-center mb-4\">\r\n        <button type=\"button\" onClick={prevMonth} className=\"p-2 rounded-full hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-amber-500\">\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 text-gray-600\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\r\n          </svg>\r\n        </button>\r\n        <div className=\"font-semibold text-gray-800 text-lg\">\r\n          {viewDate.toLocaleString('default', { month: 'long', year: 'numeric' })}\r\n        </div>\r\n        <button type=\"button\" onClick={nextMonth} className=\"p-2 rounded-full hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-amber-500\">\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 text-gray-600\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\r\n          </svg>\r\n        </button>\r\n      </div>\r\n      \r\n      <div className=\"grid grid-cols-7 text-center text-xs text-gray-500 font-semibold border-b border-gray-200 pb-2 mb-2\">\r\n        {weekdays.map(day => <div key={day}>{day}</div>)}\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-7\">\r\n        {Array.from({ length: startDay }).map((_, i) => (\r\n          <div key={`empty-start-${i}`} className=\"border-r border-b border-gray-100 h-28\"></div>\r\n        ))}\r\n        {Array.from({ length: daysInMonth }).map((_, i) => {\r\n          const day = i + 1;\r\n          const date = new Date(viewDate.getFullYear(), viewDate.getMonth(), day);\r\n          const dateKey = date.toDateString();\r\n          const isToday = date.toDateString() === today.toDateString();\r\n          const dayEvents = eventsByDate[dateKey] || [];\r\n\r\n          return (\r\n            <div \r\n              key={day} \r\n              className=\"border-r border-b border-gray-100 h-28 p-1.5 cursor-pointer hover:bg-amber-50 transition-colors\"\r\n              onClick={() => onDateClick(date)}\r\n            >\r\n              <div className={`w-7 h-7 flex items-center justify-center rounded-full text-sm ${isToday ? 'bg-amber-600 text-white font-bold' : 'text-gray-700'}`}>\r\n                {day}\r\n              </div>\r\n              <div className=\"mt-1 space-y-1 overflow-y-auto max-h-16\">\r\n                {dayEvents.map(event => (\r\n                  <div key={event.id} className=\"text-xs bg-blue-100 text-blue-800 p-1 rounded truncate\">\r\n                    {event.title}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n         {Array.from({ length: 42 - daysInMonth - startDay }).map((_, i) => (\r\n          <div key={`empty-end-${i}`} className=\"border-r border-b border-gray-100 h-28\"></div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EventsCalendar;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 235, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/josep/VSCODEprojects/Temple/Temple4/app/tenants/%5BtenantId%5D/calendar/page.tsx"],"sourcesContent":["import { getServerSession } from 'next-auth/next';\r\nimport { authOptions } from '@/app/api/auth/[...nextauth]/route';\r\nimport { redirect } from 'next/navigation';\r\nimport { getTenantById, getUserById } from '@/lib/data';\r\nimport EventsCalendar from '@/app/components/tenant/EventsCalendar';\r\n\r\nexport default async function TenantCalendarPage({ params }: { params: Promise<{ tenantId: string }> }) {\r\n  const session = await getServerSession(authOptions);\r\n\r\n  if (!session || !session.user) {\r\n    redirect('/auth/login');\r\n  }\r\n\r\n  const resolvedParams = await params;\r\n  const tenant = await getTenantById(resolvedParams.tenantId);\r\n  const user = await getUserById((session.user as any).id);\r\n\r\n  if (!tenant || !user) {\r\n    redirect('/');\r\n  }\r\n\r\n  return <EventsCalendar tenant={tenant} user={user} />;\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAAA;AACA;AACA;;;;;;;AAEe,eAAe,mBAAmB,EAAE,MAAM,EAA6C;IACpG,MAAM,UAAU,MAAM,IAAA,iKAAgB,EAAC,gKAAW;IAElD,IAAI,CAAC,WAAW,CAAC,QAAQ,IAAI,EAAE;QAC7B,IAAA,iMAAQ,EAAC;IACX;IAEA,MAAM,iBAAiB,MAAM;IAC7B,MAAM,SAAS,MAAM,IAAA,4HAAa,EAAC,eAAe,QAAQ;IAC1D,MAAM,OAAO,MAAM,IAAA,0HAAW,EAAC,AAAC,QAAQ,IAAI,CAAS,EAAE;IAEvD,IAAI,CAAC,UAAU,CAAC,MAAM;QACpB,IAAA,iMAAQ,EAAC;IACX;IAEA,qBAAO,8OAAC,yJAAc;QAAC,QAAQ;QAAQ,MAAM;;;;;;AAC/C"}}]
}