{"version":3,"sources":["../../../../app/components/ui/Modal.tsx","../../../../app/components/ui/Card.tsx","../../../../app/components/ui/Button.tsx","../../../../app/components/ui/Input.tsx","../../../../app/components/ui/Tabs.tsx","../../../../app/components/account/ProfileSettingsTab.tsx","../../../../app/components/ui/ToggleSwitch.tsx","../../../../app/components/account/PrivacySettingsTab.tsx","../../../../app/components/account/AccountSettingsTab.tsx","../../../../app/components/account/AccountSettingsPage.tsx","../../../../app/components/account/MyMembershipsTab.tsx","../../../../app/components/account/EditMembershipModal.tsx","../../../../app/components/account/NotificationSettingsTab.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useEffect } from 'react';\r\n\r\ninterface ModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  title: string;\r\n  children: React.ReactNode;\r\n}\r\n\r\nconst Modal: React.FC<ModalProps> = ({ isOpen, onClose, title, children }) => {\r\n  useEffect(() => {\r\n    const handleEscape = (event: KeyboardEvent) => {\r\n      if (event.key === 'Escape') {\r\n        onClose();\r\n      }\r\n    };\r\n    document.addEventListener('keydown', handleEscape);\r\n    return () => {\r\n      document.removeEventListener('keydown', handleEscape);\r\n    };\r\n  }, [onClose]);\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div\r\n      className=\"fixed inset-0 bg-black bg-opacity-50 z-40 flex justify-center items-start overflow-y-auto p-4 sm:p-10\"\r\n      aria-labelledby=\"modal-title\"\r\n      role=\"dialog\"\r\n      aria-modal=\"true\"\r\n      onClick={onClose}\r\n    >\r\n      <div\r\n        className=\"bg-white rounded-lg shadow-xl max-w-lg w-full overflow-hidden\"\r\n        onClick={(e) => e.stopPropagation()} // Prevent clicks inside the modal from closing it\r\n      >\r\n        <div className=\"flex justify-between items-center p-4 border-b border-gray-200\">\r\n          <h2 id=\"modal-title\" className=\"text-lg font-semibold text-gray-900\">\r\n            {title}\r\n          </h2>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"text-gray-400 hover:text-gray-600\"\r\n            aria-label=\"Close modal\"\r\n          >\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n            </svg>\r\n          </button>\r\n        </div>\r\n        <div className=\"p-6\">\r\n          {children}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Modal;","\r\nimport React from 'react';\r\n\r\ninterface CardProps {\r\n  children: React.ReactNode;\r\n  className?: string;\r\n  title?: string;\r\n  description?: string;\r\n}\r\n\r\nconst Card: React.FC<CardProps> = ({ children, className, title, description }) => {\r\n  return (\r\n    <div className={`bg-white shadow-md rounded-lg overflow-hidden ${className}`}>\r\n        {title && (\r\n            <div className=\"p-6 border-b border-gray-200\">\r\n                <h3 className=\"text-lg font-semibold leading-6 text-gray-900\">{title}</h3>\r\n                {description && <p className=\"mt-1 text-sm text-gray-500\">{description}</p>}\r\n            </div>\r\n        )}\r\n      <div className=\"p-6\">\r\n        {children}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n","import React from 'react';\r\n\r\ninterface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\r\n  variant?: 'primary' | 'secondary' | 'danger';\r\n  size?: 'sm' | 'md';\r\n  children: React.ReactNode;\r\n}\r\n\r\nconst Button: React.FC<ButtonProps> = ({ children, variant = 'primary', size = 'md', className, ...props }) => {\r\n  const baseClasses = \"rounded-md font-semibold focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\";\r\n\r\n  const variantClasses = {\r\n    primary: 'bg-amber-600 text-white hover:bg-amber-700 focus:ring-amber-500',\r\n    secondary: 'bg-gray-200 text-gray-800 hover:bg-gray-300 focus:ring-gray-400',\r\n    danger: 'bg-red-600 text-white hover:bg-red-700 focus:ring-red-500',\r\n  };\r\n  \r\n  const sizeClasses = {\r\n      md: \"px-4 py-2 text-sm\",\r\n      sm: \"px-3 py-1.5 text-xs\",\r\n  }\r\n\r\n  return (\r\n    <button className={`${baseClasses} ${variantClasses[variant]} ${sizeClasses[size]} ${className}`} {...props}>\r\n      {children}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import React from 'react';\r\n\r\ninterface InputProps extends React.InputHTMLAttributes<HTMLInputElement> {\r\n  label: string;\r\n  containerClassName?: string;\r\n}\r\n\r\nconst Input: React.FC<InputProps> = ({ label, id, containerClassName, ...props }) => {\r\n  return (\r\n    <div className={containerClassName}>\r\n      <label htmlFor={id} className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n        {label}\r\n      </label>\r\n      <input\r\n        id={id}\r\n        className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-amber-500 focus:border-amber-500 sm:text-sm bg-white text-gray-900 placeholder:text-gray-400\"\r\n        {...props}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Input;","\r\nimport React from 'react';\r\n\r\ninterface TabsProps {\r\n  tabs: string[];\r\n  activeTab: string;\r\n  onTabClick: (tab: string) => void;\r\n}\r\n\r\nconst Tabs: React.FC<TabsProps> = ({ tabs, activeTab, onTabClick }) => {\r\n  return (\r\n    <div className=\"border-b border-gray-200\">\r\n      <nav className=\"-mb-px flex space-x-6 overflow-x-auto\" aria-label=\"Tabs\">\r\n        {tabs.map((tab) => (\r\n          <button\r\n            key={tab}\r\n            onClick={() => onTabClick(tab)}\r\n            className={`${\r\n              activeTab === tab\r\n                ? 'border-amber-500 text-amber-600'\r\n                : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\r\n            } whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`}\r\n            aria-current={activeTab === tab ? 'page' : undefined}\r\n          >\r\n            {tab}\r\n          </button>\r\n        ))}\r\n      </nav>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Tabs;\r\n","'use client';\r\n\r\nimport React, { useState } from 'react';\r\nimport type { UserProfile } from '@prisma/client';\r\nimport Input from '../ui/Input';\r\nimport Button from '../ui/Button';\r\n\r\ninterface ProfileSettingsTabProps {\r\n  profile: UserProfile;\r\n  onUpdate: (profile: UserProfile) => void;\r\n}\r\n\r\nconst ProfileSettingsTab: React.FC<ProfileSettingsTabProps> = ({ profile: initialProfile, onUpdate }) => {\r\n  const [profile, setProfile] = useState<UserProfile>(initialProfile);\r\n\r\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\r\n    const { name, value } = e.target;\r\n    setProfile(prev => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleLanguagesChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setProfile(prev => ({ ...prev, languages: e.target.value }));\r\n  };\r\n\r\n  const handleSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    onUpdate(profile);\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className=\"space-y-8\">\r\n      <div>\r\n        <h3 className=\"text-lg font-medium leading-6 text-gray-900\">Personal Information</h3>\r\n        <p className=\"mt-1 text-sm text-gray-500\">This information will be displayed on your public profile.</p>\r\n      </div>\r\n      <div className=\"space-y-6\">\r\n        <Input \r\n          label=\"Display Name\" \r\n          id=\"displayName\" \r\n          name=\"displayName\" \r\n          value={profile.displayName} \r\n          onChange={handleInputChange} \r\n          required \r\n        />\r\n        <Input \r\n          label=\"Avatar URL\" \r\n          id=\"avatarUrl\" \r\n          name=\"avatarUrl\" \r\n          type=\"url\"\r\n          value={profile.avatarUrl || ''} \r\n          onChange={handleInputChange} \r\n        />\r\n        <div>\r\n          <label htmlFor=\"bio\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n            Bio\r\n          </label>\r\n          <textarea\r\n            id=\"bio\"\r\n            name=\"bio\"\r\n            rows={4}\r\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-amber-500 focus:border-amber-500 sm:text-sm bg-white text-gray-900\"\r\n            value={profile.bio || ''}\r\n            onChange={handleInputChange}\r\n          />\r\n        </div>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n          <Input \r\n            label=\"City\" \r\n            id=\"locationCity\" \r\n            name=\"locationCity\" \r\n            value={profile.locationCity || ''} \r\n            onChange={handleInputChange} \r\n          />\r\n          <Input \r\n            label=\"Country\" \r\n            id=\"locationCountry\" \r\n            name=\"locationCountry\" \r\n            value={profile.locationCountry || ''} \r\n            onChange={handleInputChange} \r\n          />\r\n        </div>\r\n        <Input \r\n          label=\"Languages\" \r\n          id=\"languages\" \r\n          name=\"languages\" \r\n          value={profile.languages || ''} \r\n          onChange={handleLanguagesChange} \r\n          placeholder=\"e.g., English, Spanish, German\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"text-right border-t border-gray-200 pt-6\">\r\n        <Button type=\"submit\">Save Changes</Button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default ProfileSettingsTab;\r\n","\r\nimport React from 'react';\r\n\r\ninterface ToggleSwitchProps {\r\n  label: string;\r\n  enabled: boolean;\r\n  onChange: (enabled: boolean) => void;\r\n  description?: string;\r\n}\r\n\r\nconst ToggleSwitch: React.FC<ToggleSwitchProps> = ({ label, enabled, onChange, description }) => {\r\n  return (\r\n    <div className=\"flex items-center justify-between\">\r\n      <span className=\"flex-grow flex flex-col\">\r\n        <span className=\"text-sm font-medium text-gray-900\">{label}</span>\r\n        {description && <span className=\"text-sm text-gray-500\">{description}</span>}\r\n      </span>\r\n      <button\r\n        type=\"button\"\r\n        className={`${\r\n          enabled ? 'bg-amber-600' : 'bg-gray-200'\r\n        } relative inline-flex flex-shrink-0 h-6 w-11 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-amber-500`}\r\n        role=\"switch\"\r\n        aria-checked={enabled}\r\n        onClick={() => onChange(!enabled)}\r\n      >\r\n        <span\r\n          aria-hidden=\"true\"\r\n          className={`${\r\n            enabled ? 'translate-x-5' : 'translate-x-0'\r\n          } pointer-events-none inline-block h-5 w-5 rounded-full bg-white shadow transform ring-0 transition ease-in-out duration-200`}\r\n        />\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ToggleSwitch;\r\n","'use client';\r\n\r\nimport React, { useState } from 'react';\r\nimport type { UserPrivacySettings } from '@prisma/client';\r\nimport Button from '../ui/Button';\r\nimport ToggleSwitch from '../ui/ToggleSwitch';\r\n\r\ninterface PrivacySettingsTabProps {\r\n  settings: UserPrivacySettings;\r\n  onUpdate: (settings: UserPrivacySettings) => void;\r\n}\r\n\r\nconst PrivacySettingsTab: React.FC<PrivacySettingsTabProps> = ({ settings: initialSettings, onUpdate }) => {\r\n  const [settings, setSettings] = useState<UserPrivacySettings>(initialSettings);\r\n\r\n  const handleToggleChange = (key: keyof UserPrivacySettings, value: boolean) => {\r\n    setSettings(prev => ({ ...prev, [key]: value }));\r\n  };\r\n\r\n  const handleSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    onUpdate(settings);\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className=\"space-y-8\">\r\n      <div>\r\n        <h3 className=\"text-lg font-medium leading-6 text-gray-900\">Privacy Settings</h3>\r\n        <p className=\"mt-1 text-sm text-gray-500\">Control what information you share on the platform.</p>\r\n      </div>\r\n      \r\n      <div className=\"space-y-4\">\r\n        <ToggleSwitch\r\n          label=\"Show Temple Affiliations\"\r\n          description=\"Allow others to see the list of temples you are a member of on your profile.\"\r\n          enabled={settings.showAffiliations}\r\n          onChange={(enabled) => handleToggleChange('showAffiliations', enabled)}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"text-right border-t border-gray-200 pt-6\">\r\n        <Button type=\"submit\">Save Changes</Button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default PrivacySettingsTab;","'use client';\r\n\r\nimport React, { useState } from 'react';\r\nimport type { AccountSettings } from '@prisma/client';\r\nimport Button from '../ui/Button';\r\n\r\ninterface AccountSettingsTabProps {\r\n  settings: AccountSettings;\r\n  onUpdate: (settings: AccountSettings) => void;\r\n}\r\n\r\nconst timezones = [\r\n    'Etc/GMT+12', 'Pacific/Midway', 'Pacific/Honolulu',\r\n    'America/Anchorage', 'America/Los_Angeles', 'America/Denver',\r\n    'America/Chicago', 'America/New_York', 'America/Caracas',\r\n    'America/Halifax', 'America/Sao_Paulo', 'Atlantic/South_Georgia',\r\n    'Atlantic/Azores', 'Europe/London', 'Europe/Paris',\r\n    'Europe/Helsinki', 'Asia/Jerusalem', 'Asia/Dubai',\r\n    'Asia/Karachi', 'Asia/Dhaka', 'Asia/Bangkok',\r\n    'Asia/Shanghai', 'Asia/Tokyo', 'Australia/Sydney',\r\n    'Pacific/Auckland',\r\n];\r\n\r\nconst AccountSettingsTab: React.FC<AccountSettingsTabProps> = ({ settings: initialSettings, onUpdate }) => {\r\n  const [settings, setSettings] = useState<AccountSettings>(initialSettings);\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLSelectElement>) => {\r\n    const { name, value } = e.target;\r\n    setSettings(prev => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    onUpdate(settings);\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className=\"space-y-8\">\r\n      <div>\r\n        <h3 className=\"text-lg font-medium leading-6 text-gray-900\">Localization</h3>\r\n        <p className=\"mt-1 text-sm text-gray-500\">Set your preferred language, date, and time formats.</p>\r\n      </div>\r\n\r\n      <div className=\"space-y-6\">\r\n        <div>\r\n          <label htmlFor=\"languagePreference\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n            Language\r\n          </label>\r\n          <select\r\n            id=\"languagePreference\"\r\n            name=\"languagePreference\"\r\n            className=\"w-full pl-3 pr-10 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-amber-500 focus:border-amber-500 sm:text-sm bg-white text-gray-900\"\r\n            value={settings.languagePreference || 'en-US'}\r\n            onChange={handleChange}\r\n          >\r\n            <option value=\"en-US\">English (US)</option>\r\n            <option value=\"es-ES\">Español</option>\r\n            <option value=\"fr-FR\">Français</option>\r\n          </select>\r\n        </div>\r\n\r\n        <div>\r\n          <label htmlFor=\"timezonePreference\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n            Timezone\r\n          </label>\r\n          <select\r\n            id=\"timezonePreference\"\r\n            name=\"timezonePreference\"\r\n            className=\"w-full pl-3 pr-10 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-amber-500 focus:border-amber-500 sm:text-sm bg-white text-gray-900\"\r\n            value={settings.timezonePreference || 'America/New_York'}\r\n            onChange={handleChange}\r\n          >\r\n            {timezones.map(tz => (\r\n              <option key={tz} value={tz}>{tz.replace(/_/g, ' ')}</option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n        \r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n            <div>\r\n              <label htmlFor=\"dateFormat\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                Date Format\r\n              </label>\r\n              <select\r\n                id=\"dateFormat\"\r\n                name=\"dateFormat\"\r\n                className=\"w-full pl-3 pr-10 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-amber-500 focus:border-amber-500 sm:text-sm bg-white text-gray-900\"\r\n                value={settings.dateFormat || 'MM/DD/YYYY'}\r\n                onChange={handleChange}\r\n              >\r\n                <option value=\"MM/DD/YYYY\">MM/DD/YYYY</option>\r\n                <option value=\"DD/MM/YYYY\">DD/MM/YYYY</option>\r\n                <option value=\"YYYY-MM-DD\">YYYY-MM-DD</option>\r\n              </select>\r\n            </div>\r\n\r\n             <div>\r\n              <label htmlFor=\"timeFormat\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                Time Format\r\n              </label>\r\n              <select\r\n                id=\"timeFormat\"\r\n                name=\"timeFormat\"\r\n                className=\"w-full pl-3 pr-10 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-amber-500 focus:border-amber-500 sm:text-sm bg-white text-gray-900\"\r\n                value={settings.timeFormat || '12h'}\r\n                onChange={handleChange}\r\n              >\r\n                <option value=\"12h\">12-hour</option>\r\n                <option value=\"24h\">24-hour</option>\r\n              </select>\r\n            </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"text-right border-t border-gray-200 pt-6\">\r\n        <Button type=\"submit\">Save Changes</Button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default AccountSettingsTab;","'use client';\r\n\r\nimport React, { useState } from 'react';\r\nimport type { User } from '../../types';\r\nimport Button from '../ui/Button';\r\nimport Card from '../ui/Card';\r\nimport Tabs from '../ui/Tabs';\r\nimport ProfileSettingsTab from './ProfileSettingsTab';\r\nimport PrivacySettingsTab from './PrivacySettingsTab';\r\nimport MyMembershipsTab from './MyMembershipsTab';\r\nimport NotificationSettingsTab from './NotificationSettingsTab';\r\nimport AccountSettingsTab from './AccountSettingsTab';\r\n\r\ninterface AccountSettingsPageProps {\r\n  user: User;\r\n  onBack: () => void;\r\n  onRefresh: () => void;\r\n}\r\n\r\nconst TABS = ['Profile', 'Privacy', 'My Memberships', 'Account', 'Notifications'];\r\n\r\nconst AccountSettingsPage: React.FC<AccountSettingsPageProps> = ({ user, onBack, onRefresh }) => {\r\n  const [activeTab, setActiveTab] = useState(TABS[0]);\r\n\r\n  const renderTabContent = () => {\r\n    switch (activeTab) {\r\n      case 'Profile':\r\n        return <ProfileSettingsTab user={user} onRefresh={onRefresh} />;\r\n      case 'Privacy':\r\n        return <PrivacySettingsTab user={user} onRefresh={onRefresh} />;\r\n      case 'My Memberships':\r\n        return <MyMembershipsTab user={user} onRefresh={onRefresh} />;\r\n      case 'Account':\r\n        return <AccountSettingsTab user={user} onRefresh={onRefresh} />;\r\n      case 'Notifications':\r\n        return <NotificationSettingsTab user={user} onRefresh={onRefresh} />;\r\n      // Add other tabs here later\r\n      default:\r\n        return (\r\n          <div className=\"text-center py-12\">\r\n            <h3 className=\"text-lg font-medium text-gray-900\">{activeTab} Settings</h3>\r\n            <p className=\"mt-1 text-sm text-gray-500\">This section is not yet implemented.</p>\r\n          </div>\r\n        );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"max-w-4xl mx-auto space-y-8 py-10 px-4 sm:px-6 lg:px-8\">\r\n      <div className=\"flex justify-between items-center\">\r\n        <div>\r\n          <h1 className=\"text-3xl font-bold text-gray-900\">Account Settings</h1>\r\n          <p className=\"text-sm text-gray-500\">Manage your profile, privacy, and account preferences.</p>\r\n        </div>\r\n        <Button variant=\"secondary\" onClick={onBack}>&larr; Back</Button>\r\n      </div>\r\n      \r\n      <Card className=\"!p-0\">\r\n        <div className=\"px-6\">\r\n          <Tabs tabs={TABS} activeTab={activeTab} onTabClick={setActiveTab} />\r\n        </div>\r\n        <div className=\"p-6\">\r\n          {renderTabContent()}\r\n        </div>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AccountSettingsPage;","'use client';\r\n\r\nimport React, { useState, useMemo } from 'react';\r\nimport type { User, UserTenantMembership, Tenant } from '../../types';\r\nimport { getEnrichedMembershipsForUser } from '../../../lib/data';\r\nimport Button from '../ui/Button';\r\nimport EditMembershipModal from './EditMembershipModal';\r\n\r\ninterface MyMembershipsTabProps {\r\n  user: User;\r\n  onRefresh: () => void;\r\n}\r\n\r\ntype EnrichedMembership = {\r\n    membership: UserTenantMembership;\r\n    tenant: Tenant;\r\n}\r\n\r\nconst MyMembershipsTab: React.FC<MyMembershipsTabProps> = ({ user, onRefresh }) => {\r\n  const memberships = useMemo(() => getEnrichedMembershipsForUser(user.id), [user.id, onRefresh]);\r\n  const [editingMembership, setEditingMembership] = useState<EnrichedMembership | null>(null);\r\n\r\n  return (\r\n    <div className=\"space-y-8\">\r\n      <div>\r\n        <h3 className=\"text-lg font-medium leading-6 text-gray-900\">My Memberships</h3>\r\n        <p className=\"mt-1 text-sm text-gray-500\">Manage your identity within each community you've joined.</p>\r\n      </div>\r\n      \r\n      {memberships.length > 0 ? (\r\n        <div className=\"flow-root\">\r\n          <div className=\"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8\">\r\n            <div className=\"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8\">\r\n              <table className=\"min-w-full divide-y divide-gray-300\">\r\n                <thead>\r\n                  <tr>\r\n                    <th scope=\"col\" className=\"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-0\">Tenant</th>\r\n                    <th scope=\"col\" className=\"px-3 py-3.5 text-left text-sm font-semibold text-gray-900\">My Display Name</th>\r\n                    <th scope=\"col\" className=\"px-3 py-3.5 text-left text-sm font-semibold text-gray-900\">My Title</th>\r\n                    <th scope=\"col\" className=\"relative py-3.5 pl-3 pr-4 sm:pr-0\"><span className=\"sr-only\">Edit</span></th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody className=\"divide-y divide-gray-200 bg-white\">\r\n                  {memberships.map(({ membership, tenant }) => {\r\n                    const primaryRole = membership.roles.find(r => r.isPrimary) || membership.roles[0];\r\n                    return (\r\n                        <tr key={membership.id}>\r\n                            <td className=\"whitespace-nowrap py-4 pl-4 pr-3 text-sm sm:pl-0\">\r\n                                <div className=\"font-medium text-gray-900\">{tenant.name}</div>\r\n                                <div className=\"text-gray-500\">{tenant.creed}</div>\r\n                            </td>\r\n                            <td className=\"whitespace-nowrap px-3 py-4 text-sm text-gray-500\">\r\n                                {membership.displayName || `${user.profile.displayName} (Global)`}\r\n                            </td>\r\n                             <td className=\"whitespace-nowrap px-3 py-4 text-sm text-gray-500\">\r\n                                {primaryRole?.displayTitle || 'Not set'}\r\n                            </td>\r\n                            <td className=\"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-0\">\r\n                                <Button variant=\"secondary\" size=\"sm\" onClick={() => setEditingMembership({ membership, tenant })}>\r\n                                    Edit\r\n                                </Button>\r\n                            </td>\r\n                        </tr>\r\n                    );\r\n                  })}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <div className=\"text-center py-12\">\r\n            <h3 className=\"text-lg font-medium text-gray-900\">No Memberships</h3>\r\n            <p className=\"mt-1 text-sm text-gray-500\">You haven't joined any tenants yet.</p>\r\n        </div>\r\n      )}\r\n\r\n      {editingMembership && (\r\n        <EditMembershipModal\r\n          isOpen={!!editingMembership}\r\n          onClose={() => setEditingMembership(null)}\r\n          user={user}\r\n          enrichedMembership={editingMembership}\r\n          onSave={() => {\r\n            onRefresh();\r\n            setEditingMembership(null);\r\n          }}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MyMembershipsTab;","'use client';\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport type { User, UserTenantMembership, Tenant } from '../../types';\r\nimport { updateMembershipProfile } from '../../../lib/data';\r\nimport Modal from '../ui/Modal';\r\nimport Button from '../ui/Button';\r\nimport Input from '../ui/Input';\r\n\r\ninterface EditMembershipModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  user: User;\r\n  enrichedMembership: {\r\n    membership: UserTenantMembership;\r\n    tenant: Tenant;\r\n  };\r\n  onSave: () => void;\r\n}\r\n\r\nconst EditMembershipModal: React.FC<EditMembershipModalProps> = ({ isOpen, onClose, user, enrichedMembership, onSave }) => {\r\n  const { membership, tenant } = enrichedMembership;\r\n  \r\n  const [displayName, setDisplayName] = useState(membership.displayName || '');\r\n  const [displayTitle, setDisplayTitle] = useState('');\r\n\r\n  useEffect(() => {\r\n    if (membership) {\r\n      setDisplayName(membership.displayName || '');\r\n      const primaryRole = membership.roles.find(r => r.isPrimary) || membership.roles[0];\r\n      setDisplayTitle(primaryRole?.displayTitle || '');\r\n    }\r\n  }, [membership]);\r\n\r\n  const handleSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    updateMembershipProfile(user.id, membership.id, { displayName, displayTitle });\r\n    onSave();\r\n    alert('Membership profile updated!');\r\n  };\r\n\r\n  return (\r\n    <Modal isOpen={isOpen} onClose={onClose} title={`Editing Profile for ${tenant.name}`}>\r\n      <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n        <Input \r\n          label=\"Display Name in this Tenant\" \r\n          id=\"displayName\" \r\n          name=\"displayName\" \r\n          value={displayName} \r\n          onChange={(e) => setDisplayName(e.target.value)}\r\n          placeholder={user.profile.displayName}\r\n        />\r\n        <p className=\"text-xs text-gray-500 -mt-4 ml-1\">Leave blank to use your global name: \"{user.profile.displayName}\"</p>\r\n        \r\n        <Input \r\n          label=\"Display Title\" \r\n          id=\"displayTitle\" \r\n          name=\"displayTitle\" \r\n          value={displayTitle} \r\n          onChange={(e) => setDisplayTitle(e.target.value)}\r\n          placeholder=\"e.g., Brother, Sister, Volunteer\"\r\n        />\r\n         <p className=\"text-xs text-gray-500 -mt-4 ml-1\">This title appears next to your name within this tenant.</p>\r\n        \r\n        <div className=\"flex justify-end items-center space-x-4 pt-4 border-t border-gray-200\">\r\n          <Button type=\"button\" variant=\"secondary\" onClick={onClose}>\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\">Save Changes</Button>\r\n        </div>\r\n      </form>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default EditMembershipModal;","'use client';\r\n\r\nimport React, { useState } from 'react';\r\nimport type { User, NotificationPreferences } from '../../types';\r\nimport { updateUserNotificationPreferences } from '../../../lib/data';\r\nimport Button from '../ui/Button';\r\nimport ToggleSwitch from '../ui/ToggleSwitch';\r\n\r\ninterface NotificationSettingsTabProps {\r\n  user: User;\r\n  onRefresh: () => void;\r\n}\r\n\r\nconst NotificationSettingsTab: React.FC<NotificationSettingsTabProps> = ({ user, onRefresh }) => {\r\n  const [prefs, setPrefs] = useState<NotificationPreferences>(user.notificationPreferences);\r\n\r\n  const handleToggleChange = (\r\n    category: keyof NotificationPreferences,\r\n    key: keyof NotificationPreferences['email'],\r\n    value: boolean\r\n  ) => {\r\n    setPrefs(prev => ({\r\n      ...prev,\r\n      [category]: {\r\n        ...prev[category],\r\n        [key]: value,\r\n      }\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    updateUserNotificationPreferences(user.id, prefs);\r\n    onRefresh();\r\n    alert('Notification settings updated successfully!');\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className=\"space-y-8\">\r\n      <div>\r\n        <h3 className=\"text-lg font-medium leading-6 text-gray-900\">Email Notifications</h3>\r\n        <p className=\"mt-1 text-sm text-gray-500\">Choose which emails you want to receive.</p>\r\n      </div>\r\n      \r\n      <div className=\"space-y-6\">\r\n        <h4 className=\"text-md font-semibold text-gray-700\">Community Updates</h4>\r\n        <ToggleSwitch\r\n          label=\"New Announcements\"\r\n          description=\"Receive an email when a new announcement is posted in a tenant you belong to.\"\r\n          enabled={prefs.email.newAnnouncement}\r\n          onChange={(enabled) => handleToggleChange('email', 'newAnnouncement', enabled)}\r\n        />\r\n        <ToggleSwitch\r\n          label=\"New Events\"\r\n          description=\"Get notified when a new event is scheduled in your communities.\"\r\n          enabled={prefs.email.newEvent}\r\n          onChange={(enabled) => handleToggleChange('email', 'newEvent', enabled)}\r\n        />\r\n        <ToggleSwitch\r\n          label=\"Membership Updates\"\r\n          description=\"Be notified when your request to join a tenant is approved or rejected.\"\r\n          enabled={prefs.email.membershipUpdate}\r\n          onChange={(enabled) => handleToggleChange('email', 'membershipUpdate', enabled)}\r\n        />\r\n        \r\n        <div className=\"border-t border-gray-200 pt-6\">\r\n             <h4 className=\"text-md font-semibold text-gray-700\">Messaging</h4>\r\n        </div>\r\n         <ToggleSwitch\r\n          label=\"Direct Messages\"\r\n          description=\"Receive an email when someone sends you a direct message.\"\r\n          enabled={prefs.email.directMessage}\r\n          onChange={(enabled) => handleToggleChange('email', 'directMessage', enabled)}\r\n        />\r\n        <ToggleSwitch\r\n          label=\"Group Chat Messages\"\r\n          description=\"Receive an email for messages in group channels. (Note: This can be a lot of email!)\"\r\n          enabled={prefs.email.groupChatMessage}\r\n          onChange={(enabled) => handleToggleChange('email', 'groupChatMessage', enabled)}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"text-right border-t border-gray-200 pt-6\">\r\n        <Button type=\"submit\">Save Changes</Button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default NotificationSettingsTab;\r\n"],"names":[],"mappings":"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"}