{"version":3,"sources":["../../../../app/components/ui/Card.tsx","../../../../app/tenants/%5BtenantId%5D/livestream/page.tsx","../../../../app/components/tenant/LiveStreamPage.tsx"],"sourcesContent":["\r\nimport React from 'react';\r\n\r\ninterface CardProps {\r\n  children: React.ReactNode;\r\n  className?: string;\r\n  title?: string;\r\n  description?: string;\r\n}\r\n\r\nconst Card: React.FC<CardProps> = ({ children, className, title, description }) => {\r\n  return (\r\n    <div className={`bg-white shadow-md rounded-lg overflow-hidden ${className}`}>\r\n        {title && (\r\n            <div className=\"p-6 border-b border-gray-200\">\r\n                <h3 className=\"text-lg font-semibold leading-6 text-gray-900\">{title}</h3>\r\n                {description && <p className=\"mt-1 text-sm text-gray-500\">{description}</p>}\r\n            </div>\r\n        )}\r\n      <div className=\"p-6\">\r\n        {children}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n","import { getServerSession } from 'next-auth/next';\r\nimport { authOptions } from '@/app/api/auth/[...nextauth]/route';\r\nimport { redirect } from 'next/navigation';\r\nimport { getTenantById, getUserById } from '@/lib/data';\r\nimport LiveStreamPage from '@/app/components/tenant/LiveStreamPage';\r\n\r\nexport default async function TenantLiveStreamPage({ params }: { params: Promise<{ tenantId: string }> }) {\r\n  const session = await getServerSession(authOptions);\r\n\r\n  if (!session || !session.user) {\r\n    redirect('/auth/login');\r\n  }\r\n\r\n  const resolvedParams = await params;\r\n  const tenant = await getTenantById(resolvedParams.tenantId);\r\n  const user = await getUserById((session.user as any).id);\r\n\r\n  if (!tenant || !user) {\r\n    redirect('/');\r\n  }\r\n\r\n  return <LiveStreamPage tenant={tenant} user={user} />;\r\n}\r\n","import React from 'react';\r\nimport type { Tenant } from '../../types';\r\nimport Card from '../ui/Card';\r\n\r\ninterface LiveStreamPageProps {\r\n  tenant: Tenant;\r\n}\r\n\r\nconst LiveStreamPage: React.FC<LiveStreamPageProps> = ({ tenant }) => {\r\n  const { liveStreamSettings } = tenant.settings;\r\n\r\n  if (!liveStreamSettings.embedUrl) {\r\n    return (\r\n       <Card>\r\n        <div className=\"text-center py-12\">\r\n            <h2 className=\"text-xl font-bold text-gray-900\">Live Stream Offline</h2>\r\n            <p className=\"mt-2 text-gray-500\">The live stream embed URL has not been configured by an administrator.</p>\r\n        </div>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-8\">\r\n       <div>\r\n          <h2 className=\"text-2xl font-bold text-gray-900\">Live Stream</h2>\r\n          <p className=\"mt-1 text-sm text-gray-500\">\r\n            Join the live service from {tenant.name}.\r\n          </p>\r\n        </div>\r\n        <Card className=\"!p-0 overflow-hidden\">\r\n            <div className=\"aspect-w-16 aspect-h-9\">\r\n                <iframe\r\n                src={liveStreamSettings.embedUrl}\r\n                title={`${tenant.name} Live Stream`}\r\n                frameBorder=\"0\"\r\n                allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\r\n                allowFullScreen\r\n                className=\"w-full h-full\"\r\n                ></iframe>\r\n            </div>\r\n        </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LiveStreamPage;\r\n"],"names":[],"mappings":"gYAUkC,CAAC,UAAE,CAAQ,WAAE,CAAS,OAAE,CAAK,CAAE,aAAW,CAAE,GAE1E,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,CAAC,8CAA8C,EAAE,EAAA,CAAW,WACvE,GACG,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yCACX,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,yDAAiD,IAC9D,GAAe,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sCAA8B,OAGrE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,eACZ,iDCpBT,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,CAAA,CAAA,OAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OCDA,EAAA,EAAA,CAAA,CAAA,YAMsD,CAAC,QAAE,CAAM,CAAE,IAC/D,GAAM,aAqCO,OArCL,CAAkB,CAAE,CAAG,EAAO,QAAQ,QAE9C,AAAK,EAAmB,EAApB,MAA4B,CAY9B,CAAA,AAZgC,EAYhC,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACZ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACE,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,4CAAmC,gBACjD,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,uCAA6B,8BACZ,EAAO,IAAI,CAAC,UAG5C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CAAC,UAAU,gCACZ,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kCACX,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACD,IAAK,EAAmB,QAAQ,CAChC,MAAO,CAAA,EAAG,EAAO,IAAI,CAAC,YAAY,CAAC,CACnC,YAAY,IACZ,MAAM,2FACN,eAAe,CAAA,CAAA,EACf,UAAU,yBAzBnB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,UACJ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8BACX,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,2CAAkC,wBAChD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,8BAAqB,+EA4B9C,EDtCe,eAAe,EAAqB,QAAE,CAAM,CAA6C,EACtG,IAAM,EAAU,MAAM,CAAA,EAAA,EAAA,gBAAA,AAAgB,EAAC,EAAA,WAAW,CAE9C,CAAC,GAAY,EAAQ,IAAI,EAAb,AAAe,AAC7B,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,eAGX,IAAM,EAAiB,MAAM,EACvB,EAAS,MAAM,CAAA,EAAA,EAAA,aAAA,AAAa,EAAC,EAAe,QAAQ,EACpD,EAAO,MAAM,CAAA,EAAA,EAAA,WAAA,AAAW,EAAE,EAAQ,IAAI,CAAS,EAAE,EAMvD,OAJI,AAAC,GAAW,GACd,CAAA,EADoB,AACpB,CADa,CACb,QAAA,AAAQ,EAAC,KAGJ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAe,OAAQ,EAAQ,KAAM,GAC/C"}