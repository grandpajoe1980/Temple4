module.exports=[29173,(a,b,c)=>{b.exports=a.x("@prisma/client",()=>require("@prisma/client"))},54799,(a,b,c)=>{b.exports=a.x("crypto",()=>require("crypto"))},66917,a=>{"use strict";var b=a.i(87924);a.s(["default",0,({children:a,variant:c="primary",size:d="md",className:e,...f})=>(0,b.jsx)("button",{className:`rounded-md font-semibold focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${{primary:"bg-amber-600 text-white hover:bg-amber-700 focus:ring-amber-500",secondary:"bg-gray-200 text-gray-800 hover:bg-gray-300 focus:ring-gray-400",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500"}[c]} ${{md:"px-4 py-2 text-sm",sm:"px-3 py-1.5 text-xs"}[d]} ${e}`,...f,children:a})])},37942,a=>{"use strict";var b=a.i(87924);a.s(["default",0,({children:a,className:c,title:d,description:e})=>(0,b.jsxs)("div",{className:`bg-white shadow-md rounded-lg overflow-hidden ${c}`,children:[d&&(0,b.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold leading-6 text-gray-900",children:d}),e&&(0,b.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:e})]}),(0,b.jsx)("div",{className:"p-6",children:a})]})])},63187,a=>{"use strict";var b=a.i(87924);a.s(["default",0,({label:a,id:c,containerClassName:d,...e})=>(0,b.jsxs)("div",{className:d,children:[(0,b.jsx)("label",{htmlFor:c,className:"block text-sm font-medium text-gray-700 mb-1",children:a}),(0,b.jsx)("input",{id:c,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-amber-500 focus:border-amber-500 sm:text-sm bg-white text-gray-900 placeholder:text-gray-400",...e})]})])},77375,a=>{"use strict";var b=a.i(87924);a.s(["default",0,({label:a,enabled:c,onChange:d,description:e})=>(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("span",{className:"flex-grow flex flex-col",children:[(0,b.jsx)("span",{className:"text-sm font-medium text-gray-900",children:a}),e&&(0,b.jsx)("span",{className:"text-sm text-gray-500",children:e})]}),(0,b.jsx)("button",{type:"button",className:`${c?"bg-amber-600":"bg-gray-200"} relative inline-flex flex-shrink-0 h-6 w-11 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-amber-500`,role:"switch","aria-checked":c,onClick:()=>d(!c),children:(0,b.jsx)("span",{"aria-hidden":"true",className:`${c?"translate-x-5":"translate-x-0"} pointer-events-none inline-block h-5 w-5 rounded-full bg-white shadow transform ring-0 transition ease-in-out duration-200`})})]})])},58020,a=>{"use strict";var b=a.i(87924),c=a.i(72131);a.s(["default",0,({isOpen:a,onClose:d,title:e,children:f})=>((0,c.useEffect)(()=>{let a=a=>{"Escape"===a.key&&d()};return document.addEventListener("keydown",a),()=>{document.removeEventListener("keydown",a)}},[d]),a)?(0,b.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 flex justify-center items-start overflow-y-auto p-4 sm:p-10","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",onClick:d,children:(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full overflow-hidden",onClick:a=>a.stopPropagation(),children:[(0,b.jsxs)("div",{className:"flex justify-between items-center p-4 border-b border-gray-200",children:[(0,b.jsx)("h2",{id:"modal-title",className:"text-lg font-semibold text-gray-900",children:e}),(0,b.jsx)("button",{onClick:d,className:"text-gray-400 hover:text-gray-600","aria-label":"Close modal",children:(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,b.jsx)("div",{className:"p-6",children:f})]})}):null])},86008,a=>{"use strict";var b=a.i(87924);a.s(["default",0,({tabs:a,activeTab:c,onTabClick:d})=>(0,b.jsx)("div",{className:"border-b border-gray-200",children:(0,b.jsx)("nav",{className:"-mb-px flex space-x-6 overflow-x-auto","aria-label":"Tabs",children:a.map(a=>(0,b.jsx)("button",{onClick:()=>d(a),className:`${c===a?"border-amber-500 text-amber-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,"aria-current":c===a?"page":void 0,children:a},a))})})])},43245,83001,59113,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(63187),e=a.i(66917);a.s(["default",0,({profile:a,onUpdate:f})=>{let[g,h]=(0,c.useState)(a),i=a=>{let{name:b,value:c}=a.target;h(a=>({...a,[b]:c}))};return(0,b.jsxs)("form",{onSubmit:a=>{a.preventDefault(),f(g)},className:"space-y-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Personal Information"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"This information will be displayed on your public profile."})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)(d.default,{label:"Display Name",id:"displayName",name:"displayName",value:g.displayName,onChange:i,required:!0}),(0,b.jsx)(d.default,{label:"Avatar URL",id:"avatarUrl",name:"avatarUrl",type:"url",value:g.avatarUrl||"",onChange:i}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"bio",className:"block text-sm font-medium text-gray-700 mb-1",children:"Bio"}),(0,b.jsx)("textarea",{id:"bio",name:"bio",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-amber-500 focus:border-amber-500 sm:text-sm bg-white text-gray-900",value:g.bio||"",onChange:i})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsx)(d.default,{label:"City",id:"locationCity",name:"locationCity",value:g.locationCity||"",onChange:i}),(0,b.jsx)(d.default,{label:"Country",id:"locationCountry",name:"locationCountry",value:g.locationCountry||"",onChange:i})]}),(0,b.jsx)(d.default,{label:"Languages",id:"languages",name:"languages",value:g.languages||"",onChange:a=>{h(b=>({...b,languages:a.target.value}))},placeholder:"e.g., English, Spanish, German"})]}),(0,b.jsx)("div",{className:"text-right border-t border-gray-200 pt-6",children:(0,b.jsx)(e.default,{type:"submit",children:"Save Changes"})})]})}],43245);var f=a.i(77375);a.s(["default",0,({settings:a,onUpdate:d})=>{let[g,h]=(0,c.useState)(a);return(0,b.jsxs)("form",{onSubmit:a=>{a.preventDefault(),d(g)},className:"space-y-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Privacy Settings"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Control what information you share on the platform."})]}),(0,b.jsx)("div",{className:"space-y-4",children:(0,b.jsx)(f.default,{label:"Show Temple Affiliations",description:"Allow others to see the list of temples you are a member of on your profile.",enabled:g.showAffiliations,onChange:a=>{h(b=>({...b,showAffiliations:a}))}})}),(0,b.jsx)("div",{className:"text-right border-t border-gray-200 pt-6",children:(0,b.jsx)(e.default,{type:"submit",children:"Save Changes"})})]})}],83001);let g=["Etc/GMT+12","Pacific/Midway","Pacific/Honolulu","America/Anchorage","America/Los_Angeles","America/Denver","America/Chicago","America/New_York","America/Caracas","America/Halifax","America/Sao_Paulo","Atlantic/South_Georgia","Atlantic/Azores","Europe/London","Europe/Paris","Europe/Helsinki","Asia/Jerusalem","Asia/Dubai","Asia/Karachi","Asia/Dhaka","Asia/Bangkok","Asia/Shanghai","Asia/Tokyo","Australia/Sydney","Pacific/Auckland"];a.s(["default",0,({settings:a,onUpdate:d})=>{let[f,h]=(0,c.useState)(a),i=a=>{let{name:b,value:c}=a.target;h(a=>({...a,[b]:c}))};return(0,b.jsxs)("form",{onSubmit:a=>{a.preventDefault(),d(f)},className:"space-y-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Localization"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Set your preferred language, date, and time formats."})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"languagePreference",className:"block text-sm font-medium text-gray-700 mb-1",children:"Language"}),(0,b.jsxs)("select",{id:"languagePreference",name:"languagePreference",className:"w-full pl-3 pr-10 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-amber-500 focus:border-amber-500 sm:text-sm bg-white text-gray-900",value:f.languagePreference||"en-US",onChange:i,children:[(0,b.jsx)("option",{value:"en-US",children:"English (US)"}),(0,b.jsx)("option",{value:"es-ES",children:"Español"}),(0,b.jsx)("option",{value:"fr-FR",children:"Français"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"timezonePreference",className:"block text-sm font-medium text-gray-700 mb-1",children:"Timezone"}),(0,b.jsx)("select",{id:"timezonePreference",name:"timezonePreference",className:"w-full pl-3 pr-10 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-amber-500 focus:border-amber-500 sm:text-sm bg-white text-gray-900",value:f.timezonePreference||"America/New_York",onChange:i,children:g.map(a=>(0,b.jsx)("option",{value:a,children:a.replace(/_/g," ")},a))})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"dateFormat",className:"block text-sm font-medium text-gray-700 mb-1",children:"Date Format"}),(0,b.jsxs)("select",{id:"dateFormat",name:"dateFormat",className:"w-full pl-3 pr-10 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-amber-500 focus:border-amber-500 sm:text-sm bg-white text-gray-900",value:f.dateFormat||"MM/DD/YYYY",onChange:i,children:[(0,b.jsx)("option",{value:"MM/DD/YYYY",children:"MM/DD/YYYY"}),(0,b.jsx)("option",{value:"DD/MM/YYYY",children:"DD/MM/YYYY"}),(0,b.jsx)("option",{value:"YYYY-MM-DD",children:"YYYY-MM-DD"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"timeFormat",className:"block text-sm font-medium text-gray-700 mb-1",children:"Time Format"}),(0,b.jsxs)("select",{id:"timeFormat",name:"timeFormat",className:"w-full pl-3 pr-10 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-amber-500 focus:border-amber-500 sm:text-sm bg-white text-gray-900",value:f.timeFormat||"12h",onChange:i,children:[(0,b.jsx)("option",{value:"12h",children:"12-hour"}),(0,b.jsx)("option",{value:"24h",children:"24-hour"})]})]})]})]}),(0,b.jsx)("div",{className:"text-right border-t border-gray-200 pt-6",children:(0,b.jsx)(e.default,{type:"submit",children:"Save Changes"})})]})}],59113)},85983,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(66917),e=a.i(37942),f=a.i(86008),g=a.i(43245),h=a.i(83001),i=a.i(82665),j=a.i(58020),k=a.i(63187);let l=({isOpen:a,onClose:e,user:f,enrichedMembership:g,onSave:h})=>{let{membership:l,tenant:m}=g,[n,o]=(0,c.useState)(l.displayName||""),[p,q]=(0,c.useState)("");return(0,c.useEffect)(()=>{if(l){o(l.displayName||"");let a=l.roles.find(a=>a.isPrimary)||l.roles[0];q(a?.displayTitle||"")}},[l]),(0,b.jsx)(j.default,{isOpen:a,onClose:e,title:`Editing Profile for ${m.name}`,children:(0,b.jsxs)("form",{onSubmit:a=>{a.preventDefault(),(0,i.updateMembershipProfile)(f.id,l.id,{displayName:n,displayTitle:p}),h(),alert("Membership profile updated!")},className:"space-y-6",children:[(0,b.jsx)(k.default,{label:"Display Name in this Tenant",id:"displayName",name:"displayName",value:n,onChange:a=>o(a.target.value),placeholder:f.profile.displayName}),(0,b.jsxs)("p",{className:"text-xs text-gray-500 -mt-4 ml-1",children:['Leave blank to use your global name: "',f.profile.displayName,'"']}),(0,b.jsx)(k.default,{label:"Display Title",id:"displayTitle",name:"displayTitle",value:p,onChange:a=>q(a.target.value),placeholder:"e.g., Brother, Sister, Volunteer"}),(0,b.jsx)("p",{className:"text-xs text-gray-500 -mt-4 ml-1",children:"This title appears next to your name within this tenant."}),(0,b.jsxs)("div",{className:"flex justify-end items-center space-x-4 pt-4 border-t border-gray-200",children:[(0,b.jsx)(d.default,{type:"button",variant:"secondary",onClick:e,children:"Cancel"}),(0,b.jsx)(d.default,{type:"submit",children:"Save Changes"})]})]})})},m=({user:a,onRefresh:e})=>{let f=(0,c.useMemo)(()=>(0,i.getEnrichedMembershipsForUser)(a.id),[a.id,e]),[g,h]=(0,c.useState)(null);return(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"My Memberships"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Manage your identity within each community you've joined."})]}),f.length>0?(0,b.jsx)("div",{className:"flow-root",children:(0,b.jsx)("div",{className:"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8",children:(0,b.jsx)("div",{className:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8",children:(0,b.jsxs)("table",{className:"min-w-full divide-y divide-gray-300",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-0",children:"Tenant"}),(0,b.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"My Display Name"}),(0,b.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"My Title"}),(0,b.jsx)("th",{scope:"col",className:"relative py-3.5 pl-3 pr-4 sm:pr-0",children:(0,b.jsx)("span",{className:"sr-only",children:"Edit"})})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-gray-200 bg-white",children:f.map(({membership:c,tenant:e})=>{let f=c.roles.find(a=>a.isPrimary)||c.roles[0];return(0,b.jsxs)("tr",{children:[(0,b.jsxs)("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 text-sm sm:pl-0",children:[(0,b.jsx)("div",{className:"font-medium text-gray-900",children:e.name}),(0,b.jsx)("div",{className:"text-gray-500",children:e.creed})]}),(0,b.jsx)("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:c.displayName||`${a.profile.displayName} (Global)`}),(0,b.jsx)("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:f?.displayTitle||"Not set"}),(0,b.jsx)("td",{className:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-0",children:(0,b.jsx)(d.default,{variant:"secondary",size:"sm",onClick:()=>h({membership:c,tenant:e}),children:"Edit"})})]},c.id)})})]})})})}):(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"No Memberships"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"You haven't joined any tenants yet."})]}),g&&(0,b.jsx)(l,{isOpen:!!g,onClose:()=>h(null),user:a,enrichedMembership:g,onSave:()=>{e(),h(null)}})]})};var n=a.i(77375);let o=({user:a,onRefresh:e})=>{let[f,g]=(0,c.useState)(a.notificationPreferences),h=(a,b,c)=>{g(d=>({...d,[a]:{...d[a],[b]:c}}))};return(0,b.jsxs)("form",{onSubmit:b=>{b.preventDefault(),(0,i.updateUserNotificationPreferences)(a.id,f),e(),alert("Notification settings updated successfully!")},className:"space-y-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Email Notifications"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Choose which emails you want to receive."})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("h4",{className:"text-md font-semibold text-gray-700",children:"Community Updates"}),(0,b.jsx)(n.default,{label:"New Announcements",description:"Receive an email when a new announcement is posted in a tenant you belong to.",enabled:f.email.newAnnouncement,onChange:a=>h("email","newAnnouncement",a)}),(0,b.jsx)(n.default,{label:"New Events",description:"Get notified when a new event is scheduled in your communities.",enabled:f.email.newEvent,onChange:a=>h("email","newEvent",a)}),(0,b.jsx)(n.default,{label:"Membership Updates",description:"Be notified when your request to join a tenant is approved or rejected.",enabled:f.email.membershipUpdate,onChange:a=>h("email","membershipUpdate",a)}),(0,b.jsx)("div",{className:"border-t border-gray-200 pt-6",children:(0,b.jsx)("h4",{className:"text-md font-semibold text-gray-700",children:"Messaging"})}),(0,b.jsx)(n.default,{label:"Direct Messages",description:"Receive an email when someone sends you a direct message.",enabled:f.email.directMessage,onChange:a=>h("email","directMessage",a)}),(0,b.jsx)(n.default,{label:"Group Chat Messages",description:"Receive an email for messages in group channels. (Note: This can be a lot of email!)",enabled:f.email.groupChatMessage,onChange:a=>h("email","groupChatMessage",a)})]}),(0,b.jsx)("div",{className:"text-right border-t border-gray-200 pt-6",children:(0,b.jsx)(d.default,{type:"submit",children:"Save Changes"})})]})};var p=a.i(59113);let q=["Profile","Privacy","My Memberships","Account","Notifications"];a.s(["default",0,({user:a,onBack:i,onRefresh:j})=>{let[k,l]=(0,c.useState)(q[0]);return(0,b.jsxs)("div",{className:"max-w-4xl mx-auto space-y-8 py-10 px-4 sm:px-6 lg:px-8",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Account Settings"}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Manage your profile, privacy, and account preferences."})]}),(0,b.jsx)(d.default,{variant:"secondary",onClick:i,children:"← Back"})]}),(0,b.jsxs)(e.default,{className:"!p-0",children:[(0,b.jsx)("div",{className:"px-6",children:(0,b.jsx)(f.default,{tabs:q,activeTab:k,onTabClick:l})}),(0,b.jsx)("div",{className:"p-6",children:(()=>{switch(k){case"Profile":return(0,b.jsx)(g.default,{user:a,onRefresh:j});case"Privacy":return(0,b.jsx)(h.default,{user:a,onRefresh:j});case"My Memberships":return(0,b.jsx)(m,{user:a,onRefresh:j});case"Account":return(0,b.jsx)(p.default,{user:a,onRefresh:j});case"Notifications":return(0,b.jsx)(o,{user:a,onRefresh:j});default:return(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsxs)("h3",{className:"text-lg font-medium text-gray-900",children:[k," Settings"]}),(0,b.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"This section is not yet implemented."})]})}})()})]})]})}],85983)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__364371e9._.js.map