module.exports=[29173,(a,b,c)=>{b.exports=a.x("@prisma/client",()=>require("@prisma/client"))},54799,(a,b,c)=>{b.exports=a.x("crypto",()=>require("crypto"))},66917,a=>{"use strict";var b=a.i(87924);a.s(["default",0,({children:a,variant:c="primary",size:d="md",className:e,...f})=>(0,b.jsx)("button",{className:`rounded-md font-semibold focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${{primary:"bg-amber-600 text-white hover:bg-amber-700 focus:ring-amber-500",secondary:"bg-gray-200 text-gray-800 hover:bg-gray-300 focus:ring-gray-400",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500"}[c]} ${{md:"px-4 py-2 text-sm",sm:"px-3 py-1.5 text-xs"}[d]} ${e}`,...f,children:a})])},37942,a=>{"use strict";var b=a.i(87924);a.s(["default",0,({children:a,className:c,title:d,description:e})=>(0,b.jsxs)("div",{className:`bg-white shadow-md rounded-lg overflow-hidden ${c}`,children:[d&&(0,b.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold leading-6 text-gray-900",children:d}),e&&(0,b.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:e})]}),(0,b.jsx)("div",{className:"p-6",children:a})]})])},63187,a=>{"use strict";var b=a.i(87924);a.s(["default",0,({label:a,id:c,containerClassName:d,...e})=>(0,b.jsxs)("div",{className:d,children:[(0,b.jsx)("label",{htmlFor:c,className:"block text-sm font-medium text-gray-700 mb-1",children:a}),(0,b.jsx)("input",{id:c,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-amber-500 focus:border-amber-500 sm:text-sm bg-white text-gray-900 placeholder:text-gray-400",...e})]})])},77375,a=>{"use strict";var b=a.i(87924);a.s(["default",0,({label:a,enabled:c,onChange:d,description:e})=>(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("span",{className:"flex-grow flex flex-col",children:[(0,b.jsx)("span",{className:"text-sm font-medium text-gray-900",children:a}),e&&(0,b.jsx)("span",{className:"text-sm text-gray-500",children:e})]}),(0,b.jsx)("button",{type:"button",className:`${c?"bg-amber-600":"bg-gray-200"} relative inline-flex flex-shrink-0 h-6 w-11 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-amber-500`,role:"switch","aria-checked":c,onClick:()=>d(!c),children:(0,b.jsx)("span",{"aria-hidden":"true",className:`${c?"translate-x-5":"translate-x-0"} pointer-events-none inline-block h-5 w-5 rounded-full bg-white shadow transform ring-0 transition ease-in-out duration-200`})})]})])},93843,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(82665),e=a.i(66917),f=a.i(37942),g=a.i(63187),h=a.i(77375);let i=({tenant:a})=>{let e=a.settings.donationSettings.leaderboardTimeframe,g=(0,c.useMemo)(()=>(0,d.getDonationsForTenant)(a.id,e),[a.id,e]),h=(0,c.useMemo)(()=>{let a={};return g.forEach(b=>{if(b.isAnonymousOnLeaderboard)return;let c=b.userId||b.displayName;a[c]||(a[c]={total:0,name:b.displayName,avatar:b.userAvatarUrl}),a[c].total+=b.amount}),Object.values(a).sort((a,b)=>b.total-a.total).slice(0,10)},[g]);return(0,b.jsx)(f.default,{title:`Top Donors (${e.replace("_"," ").toLowerCase()})`,children:h.length>0?(0,b.jsx)("ul",{className:"divide-y divide-gray-200",children:h.map((a,c)=>(0,b.jsxs)("li",{className:"py-3 flex items-center",children:[(0,b.jsx)("div",{className:"w-8 text-lg font-bold text-gray-400",children:c+1}),a.avatar&&(0,b.jsx)("img",{className:"h-10 w-10 rounded-full",src:a.avatar,alt:a.name}),(0,b.jsx)("div",{className:`flex-1 ${!a.avatar&&"ml-10"}`,children:(0,b.jsx)("p",{className:"text-sm font-medium text-gray-900",children:a.name})}),(0,b.jsxs)("p",{className:"text-sm font-semibold text-amber-700",children:["$",a.total.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]},a.name+c))}):(0,b.jsx)("p",{className:"text-sm text-gray-500 text-center py-4",children:"No donations to display for this period."})})};a.s(["default",0,({tenant:a,user:j,onRefresh:k})=>{let l=a.settings.donationSettings,[m,n]=(0,c.useState)(l.suggestedAmounts[0]||"custom"),[o,p]=(0,c.useState)(""),[q,r]=(0,c.useState)(""),[s,t]=(0,c.useState)(!1),[u,v]=(0,c.useState)(!1);return u?(0,b.jsx)(f.default,{children:(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:"Thank You!"}),(0,b.jsxs)("p",{className:"mt-2 text-gray-600",children:["Your generous donation to ",a.name," is greatly appreciated."]}),(0,b.jsx)(e.default,{onClick:()=>v(!1),className:"mt-6",children:"Make Another Donation"})]})}):(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsx)("div",{className:"flex justify-between items-center",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Donations"}),(0,b.jsxs)("p",{className:"mt-1 text-sm text-gray-500",children:["Support the mission and work of ",a.name,"."]})]})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,b.jsx)("div",{className:"lg:col-span-2",children:"EXTERNAL"===l.mode?(0,b.jsx)(f.default,{children:(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsxs)("h3",{className:"text-xl font-semibold text-gray-800",children:["Donate to ",a.name]}),(0,b.jsx)("p",{className:"mt-2 text-gray-600",children:"This community accepts donations via an external service. Click the button below to be redirected."}),(0,b.jsx)("a",{href:l.externalUrl,target:"_blank",rel:"noopener noreferrer",children:(0,b.jsx)(e.default,{className:"mt-6",children:"Proceed to Donation Site"})})]})}):(0,b.jsx)("form",{onSubmit:b=>{b.preventDefault();let c="custom"===m?parseFloat(o):m;isNaN(c)||c<=0?alert("Please enter a valid donation amount."):((0,d.addDonationRecord)({tenantId:a.id,userId:j.id,displayName:j.profile.displayName,amount:c,currency:l.currency,message:q,isAnonymousOnLeaderboard:s}),k(),v(!0))},children:(0,b.jsxs)(f.default,{title:"Make a Donation",description:`Your support for ${a.name} is greatly appreciated.`,children:[(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select an Amount (",l.currency,")"]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[l.suggestedAmounts.map(a=>(0,b.jsxs)("button",{type:"button",onClick:()=>n(a),className:`p-4 text-center rounded-md border-2 font-semibold transition-colors ${m===a?"bg-amber-100 border-amber-500 text-amber-800":"bg-white border-gray-300 hover:border-amber-400"}`,children:["$",a]},a)),l.allowCustomAmounts&&(0,b.jsx)("button",{type:"button",onClick:()=>n("custom"),className:`p-4 text-center rounded-md border-2 font-semibold transition-colors ${"custom"===m?"bg-amber-100 border-amber-500 text-amber-800":"bg-white border-gray-300 hover:border-amber-400"}`,children:"Custom"})]})]}),"custom"===m&&l.allowCustomAmounts&&(0,b.jsx)(g.default,{label:"Custom Amount",id:"customAmount",name:"customAmount",type:"number",step:"0.01",min:"1",value:o,onChange:a=>p(a.target.value),placeholder:"e.g., 75.50",required:!0}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-1",children:"Message (Optional)"}),(0,b.jsx)("textarea",{id:"message",name:"message",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-amber-500 focus:border-amber-500 sm:text-sm bg-white text-gray-900",value:q,onChange:a=>r(a.target.value)})]}),(0,b.jsx)(h.default,{label:"Remain Anonymous on Leaderboard",enabled:s,onChange:t})]}),(0,b.jsx)("div",{className:"text-right border-t border-gray-200 pt-6 mt-6",children:(0,b.jsx)(e.default,{type:"submit",children:"Donate Now"})})]})})}),(0,b.jsx)("div",{className:"lg:col-span-1",children:l.leaderboardEnabled&&(0,b.jsx)(i,{tenant:a})})]})]})}])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__66ce5ff8._.js.map