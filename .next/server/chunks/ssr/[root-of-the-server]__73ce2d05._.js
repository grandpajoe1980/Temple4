module.exports=[93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},70864,a=>{a.n(a.i(33290))},43619,a=>{a.n(a.i(79962))},13718,a=>{a.n(a.i(85523))},18198,a=>{a.n(a.i(45518))},62212,a=>{a.n(a.i(66114))},40556,a=>{"use strict";var b=a.i(7997);a.s(["default",0,({children:a,variant:c="primary",size:d="md",className:e,...f})=>(0,b.jsx)("button",{className:`rounded-md font-semibold focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${{primary:"bg-amber-600 text-white hover:bg-amber-700 focus:ring-amber-500",secondary:"bg-gray-200 text-gray-800 hover:bg-gray-300 focus:ring-gray-400",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500"}[c]} ${{md:"px-4 py-2 text-sm",sm:"px-3 py-1.5 text-xs"}[d]} ${e}`,...f,children:a})])},43745,a=>{"use strict";var b=a.i(7997),c=a.i(94431),d=a.i(72709);a.i(70396);var e=a.i(73727),f=a.i(82193),g=a.i(40556);let h=({notifications:a,onClose:c,onMarkAsRead:d,onMarkAllAsRead:e,onNavigate:f})=>(0,b.jsxs)("div",{className:"absolute right-0 mt-2 w-80 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none z-30",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu-button",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between border-b border-gray-200 px-4 py-3",children:[(0,b.jsx)("h3",{className:"text-md font-semibold text-gray-900",children:"Notifications"}),(0,b.jsx)(g.default,{variant:"secondary",size:"sm",onClick:e,children:"Mark all as read"})]}),(0,b.jsx)("div",{className:"py-1 max-h-96 overflow-y-auto",role:"none",children:a.length>0?a.map(a=>{var c;let e,g;return(0,b.jsxs)("div",{onClick:()=>{a.isRead||d(a.id),a.link&&f(a.link)},className:`flex items-start gap-3 px-4 py-3 text-sm text-gray-700 cursor-pointer transition-colors ${a.isRead?"hover:bg-gray-50":"bg-amber-50 hover:bg-amber-100"}`,children:[!a.isRead&&(0,b.jsx)("div",{className:"mt-1 h-2 w-2 rounded-full bg-amber-500 flex-shrink-0"}),(0,b.jsxs)("div",{className:a.isRead?"pl-4":"",children:[(0,b.jsx)("p",{className:"text-gray-800",children:a.message}),(0,b.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:(c=a.createdAt,(g=(e=Math.floor((new Date().getTime()-c.getTime())/1e3))/31536e3)>1?Math.floor(g)+"y ago":(g=e/2592e3)>1?Math.floor(g)+"mo ago":(g=e/86400)>1?Math.floor(g)+"d ago":(g=e/3600)>1?Math.floor(g)+"h ago":(g=e/60)>1?Math.floor(g)+"m ago":Math.floor(e)+"s ago")})]})]},a.id)}):(0,b.jsx)("div",{className:"px-4 py-8 text-center text-sm text-gray-500",children:"You have no notifications."})})]});async function i(){let a=await (0,c.getServerSession)(d.authOptions);a?.user?.email||(0,e.redirect)("/auth/login");let g=await (0,f.getUserByEmail)(a.user.email);g||(0,e.redirect)("/auth/login");let i=await (0,f.getNotificationsForUser)(g.id);return(0,b.jsx)(h,{notifications:i,onClose:()=>{},onMarkAsRead:a=>(0,f.markNotificationAsRead)(a),onMarkAllAsRead:()=>(0,f.markAllNotificationsAsRead)(g.id),onNavigate:a=>{}})}a.s(["default",()=>i],43745)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__73ce2d05._.js.map