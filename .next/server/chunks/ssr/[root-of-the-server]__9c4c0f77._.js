module.exports=[29173,(a,b,c)=>{b.exports=a.x("@prisma/client",()=>require("@prisma/client"))},54799,(a,b,c)=>{b.exports=a.x("crypto",()=>require("crypto"))},66917,a=>{"use strict";var b=a.i(87924);a.s(["default",0,({children:a,variant:c="primary",size:d="md",className:e,...f})=>(0,b.jsx)("button",{className:`rounded-md font-semibold focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${{primary:"bg-amber-600 text-white hover:bg-amber-700 focus:ring-amber-500",secondary:"bg-gray-200 text-gray-800 hover:bg-gray-300 focus:ring-gray-400",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500"}[c]} ${{md:"px-4 py-2 text-sm",sm:"px-3 py-1.5 text-xs"}[d]} ${e}`,...f,children:a})])},37942,a=>{"use strict";var b=a.i(87924);a.s(["default",0,({children:a,className:c,title:d,description:e})=>(0,b.jsxs)("div",{className:`bg-white shadow-md rounded-lg overflow-hidden ${c}`,children:[d&&(0,b.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold leading-6 text-gray-900",children:d}),e&&(0,b.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:e})]}),(0,b.jsx)("div",{className:"p-6",children:a})]})])},79731,a=>{"use strict";var b=a.i(29173),c=a.i(8706);async function d(a,b){return c.prisma.userTenantMembership.findUnique({where:{userId_tenantId:{userId:a,tenantId:b}},include:{roles:{select:{role:!0}}}})}async function e(a,c,e){if(a.isSuperAdmin)return!0;let f=await d(a.id,c.id);if(!f||"APPROVED"!==f.status)return!1;for(let a of f.roles){let d=function(a){switch(a){case b.TenantRole.ADMIN:return"ADMIN";case b.TenantRole.STAFF:case b.TenantRole.CLERGY:return"STAFF";case b.TenantRole.MODERATOR:return"MODERATOR";case b.TenantRole.MEMBER:default:return"MEMBER"}}(a.role),f=c.permissions;if(f)if("ADMIN"===d){if(f.ADMIN&&f.ADMIN[e])return!0}else{let a=f[d];if(a&&a[e])return!0}}return!1}async function f(a,b,c){let e=await d(a,b);return!!e&&"APPROVED"===e.status&&e.roles.some(a=>c.includes(a.role))}async function g(a,b,c,d){return!!(a.isSuperAdmin||b.userId===a.id||!c.isDirectMessage&&await e(a,d,"canModerateChats"))}a.s(["can",()=>e,"canDeleteMessage",()=>g,"hasRole",()=>f])},34020,a=>{"use strict";var b=a.i(87924),c=a.i(82665),d=a.i(66917),e=a.i(37942);let f=({sermon:a})=>(0,b.jsxs)(e.default,{className:"!p-0 overflow-hidden flex flex-col",children:[(0,b.jsx)("div",{className:"aspect-w-16 aspect-h-9",children:(0,b.jsx)("iframe",{src:a.embedUrl,title:a.title,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"w-full h-full"})}),(0,b.jsxs)("div",{className:"p-6 flex-grow",children:[(0,b.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:a.title}),(0,b.jsx)("p",{className:"mt-2 text-sm text-gray-600 line-clamp-3",children:a.description})]}),(0,b.jsxs)("div",{className:"bg-gray-50 px-6 py-3 flex items-center justify-between text-sm",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)("img",{className:"h-8 w-8 rounded-full",src:a.authorAvatarUrl,alt:a.authorDisplayName}),(0,b.jsx)("span",{className:"font-medium text-gray-800",children:a.authorDisplayName})]}),(0,b.jsx)("time",{dateTime:a.publishedAt.toISOString(),className:"text-gray-500",children:a.publishedAt.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]});var g=a.i(79731);a.s(["default",0,({tenant:a,user:e})=>{let h=(0,c.getSermonsForTenant)(a.id),i=(0,g.can)(e,a,"canCreateSermons");return(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Sermons"}),(0,b.jsxs)("p",{className:"mt-1 text-sm text-gray-500",children:["Watch recent sermons from ",a.name,"."]})]}),i&&(0,b.jsx)(d.default,{onClick:()=>alert('Open "New Sermon" form (not implemented).'),children:"+ New Sermon"})]}),h.length>0?(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:h.map(a=>(0,b.jsx)(f,{sermon:a},a.id))}):(0,b.jsxs)("div",{className:"text-center bg-white p-12 rounded-lg shadow-sm",children:[(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"No Sermons Available"}),(0,b.jsxs)("p",{className:"mt-1 text-sm text-gray-500",children:["There are no sermons here yet. ",i?"Why not add one?":""]})]})]})}],34020)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__9c4c0f77._.js.map