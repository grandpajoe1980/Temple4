module.exports=[29173,(a,b,c)=>{b.exports=a.x("@prisma/client",()=>require("@prisma/client"))},54799,(a,b,c)=>{b.exports=a.x("crypto",()=>require("crypto"))},66917,a=>{"use strict";var b=a.i(87924);a.s(["default",0,({children:a,variant:c="primary",size:d="md",className:e,...f})=>(0,b.jsx)("button",{className:`rounded-md font-semibold focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${{primary:"bg-amber-600 text-white hover:bg-amber-700 focus:ring-amber-500",secondary:"bg-gray-200 text-gray-800 hover:bg-gray-300 focus:ring-gray-400",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500"}[c]} ${{md:"px-4 py-2 text-sm",sm:"px-3 py-1.5 text-xs"}[d]} ${e}`,...f,children:a})])},63187,a=>{"use strict";var b=a.i(87924);a.s(["default",0,({label:a,id:c,containerClassName:d,...e})=>(0,b.jsxs)("div",{className:d,children:[(0,b.jsx)("label",{htmlFor:c,className:"block text-sm font-medium text-gray-700 mb-1",children:a}),(0,b.jsx)("input",{id:c,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-amber-500 focus:border-amber-500 sm:text-sm bg-white text-gray-900 placeholder:text-gray-400",...e})]})])},77375,a=>{"use strict";var b=a.i(87924);a.s(["default",0,({label:a,enabled:c,onChange:d,description:e})=>(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("span",{className:"flex-grow flex flex-col",children:[(0,b.jsx)("span",{className:"text-sm font-medium text-gray-900",children:a}),e&&(0,b.jsx)("span",{className:"text-sm text-gray-500",children:e})]}),(0,b.jsx)("button",{type:"button",className:`${c?"bg-amber-600":"bg-gray-200"} relative inline-flex flex-shrink-0 h-6 w-11 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-amber-500`,role:"switch","aria-checked":c,onClick:()=>d(!c),children:(0,b.jsx)("span",{"aria-hidden":"true",className:`${c?"translate-x-5":"translate-x-0"} pointer-events-none inline-block h-5 w-5 rounded-full bg-white shadow transform ring-0 transition ease-in-out duration-200`})})]})])},58020,a=>{"use strict";var b=a.i(87924),c=a.i(72131);a.s(["default",0,({isOpen:a,onClose:d,title:e,children:f})=>((0,c.useEffect)(()=>{let a=a=>{"Escape"===a.key&&d()};return document.addEventListener("keydown",a),()=>{document.removeEventListener("keydown",a)}},[d]),a)?(0,b.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 flex justify-center items-start overflow-y-auto p-4 sm:p-10","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",onClick:d,children:(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full overflow-hidden",onClick:a=>a.stopPropagation(),children:[(0,b.jsxs)("div",{className:"flex justify-between items-center p-4 border-b border-gray-200",children:[(0,b.jsx)("h2",{id:"modal-title",className:"text-lg font-semibold text-gray-900",children:e}),(0,b.jsx)("button",{onClick:d,className:"text-gray-400 hover:text-gray-600","aria-label":"Close modal",children:(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,b.jsx)("div",{className:"p-6",children:f})]})}):null])},79731,a=>{"use strict";var b=a.i(29173),c=a.i(8706);async function d(a,b){return c.prisma.userTenantMembership.findUnique({where:{userId_tenantId:{userId:a,tenantId:b}},include:{roles:{select:{role:!0}}}})}async function e(a,c,e){if(a.isSuperAdmin)return!0;let f=await d(a.id,c.id);if(!f||"APPROVED"!==f.status)return!1;for(let a of f.roles){let d=function(a){switch(a){case b.TenantRole.ADMIN:return"ADMIN";case b.TenantRole.STAFF:case b.TenantRole.CLERGY:return"STAFF";case b.TenantRole.MODERATOR:return"MODERATOR";case b.TenantRole.MEMBER:default:return"MEMBER"}}(a.role),f=c.permissions;if(f)if("ADMIN"===d){if(f.ADMIN&&f.ADMIN[e])return!0}else{let a=f[d];if(a&&a[e])return!0}}return!1}async function f(a,b,c){let e=await d(a,b);return!!e&&"APPROVED"===e.status&&e.roles.some(a=>c.includes(a.role))}async function g(a,b,c,d){return!!(a.isSuperAdmin||b.userId===a.id||!c.isDirectMessage&&await e(a,d,"canModerateChats"))}a.s(["can",()=>e,"canDeleteMessage",()=>g,"hasRole",()=>f])},3752,a=>{"use strict";var b,c,d,e,f,g,h,i,j,k,l=((b={}).MEMBER="MEMBER",b.STAFF="STAFF",b.CLERGY="CLERGY",b.MODERATOR="MODERATOR",b.ADMIN="ADMIN",b),m=((c={}).MEMBER="MEMBER",c.STAFF="STAFF",c.MODERATOR="MODERATOR",c),n=((d={}).REQUESTED="REQUESTED",d.APPROVED="APPROVED",d.REJECTED="REJECTED",d.BANNED="BANNED",d),o=((e={}).OPEN="OPEN",e.APPROVAL_REQUIRED="APPROVAL_REQUIRED",e),p=((f={}).PRAYER_REQUEST="PRAYER_REQUEST",f.TANGIBLE_NEED="TANGIBLE_NEED",f),q=((g={}).PENDING_APPROVAL="PENDING_APPROVAL",g.PUBLISHED="PUBLISHED",g.FULFILLED="FULFILLED",g),r=((h={}).PUBLIC="PUBLIC",h.MEMBERS_ONLY="MEMBERS_ONLY",h),s=((i={}).PDF="PDF",i.DOCX="DOCX",i.MP3="MP3",i.JPG="JPG",i.PNG="PNG",i.OTHER="OTHER",i),t=((j={}).UNREAD="UNREAD",j.READ="READ",j.ARCHIVED="ARCHIVED",j),u=((k={}).IMPERSONATE_START="IMPERSONATE_START",k.IMPERSONATE_END="IMPERSONATE_END",k.CREATE_POST="CREATE_POST",k.DELETE_POST="DELETE_POST",k.BAN_USER="BAN_USER",k.UNBAN_USER="UNBAN_USER",k.DELETE_MESSAGE="DELETE_MESSAGE",k.USER_JOINED_TENANT="USER_JOINED_TENANT",k.MEMBERSHIP_STATUS_UPDATED="MEMBERSHIP_STATUS_UPDATED",k.MEMBER_ROLES_UPDATED="MEMBER_ROLES_UPDATED",k.MEMBERSHIP_PROFILE_UPDATED="MEMBERSHIP_PROFILE_UPDATED",k.USER_REGISTERED="USER_REGISTERED",k.USER_PROFILE_UPDATED="USER_PROFILE_UPDATED",k.ADMIN_UPDATED_USER_PROFILE="ADMIN_UPDATED_USER_PROFILE",k.TENANT_PERMISSIONS_UPDATED="TENANT_PERMISSIONS_UPDATED",k);a.s(["ActionType",()=>u,"CommunityPostStatus",()=>q,"CommunityPostType",()=>p,"ContactSubmissionStatus",()=>t,"FileType",()=>s,"MembershipApprovalMode",()=>o,"MembershipStatus",()=>n,"ResourceVisibility",()=>r,"TenantRole",()=>l,"TenantRoleType",()=>m])},84382,64055,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(63187);a.s(["default",0,({conversations:a,currentUser:e,activeConversationId:f,onConversationSelect:g,searchTerm:h,onSearchChange:i})=>{let j=(0,c.useMemo)(()=>{if(!h)return a;let b=h.toLowerCase();return a.filter(a=>a.displayName.toLowerCase().includes(b))},[a,h]);return(0,b.jsxs)("div",{className:"flex-1 flex flex-col",children:[i&&void 0!==h&&(0,b.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,b.jsx)(d.default,{label:"",id:"conversation-search",type:"search",placeholder:"Search conversations...",value:h,onChange:a=>i(a.target.value)})}),(0,b.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,b.jsx)("ul",{className:"divide-y divide-gray-200",children:j.map(a=>{let c=a.isDirect?a.participants.find(a=>a.id!==e.id):null,d=a.id===f,h=a.lastMessage?`${a.lastMessage.userId===e.id?"You: ":""}${a.lastMessage.text}`:"No messages yet";return(0,b.jsx)("li",{onClick:()=>g(a),className:`p-4 cursor-pointer transition-colors ${d?"bg-amber-50":"hover:bg-gray-50"}`,children:(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)("div",{className:"relative",children:a.isDirect&&c?(0,b.jsx)("img",{className:"h-10 w-10 rounded-full",src:c.profile.avatarUrl,alt:c.profile.displayName}):(0,b.jsx)("div",{className:"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center",children:(0,b.jsx)("span",{className:"text-gray-500 font-bold",children:"#"})})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("p",{className:"text-sm font-semibold text-gray-900 truncate",children:a.displayName}),a.lastMessage&&(0,b.jsx)("div",{className:"text-xs text-gray-400 self-start flex-shrink-0 ml-2",children:a.lastMessage.createdAt.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("p",{className:"text-sm text-gray-500 truncate",children:h}),a.unreadCount>0&&(0,b.jsx)("span",{className:"ml-2 flex-shrink-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white bg-red-500 rounded-full",children:a.unreadCount})]})]})]})},a.id)})})})]})}],84382);var e=a.i(82665),f=a.i(66917),g=a.i(79731);a.s(["default",0,({currentUser:a,conversation:d,onViewProfile:h,tenant:i,isDetailsPanelOpen:j,onToggleDetailsPanel:k,onMarkAsRead:l})=>{let[m,n]=(0,c.useState)(()=>(0,e.getMessagesForConversation)(d.id,i?.id)),[o,p]=(0,c.useState)(""),[q,r]=(0,c.useState)(null),s=(0,c.useRef)(null);(0,c.useEffect)(()=>{n((0,e.getMessagesForConversation)(d.id,i?.id)),(0,e.markConversationAsRead)(a.id,d.id),l()},[d.id,a.id,l,i?.id]),(0,c.useEffect)(()=>{s.current?.scrollIntoView({behavior:"smooth"})},[m]);let t=(0,c.useMemo)(()=>!!d.isDirect||!i||d.name?.toLowerCase()!=="#announcements"||(0,g.can)(a,i,"canPostInAnnouncementChannels"),[a,d,i]),u=(0,c.useCallback)(b=>{(0,e.deleteMessage)(b,a.id)?(n(a=>a.filter(a=>a.id!==b)),l()):alert("You don't have permission to delete this message.")},[a.id,l]),v=d.isDirect?d.participants.find(b=>b.id!==a.id):null;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[d.isDirect&&v?(0,b.jsx)("img",{src:v.profile.avatarUrl,alt:v.profile.displayName,className:"w-10 h-10 rounded-full"}):(0,b.jsx)("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center font-bold text-gray-500 text-xl",children:"#"}),(0,b.jsx)("div",{children:(0,b.jsx)("h2",{className:"text-lg font-bold text-gray-900",children:d.displayName})})]}),!d.isDirect&&(0,b.jsx)("button",{onClick:k,className:`p-2 rounded-md transition-colors lg:hidden ${j?"bg-amber-100 text-amber-700":"text-gray-400 hover:bg-gray-100 hover:text-gray-600"}`,children:(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})})]}),(0,b.jsxs)("div",{className:"flex-1 p-6 overflow-y-auto space-y-2",children:[m.map(c=>{let e=(0,g.canDeleteMessage)(a,c,d,i),f=c.userId===a.id;return(0,b.jsxs)("div",{className:`flex items-start gap-3 group relative ${f?"justify-end":"justify-start"}`,onMouseEnter:()=>r(c.id),onMouseLeave:()=>r(null),children:[!f&&(0,b.jsx)("img",{src:c.userAvatarUrl,alt:c.userDisplayName,className:"w-8 h-8 rounded-full cursor-pointer",onClick:()=>h(c.userId)}),(0,b.jsxs)("div",{className:"flex flex-col",children:[(0,b.jsxs)("div",{className:`max-w-md p-3 rounded-lg ${f?"bg-amber-500 text-white":"bg-gray-100 text-gray-800"}`,children:[!f&&(0,b.jsx)("p",{className:"text-xs font-bold mb-1 text-amber-700 cursor-pointer",onClick:()=>h(c.userId),children:c.userDisplayName}),(0,b.jsx)("p",{className:"text-sm",style:{whiteSpace:"pre-wrap"},children:c.text})]}),(0,b.jsx)("p",{className:`text-xs mt-1 ${f?"text-gray-400 self-end":"text-gray-400"}`,children:c.createdAt.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),q===c.id&&e&&(0,b.jsx)("div",{className:`absolute top-0 ${f?"left-0 -translate-x-full pr-2":"right-0 translate-x-full pl-2"}`,children:(0,b.jsx)("div",{className:"bg-white rounded-md shadow-lg border border-gray-200",children:(0,b.jsxs)("button",{onClick:()=>u(c.id),className:"flex items-center space-x-2 w-full text-left px-3 py-1.5 text-xs text-red-600 hover:bg-red-50",children:[(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:(0,b.jsx)("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 012 0v6a1 1 0 11-2 0V8z",clipRule:"evenodd"})}),(0,b.jsx)("span",{children:"Delete"})]})})})]},c.id)}),(0,b.jsx)("div",{ref:s})]}),(0,b.jsx)("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:t?(0,b.jsxs)("form",{onSubmit:b=>{b.preventDefault(),""!==o.trim()&&t&&((0,e.addMessage)(d.id,a.id,o.trim()),n((0,e.getMessagesForConversation)(d.id,i?.id)),p(""),l())},className:"flex items-center space-x-4",children:[(0,b.jsx)("input",{type:"text",placeholder:`Message ${d.displayName}...`,"aria-label":"Chat message input",value:o,onChange:a=>p(a.target.value),className:"flex-1 w-full px-4 py-2 border border-gray-300 rounded-full shadow-sm focus:ring-amber-500 focus:border-amber-500 sm:text-sm bg-white text-gray-900 placeholder:text-gray-400"}),(0,b.jsx)(f.default,{type:"submit",children:"Send"})]}):(0,b.jsx)("div",{className:"text-center text-sm text-gray-500 italic px-4 py-2 bg-gray-100 rounded-full",children:"You do not have permission to post in this channel."})})]})}],64055)},8676,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(82665),e=a.i(84382),f=a.i(64055),g=a.i(79731),h=a.i(66917),i=a.i(58020),j=a.i(63187),k=a.i(77375);let l=({tenant:a,currentUser:e,onSubmit:f,onCancel:g})=>{let[i,l]=(0,c.useState)(""),[m,n]=(0,c.useState)(!1),[o,p]=(0,c.useState)(()=>new Set([e.id])),[q,r]=(0,c.useState)(""),s=(0,c.useMemo)(()=>(0,d.getMembersForTenant)(a.id),[a.id]),t=(0,c.useMemo)(()=>q?s.filter(a=>a.profile.displayName.toLowerCase().includes(q.toLowerCase())):s,[s,q]);return(0,b.jsxs)("form",{onSubmit:a=>{(a.preventDefault(),i.trim())?f({name:i.trim(),isPrivate:m,participantIds:Array.from(o)}):alert("Please enter a channel name.")},className:"space-y-6",children:[(0,b.jsx)(j.default,{label:"Channel Name",id:"channel-name",name:"name",value:i,onChange:a=>l(a.target.value),required:!0,placeholder:"# announcements"}),(0,b.jsx)(k.default,{label:"Private Channel",description:"If enabled, only selected members can see and join this channel.",enabled:m,onChange:n}),m&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:"Select Members"}),(0,b.jsx)(j.default,{label:"",id:"member-search",placeholder:"Search members to add...",value:q,onChange:a=>r(a.target.value)}),(0,b.jsx)("div",{className:"max-h-60 overflow-y-auto border border-gray-200 rounded-md p-2 space-y-2",children:t.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-2 rounded hover:bg-gray-50",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)("img",{src:a.profile.avatarUrl,alt:a.profile.displayName,className:"w-8 h-8 rounded-full"}),(0,b.jsx)("span",{className:"text-sm text-gray-800",children:a.profile.displayName})]}),(0,b.jsx)("input",{type:"checkbox",className:"h-4 w-4 text-amber-600 border-gray-300 rounded focus:ring-amber-500",checked:o.has(a.id),onChange:()=>{var b;(b=a.id)!==e.id&&p(a=>{let c=new Set(a);return c.has(b)?c.delete(b):c.add(b),c})},disabled:a.id===e.id})]},a.id))})]}),(0,b.jsxs)("div",{className:"flex justify-end items-center space-x-4 pt-4 border-t border-gray-200",children:[(0,b.jsx)(h.default,{type:"button",variant:"secondary",onClick:g,children:"Cancel"}),(0,b.jsx)(h.default,{type:"submit",children:"Create Channel"})]})]})};var m=a.i(3752);let n=({conversation:a,tenant:e,onViewProfile:f})=>{let g=(0,c.useMemo)(()=>a.participants.map(a=>{let b=(0,d.getMembershipForUserInTenant)(a.id,e.id);return b?{...a,roles:b.roles.map(a=>a.role),membership:b}:null}).filter(a=>null!==a).sort((a,b)=>{let c={[m.TenantRole.ADMIN]:0,[m.TenantRole.STAFF]:1,[m.TenantRole.CLERGY]:1,[m.TenantRole.MODERATOR]:2,[m.TenantRole.MEMBER]:3},d=a.roles[0]||m.TenantRole.MEMBER,e=b.roles[0]||m.TenantRole.MEMBER;return c[d]<c[e]?-1:c[d]>c[e]?1:a.profile.displayName.localeCompare(b.profile.displayName)}),[a.participants,e.id]),h={ADMIN:"bg-red-100 text-red-800",STAFF:"bg-sky-100 text-sky-800",CLERGY:"bg-emerald-100 text-emerald-800",MODERATOR:"bg-indigo-100 text-indigo-800",MEMBER:"bg-gray-100 text-gray-800"};return(0,b.jsxs)("div",{className:"flex flex-col h-full bg-white",children:[(0,b.jsxs)("div",{className:"p-4 border-b border-gray-200",children:[(0,b.jsx)("h3",{className:"font-bold text-lg text-gray-900",children:a.displayName}),a.description&&(0,b.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:a.description})]}),(0,b.jsxs)("div",{className:"flex-1 overflow-y-auto",children:[(0,b.jsx)("div",{className:"p-4",children:(0,b.jsxs)("h4",{className:"text-xs font-bold uppercase text-gray-500",children:["Members â€” ",g.length]})}),(0,b.jsx)("ul",{children:g.map(a=>(0,b.jsx)("li",{className:"px-4 py-2 hover:bg-gray-50 cursor-pointer",onClick:()=>f(a.id),children:(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)("img",{src:a.profile.avatarUrl,alt:a.profile.displayName,className:"w-8 h-8 rounded-full"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:a.membership.displayName||a.profile.displayName}),(0,b.jsx)("div",{className:"flex flex-wrap gap-1 mt-0.5",children:a.roles.map(a=>(0,b.jsx)("span",{className:`inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium ${h[a]||"bg-gray-100 text-gray-800"}`,children:a},a))})]})]})},a.id))})]})]})};a.s(["default",0,({tenant:a,user:j,onViewProfile:k})=>{let[m,o]=(0,c.useState)(0),[p,q]=(0,c.useState)(!0),r=(0,c.useMemo)(()=>(0,d.getConversationsForUser)(j.id).filter(b=>b.tenantId===a.id),[j.id,a.id,m]),[s,t]=(0,c.useState)(null),[u,v]=(0,c.useState)(!1),[w,x]=(0,c.useState)(null),y=(0,g.can)(j,a,"canCreateGroupChats");(0,c.useEffect)(()=>{if(w){let a=r.find(a=>a.id===w);a&&(t(a),x(null))}else if(!r.some(a=>a.id===s?.id)){let a=r.find(a=>"#announcements"===a.name),b=r.find(a=>a.isDefaultChannel);t(a||b||r[0]||null)}},[r,s,w]);let z=(0,c.useCallback)(a=>{t(a)},[]),A=(0,c.useCallback)(()=>{o(a=>a+1)},[]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"flex h-[calc(100vh-170px)] bg-white rounded-lg shadow-sm overflow-hidden",children:[(0,b.jsxs)("div",{className:"w-full sm:w-1/3 md:w-1/4 border-r border-gray-200 flex flex-col",children:[(0,b.jsxs)("div",{className:"p-4 border-b border-gray-200 flex justify-between items-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Channels"}),(0,b.jsxs)("p",{className:"text-sm text-gray-500",children:["Conversations in ",a.name]})]}),y&&(0,b.jsx)(h.default,{size:"sm",onClick:()=>v(!0),children:"New"})]}),(0,b.jsx)(e.default,{conversations:r,currentUser:j,activeConversationId:s?.id,onConversationSelect:z})]}),(0,b.jsx)("div",{className:"flex-1 flex flex-col",children:s?(0,b.jsx)(f.default,{currentUser:j,conversation:s,onViewProfile:k,tenant:a,isDetailsPanelOpen:p,onToggleDetailsPanel:()=>q(!p),onMarkAsRead:A},s.id):(0,b.jsx)("div",{className:"flex-1 flex items-center justify-center text-center",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"No Channels Available"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:y?"Create a channel to start chatting.":"There are no channels for you in this tenant yet."})]})})}),p&&s&&(0,b.jsx)("div",{className:"hidden lg:block w-full sm:w-1/3 md:w-1/4 border-l border-gray-200",children:(0,b.jsx)(n,{conversation:s,tenant:a,onViewProfile:k},s.id)})]}),(0,b.jsx)(i.default,{isOpen:u,onClose:()=>v(!1),title:"Create a New Channel",children:(0,b.jsx)(l,{tenant:a,currentUser:j,onSubmit:b=>{let c=(0,d.createConversation)(a.id,j.id,b.name,b.isPrivate,b.participantIds);v(!1),x(c.id),o(a=>a+1)},onCancel:()=>v(!1)})})]})}],8676)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__b3f29624._.js.map