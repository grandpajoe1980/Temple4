module.exports=[19739,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(3752),e=a.i(86008),f=a.i(37942);let g=["General","Branding","Features","Permissions","Membership & Moderation","User Profiles","Donations","Volunteering","Small Groups","Live Stream","Prayer Wall","Resource Center","Contact Submissions"],h={canCreatePosts:!0,canCreateEvents:!0,canCreateSermons:!0,canCreatePodcasts:!0,canCreateBooks:!0,canCreateGroupChats:!0,canInviteMembers:!0,canApproveMembership:!0,canBanMembers:!0,canModeratePosts:!0,canModerateChats:!0,canPostInAnnouncementChannels:!0,canManagePrayerWall:!0,canUploadResources:!0,canManageResources:!0,canManageContactSubmissions:!0};d.TenantRoleType.MEMBER,d.TenantRoleType.STAFF,d.TenantRoleType.MODERATOR;var i=a.i(63187),j=a.i(66917),k=a.i(77375);let l=({tenant:a,onUpdate:c})=>{let d=b=>{let{name:d,value:e}=b.target;c({...a,[d]:e})},e=b=>{let{name:d,value:e}=b.target;c({...a,address:{...a.address,[d]:e}})};return(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Basic Information"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Update your community's public details."})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)(i.default,{label:"Temple Name",id:"name",name:"name",value:a.name,onChange:d}),(0,b.jsx)(i.default,{label:"Creed / Religion",id:"creed",name:"creed",value:a.creed,onChange:d}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsx)(i.default,{label:"Contact Email",id:"contactEmail",name:"contactEmail",type:"email",value:a.contactEmail||"",onChange:d}),(0,b.jsx)(i.default,{label:"Phone Number",id:"phoneNumber",name:"phoneNumber",type:"tel",value:a.phoneNumber||"",onChange:d})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,b.jsx)("textarea",{id:"description",name:"description",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-amber-500 focus:border-amber-500 sm:text-sm bg-white text-gray-900",value:a.description,onChange:d})]})]}),(0,b.jsxs)("div",{className:"border-t border-gray-200 pt-8",children:[(0,b.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Location"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Where your community is located."})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsx)(i.default,{containerClassName:"md:col-span-2",label:"Street Address",id:"street",name:"street",value:a.address.street||"",onChange:e}),(0,b.jsx)(i.default,{label:"City",id:"city",name:"city",value:a.address.city,onChange:e}),(0,b.jsx)(i.default,{label:"State / Province",id:"state",name:"state",value:a.address.state,onChange:e}),(0,b.jsx)(i.default,{label:"Country",id:"country",name:"country",value:a.address.country,onChange:e}),(0,b.jsx)(i.default,{label:"Postal Code",id:"postalCode",name:"postalCode",value:a.address.postalCode,onChange:e})]}),(0,b.jsx)("div",{className:"border-t border-gray-200 pt-8",children:(0,b.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Visibility"})}),(0,b.jsx)(k.default,{label:"Public Tenant",description:"Allow this temple to be discovered in public search results.",enabled:a.settings.isPublic,onChange:b=>{c({...a,settings:{...a.settings,isPublic:b}})}}),(0,b.jsx)("div",{className:"text-right border-t border-gray-200 pt-6",children:(0,b.jsx)(j.default,{onClick:()=>alert("Settings saved (mock)!"),children:"Save Changes"})})]})},m=({tenant:a,onUpdate:c})=>{let d=b=>{let{name:d,value:e}=b.target;c({...a,branding:{...a.branding,[d]:e}})},e=(b,d,e)=>{let f=[...a.branding.customLinks];f[b]={...f[b],[d]:e},c({...a,branding:{...a.branding,customLinks:f}})};return(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Branding"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Customize the look and feel of your temple's pages."})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)(i.default,{label:"Logo URL",id:"logoUrl",name:"logoUrl",type:"text",placeholder:"https://example.com/logo.png",value:a.branding.logoUrl,onChange:b=>c({...a,branding:{...a.branding,logoUrl:b.target.value}})}),(0,b.jsx)(i.default,{label:"Banner Image URL",id:"bannerImageUrl",name:"bannerImageUrl",type:"text",placeholder:"https://example.com/banner.png",value:a.branding.bannerImageUrl,onChange:b=>c({...a,branding:{...a.branding,bannerImageUrl:b.target.value}})})]}),(0,b.jsxs)("div",{className:"border-t border-gray-200 pt-8",children:[(0,b.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Colors"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Choose colors that match your community's identity."})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"primaryColor",className:"block text-sm font-medium text-gray-700",children:"Primary Color"}),(0,b.jsxs)("div",{className:"mt-1 flex items-center space-x-3",children:[(0,b.jsx)("input",{type:"color",id:"primaryColor",name:"primaryColor",value:a.branding.primaryColor,onChange:d,className:"h-10 w-10 rounded-md border-gray-300"}),(0,b.jsx)(i.default,{id:"primaryColorText",name:"primaryColor",type:"text",label:"",value:a.branding.primaryColor,onChange:d})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"accentColor",className:"block text-sm font-medium text-gray-700",children:"Accent Color"}),(0,b.jsxs)("div",{className:"mt-1 flex items-center space-x-3",children:[(0,b.jsx)("input",{type:"color",id:"accentColor",name:"accentColor",value:a.branding.accentColor,onChange:d,className:"h-10 w-10 rounded-md border-gray-300"}),(0,b.jsx)(i.default,{id:"accentColorText",name:"accentColor",type:"text",label:"",value:a.branding.accentColor,onChange:d})]})]})]}),(0,b.jsxs)("div",{className:"border-t border-gray-200 pt-8",children:[(0,b.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Custom Links"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Add custom links to your temple's public page (e.g., website, donations)."}),(0,b.jsx)("p",{className:"mt-1 text-xs text-amber-700",children:"To enable the 'Donate' button on your home page, add a link with the exact label \"Donate\"."})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(a.branding.customLinks||[]).map((d,f)=>(0,b.jsxs)("div",{className:"flex items-end space-x-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 flex-grow",children:[(0,b.jsx)(i.default,{label:"Label",id:`linkLabel-${f}`,name:"label",value:d.label,onChange:a=>e(f,"label",a.target.value),placeholder:"e.g., Our Website"}),(0,b.jsx)(i.default,{label:"URL",id:`linkUrl-${f}`,name:"url",type:"url",value:d.url,onChange:a=>e(f,"url",a.target.value),placeholder:"https://..."})]}),(0,b.jsx)(j.default,{type:"button",variant:"danger",size:"sm",onClick:()=>{let b;return b=a.branding.customLinks.filter((a,b)=>b!==f),void c({...a,branding:{...a.branding,customLinks:b}})},"aria-label":"Remove link",className:"!p-2",children:(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:(0,b.jsx)("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 012 0v6a1 1 0 11-2 0V8z",clipRule:"evenodd"})})})]},f)),(0,b.jsx)(j.default,{type:"button",variant:"secondary",onClick:()=>{let b=[...a.branding.customLinks||[],{label:"",url:""}];c({...a,branding:{...a.branding,customLinks:b}})},children:"+ Add Link"})]}),(0,b.jsx)("div",{className:"text-right border-t border-gray-200 pt-6",children:(0,b.jsx)(j.default,{onClick:()=>alert("Branding saved (mock)!"),children:"Save Branding"})})]})},n=({tenant:a,onUpdate:c})=>{let d=Object.keys(a.settings.visitorVisibility),e=a=>a.replace("enable","").replace(/([A-Z])/g," $1").replace(/^./,a=>a.toUpperCase());return(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Feature Toggles"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Enable or disable major features for your members."})]}),(0,b.jsx)("div",{className:"space-y-4",children:["enableCalendar","enablePosts","enableSermons","enablePodcasts","enableBooks","enableMemberDirectory","enableGroupChat","enableComments","enableReactions","enableDonations","enableVolunteering","enableSmallGroups","enableLiveStream","enablePrayerWall","enableResourceCenter"].map(d=>(0,b.jsx)(k.default,{label:e(d),enabled:a.settings[d],onChange:b=>{c({...a,settings:{...a.settings,[d]:b}})}},d))}),(0,b.jsxs)("div",{className:"border-t border-gray-200 pt-8",children:[(0,b.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Visitor Visibility"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Control what non-members can see. Features must be enabled above to be visible."})]}),(0,b.jsx)("div",{className:"space-y-4",children:d.map(d=>(0,b.jsx)(k.default,{label:`Show ${e(d)} to Visitors`,enabled:a.settings.visitorVisibility[d]&&a.settings[`enable${d.charAt(0).toUpperCase()+d.slice(1)}`],onChange:b=>{c({...a,settings:{...a.settings,visitorVisibility:{...a.settings.visitorVisibility,[d]:b}}})}},`vis-${d}`))}),(0,b.jsx)("div",{className:"text-right border-t border-gray-200 pt-6",children:(0,b.jsx)(j.default,{onClick:()=>alert("Features saved (mock)!"),children:"Save Feature Settings"})})]})};var o=a.i(82665);let p=({tenant:a,onUpdate:e,currentUser:f})=>{let[g,i]=(0,c.useState)(a.permissions),[k,l]=(0,c.useState)(!1);(0,c.useEffect)(()=>{i(a.permissions),l(!1)},[a.permissions]);let m=[d.TenantRoleType.MEMBER,d.TenantRoleType.STAFF,d.TenantRoleType.MODERATOR],n=Object.keys(h);return(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Role Permissions"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Define what different roles can do within your community. Note: The 'Clergy' role uses 'Staff' permissions."})]}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,b.jsx)("thead",{className:"bg-gray-50",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Permission"}),m.map(a=>(0,b.jsx)("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:a},a)),(0,b.jsx)("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ADMIN"})]})}),(0,b.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(a=>(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:a.replace("can","").replace(/([A-Z])/g," $1").trim()}),m.map(c=>(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:(0,b.jsx)("input",{type:"checkbox",className:"h-4 w-4 text-amber-600 border-gray-300 rounded focus:ring-amber-500",checked:g[c]?.[a]||!1,onChange:b=>{var d;return d=b.target.checked,void(i(b=>{let e=JSON.parse(JSON.stringify(b));return e[c]||(e[c]={}),e[c][a]=d,e}),l(!0))}})},`${c}-${a}`)),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:(0,b.jsx)("input",{type:"checkbox",className:"h-4 w-4 text-amber-600 border-gray-300 rounded focus:ring-amber-500",checked:!0,disabled:!0})})]},a))})]})}),(0,b.jsx)("div",{className:"text-right border-t border-gray-200 pt-6",children:(0,b.jsx)(j.default,{onClick:()=>{(0,o.updateTenantPermissions)(a.id,g,f.id),e({...a,permissions:g}),l(!1),alert("Permissions saved successfully!")},disabled:!k,children:"Save Permissions"})})]})};var q=a.i(79731),r=a.i(58020);let s=Object.values(d.TenantRole),t=({isOpen:a,onClose:e,member:f,onSubmit:g})=>{let[h,k]=(0,c.useState)(()=>new Set),[l,m]=(0,c.useState)(d.TenantRole.MEMBER),[n,o]=(0,c.useState)("");return(0,c.useEffect)(()=>{if(f){let a=new Set(f.membership.roles.map(a=>a.role)),b=f.membership.roles.find(a=>a.isPrimary)?.role||d.TenantRole.MEMBER,c=f.membership.roles.find(a=>a.displayTitle)?.displayTitle||"";k(a),m(b),o(c)}},[f]),(0,c.useEffect)(()=>{h.has(l)||m(h.size>0?h.values().next().value:d.TenantRole.MEMBER)},[h,l]),(0,b.jsx)(r.default,{isOpen:a,onClose:e,title:`Edit Roles for ${f.profile.displayName}`,children:(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:"Assigned Roles"}),(0,b.jsx)("div",{className:"mt-2 grid grid-cols-2 gap-2",children:s.map(a=>(0,b.jsxs)("label",{className:"flex items-center space-x-3 p-2 rounded-md hover:bg-gray-50",children:[(0,b.jsx)("input",{type:"checkbox",className:"h-4 w-4 text-amber-600 border-gray-300 rounded focus:ring-amber-500",checked:h.has(a),onChange:()=>{k(b=>{let c=new Set(b);return c.has(a)?c.delete(a):c.add(a),c})}}),(0,b.jsx)("span",{className:"text-sm text-gray-700",children:a})]},a))})]}),h.size>0&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:"Primary Role"}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"This role determines their main title and sorting order."}),(0,b.jsx)("div",{className:"mt-2 space-y-2",children:Array.from(h).map(a=>(0,b.jsxs)("label",{className:"flex items-center space-x-3 p-2 rounded-md hover:bg-gray-50",children:[(0,b.jsx)("input",{type:"radio",name:"primary-role",className:"h-4 w-4 text-amber-600 border-gray-300 focus:ring-amber-500",checked:l===a,onChange:()=>m(a)}),(0,b.jsx)("span",{className:"text-sm text-gray-700",children:a})]},`primary-${a}`))})]}),(0,b.jsx)(i.default,{label:"Display Title",id:"displayTitle",name:"displayTitle",value:n,onChange:a=>o(a.target.value),placeholder:"e.g., Lead Pastor, Senior Student",containerClassName:"pt-2"})]}),(0,b.jsxs)("div",{className:"flex justify-end items-center space-x-4 pt-4 border-t border-gray-200",children:[(0,b.jsx)(j.default,{type:"button",variant:"secondary",onClick:e,children:"Cancel"}),(0,b.jsx)(j.default,{type:"button",onClick:()=>{if(0===h.size)return void alert("A member must have at least one role.");let a=Array.from(h).map(a=>({id:f.membership.roles.find(b=>b.role===a)?.id||`tr-${Date.now()}-${a}`,role:a,isPrimary:a===l,displayTitle:a===l?n:void 0}));g(f,a)},children:"Save Changes"})]})]})})},u=({tenant:a,onUpdate:e,currentUser:f,onImpersonate:g,onRefresh:h})=>{let i=(0,o.getMembersForTenant)(a.id),[k,l]=(0,c.useState)(null),m=(0,q.can)(f,a,"canApproveMembership"),n=(0,q.can)(f,a,"canBanMembers"),p=(a,b,c)=>{let e=`Are you sure you want to ${b.toLowerCase()} this member?`;b===d.MembershipStatus.BANNED?e=`Are you sure you want to ban ${c}? This will revoke all their permissions and access to this tenant's member-only content.`:b===d.MembershipStatus.APPROVED&&i.find(b=>b.membership.id===a)?.membership.status===d.MembershipStatus.BANNED?e=`Are you sure you want to unban ${c}? This will restore their previous roles and permissions.`:b===d.MembershipStatus.APPROVED&&(e=`Are you sure you want to approve ${c}'s request to join?`),window.confirm(e)&&((0,o.updateMembershipStatus)(a,b,f.id),h())},r=i.filter(a=>a.membership.status===d.MembershipStatus.REQUESTED),s=i.filter(a=>a.membership.status===d.MembershipStatus.APPROVED),u=i.filter(a=>a.membership.status===d.MembershipStatus.BANNED),v=({members:a,title:c})=>0===a.length?(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:c}),(0,b.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"No members in this category."})]}):(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:c}),(0,b.jsx)("div",{className:"mt-4 flow-root",children:(0,b.jsx)("div",{className:"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8",children:(0,b.jsx)("div",{className:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8",children:(0,b.jsxs)("table",{className:"min-w-full divide-y divide-gray-300",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-0",children:"Name"}),(0,b.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Title / Roles"}),(0,b.jsx)("th",{scope:"col",className:"relative py-3.5 pl-3 pr-4 sm:pr-0",children:(0,b.jsx)("span",{className:"sr-only",children:"Actions"})})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-gray-200 bg-white",children:a.map(a=>{let c=a.membership.roles.find(a=>a.isPrimary)||a.membership.roles[0];return(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 text-sm sm:pl-0",children:(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("div",{className:"h-10 w-10 flex-shrink-0",children:(0,b.jsx)("img",{className:"h-10 w-10 rounded-full",src:a.profile.avatarUrl,alt:""})}),(0,b.jsxs)("div",{className:"ml-4",children:[(0,b.jsx)("div",{className:"font-medium text-gray-900",children:a.profile.displayName}),(0,b.jsx)("div",{className:"text-gray-500",children:a.email})]})]})}),(0,b.jsxs)("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:[(0,b.jsx)("div",{className:"text-gray-900",children:c?.displayTitle}),(0,b.jsx)("div",{className:"text-gray-500",children:a.membership.roles.map(a=>a.role).join(", ")})]}),(0,b.jsx)("td",{className:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-0",children:(0,b.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[a.membership.status===d.MembershipStatus.REQUESTED&&m&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(j.default,{variant:"secondary",size:"sm",onClick:()=>p(a.membership.id,d.MembershipStatus.REJECTED,a.profile.displayName),children:"Reject"}),(0,b.jsx)(j.default,{size:"sm",onClick:()=>p(a.membership.id,d.MembershipStatus.APPROVED,a.profile.displayName),children:"Approve"})]}),a.membership.status===d.MembershipStatus.APPROVED&&m&&(0,b.jsx)(j.default,{variant:"secondary",size:"sm",onClick:()=>l(a),children:"Edit Roles"}),a.membership.status===d.MembershipStatus.APPROVED&&n&&(0,b.jsx)(j.default,{variant:"danger",size:"sm",onClick:()=>p(a.membership.id,d.MembershipStatus.BANNED,a.profile.displayName),children:"Ban"}),a.membership.status===d.MembershipStatus.BANNED&&n&&(0,b.jsx)(j.default,{variant:"secondary",size:"sm",onClick:()=>p(a.membership.id,d.MembershipStatus.APPROVED,a.profile.displayName),children:"Unban"}),f.isSuperAdmin&&f.id!==a.id&&(0,b.jsx)(j.default,{variant:"secondary",size:"sm",onClick:()=>g(a),children:"Impersonate"})]})})]},a.id)})})]})})})})]});return(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Membership Settings"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Configure how users can join your temple."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"membershipApprovalMode",className:"block text-sm font-medium text-gray-700",children:"Membership Approval Mode"}),(0,b.jsxs)("select",{id:"membershipApprovalMode",name:"membershipApprovalMode",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-amber-500 focus:border-amber-500 sm:text-sm rounded-md bg-white text-gray-900",value:a.settings.membershipApprovalMode,onChange:b=>{e({...a,settings:{...a.settings,membershipApprovalMode:b.target.value}})},children:[(0,b.jsx)("option",{value:d.MembershipApprovalMode.OPEN,children:"Open Enrollment (anyone can join instantly)"}),(0,b.jsx)("option",{value:d.MembershipApprovalMode.APPROVAL_REQUIRED,children:"Approval Required (admins must approve requests)"})]})]}),(0,b.jsxs)("div",{className:"border-t border-gray-200 pt-8 space-y-8",children:[(0,b.jsx)(v,{members:r,title:"Pending Requests"}),(0,b.jsx)(v,{members:s,title:"Approved Members"}),(0,b.jsx)(v,{members:u,title:"Banned Members"})]}),k&&(0,b.jsx)(t,{isOpen:!!k,onClose:()=>l(null),member:k,onSubmit:(a,b)=>{(0,o.updateMemberRolesAndTitle)(a.membership.id,b,f.id),l(null),h()}}),(0,b.jsx)("div",{className:"text-right border-t border-gray-200 pt-6",children:(0,b.jsx)(j.default,{onClick:()=>alert("Membership settings saved (mock)!"),children:"Save Membership Settings"})})]})},v=({isOpen:a,onClose:d,member:e,adminUser:f,onSave:g})=>{let[h,k]=(0,c.useState)(e.profile);(0,c.useEffect)(()=>{e&&k(e.profile)},[e]);let l=a=>{let{name:b,value:c}=a.target;k(a=>({...a,[b]:c}))};return(0,b.jsx)(r.default,{isOpen:a,onClose:d,title:`Edit Profile for ${e.profile.displayName}`,children:(0,b.jsxs)("form",{onSubmit:a=>{a.preventDefault(),(0,o.adminUpdateUserProfile)(f.id,e.id,h),g(),alert("Profile updated by admin.")},className:"space-y-6",children:[(0,b.jsx)(i.default,{label:"Display Name",id:"displayName",name:"displayName",value:h.displayName,onChange:l,required:!0}),(0,b.jsx)(i.default,{label:"Avatar URL",id:"avatarUrl",name:"avatarUrl",type:"url",value:h.avatarUrl||"",onChange:l}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"bio",className:"block text-sm font-medium text-gray-700 mb-1",children:"Bio"}),(0,b.jsx)("textarea",{id:"bio",name:"bio",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-amber-500 focus:border-amber-500 sm:text-sm bg-white text-gray-900",value:h.bio||"",onChange:l})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsx)(i.default,{label:"City",id:"locationCity",name:"locationCity",value:h.locationCity||"",onChange:l}),(0,b.jsx)(i.default,{label:"Country",id:"locationCountry",name:"locationCountry",value:h.locationCountry||"",onChange:l})]}),(0,b.jsx)(i.default,{label:"Languages (comma-separated)",id:"languages",name:"languages",value:(h.languages||[]).join(", "),onChange:a=>{let b=a.target.value.split(",").map(a=>a.trim()).filter(Boolean);k(a=>({...a,languages:b}))},placeholder:"e.g., English, Spanish"}),(0,b.jsxs)("div",{className:"flex justify-end items-center space-x-4 pt-4 border-t border-gray-200",children:[(0,b.jsx)(j.default,{type:"button",variant:"secondary",onClick:d,children:"Cancel"}),(0,b.jsx)(j.default,{type:"submit",children:"Save Changes"})]})]})})},w=({tenant:a,currentUser:d,onRefresh:e})=>{let f=(0,c.useMemo)(()=>(0,o.getMembersForTenant)(a.id),[a.id,e]),[g,h]=(0,c.useState)(""),[k,l]=(0,c.useState)(null),m=(0,c.useMemo)(()=>{if(!g)return f;let a=g.toLowerCase();return f.filter(b=>b.profile.displayName.toLowerCase().includes(a)||b.email.toLowerCase().includes(a))},[f,g]);return(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Manage User Profiles"}),(0,b.jsxs)("p",{className:"mt-1 text-sm text-gray-500",children:["View member profiles for ",a.name,". Platform Super Admins can edit profiles from this panel."]})]}),(0,b.jsx)(i.default,{label:"Search Members",id:"profile-search",placeholder:"Search by name or email...",value:g,onChange:a=>h(a.target.value)}),(0,b.jsx)("div",{className:"flow-root",children:(0,b.jsx)("div",{className:"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8",children:(0,b.jsx)("div",{className:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8",children:(0,b.jsxs)("table",{className:"min-w-full divide-y divide-gray-300",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-0",children:"Name"}),(0,b.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Roles"}),(0,b.jsx)("th",{scope:"col",className:"relative py-3.5 pl-3 pr-4 sm:pr-0",children:(0,b.jsx)("span",{className:"sr-only",children:"Edit"})})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-gray-200 bg-white",children:m.map(a=>(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 text-sm sm:pl-0",children:(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("div",{className:"h-10 w-10 flex-shrink-0",children:(0,b.jsx)("img",{className:"h-10 w-10 rounded-full",src:a.profile.avatarUrl,alt:""})}),(0,b.jsxs)("div",{className:"ml-4",children:[(0,b.jsx)("div",{className:"font-medium text-gray-900",children:a.profile.displayName}),(0,b.jsx)("div",{className:"text-gray-500",children:a.email})]})]})}),(0,b.jsx)("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:a.membership.roles.map(a=>a.role).join(", ")}),(0,b.jsx)("td",{className:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-0",children:d.isSuperAdmin&&(0,b.jsx)(j.default,{variant:"secondary",size:"sm",onClick:()=>l(a),children:"Edit"})})]},a.id))})]})})})}),k&&(0,b.jsx)(v,{isOpen:!!k,onClose:()=>l(null),member:k,adminUser:d,onSave:()=>{e(),l(null)}})]})},x=({tenant:a,onUpdate:c})=>{let d=a.settings.donationSettings,e=(b,e)=>{c({...a,settings:{...a.settings,donationSettings:{...d,[b]:e}}})};return(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Donation Settings"}),(0,b.jsxs)("p",{className:"mt-1 text-sm text-gray-500",children:['Configure how your community can receive donations. The main "Enable Donations" toggle is in the ',(0,b.jsx)("span",{className:"font-semibold text-amber-700",children:"Features"})," tab."]})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"mode",className:"block text-sm font-medium text-gray-700 mb-1",children:"Donation Mode"}),(0,b.jsxs)("select",{id:"mode",name:"mode",className:"w-full pl-3 pr-10 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-amber-500 focus:border-amber-500 sm:text-sm bg-white text-gray-900",value:d.mode,onChange:a=>e("mode",a.target.value),children:[(0,b.jsx)("option",{value:"EXTERNAL",children:"External Link (e.g., PayPal, GoFundMe)"}),(0,b.jsx)("option",{value:"INTEGRATED",children:"Integrated Form (Mock)"})]})]}),"EXTERNAL"===d.mode&&(0,b.jsx)(i.default,{label:"External Donation URL",id:"externalUrl",name:"externalUrl",type:"url",value:d.externalUrl||"",onChange:a=>e("externalUrl",a.target.value),placeholder:"https://www.paypal.com/donate/..."})]}),(0,b.jsxs)("div",{className:"border-t border-gray-200 pt-8",children:[(0,b.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Donation Form"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Customize the integrated donation form."})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)(i.default,{label:"Currency",id:"currency",name:"currency",value:d.currency,onChange:a=>e("currency",a.target.value.toUpperCase()),placeholder:"USD",className:"w-24"}),(0,b.jsx)(i.default,{label:"Suggested Amounts (comma-separated)",id:"suggestedAmounts",name:"suggestedAmounts",value:d.suggestedAmounts.join(", "),onChange:a=>{e("suggestedAmounts",a.target.value.split(",").map(a=>parseInt(a.trim())).filter(a=>!isNaN(a)))},placeholder:"10, 25, 50, 100"}),(0,b.jsx)(k.default,{label:"Allow Custom Amounts",description:"Let donors enter an amount not listed above.",enabled:d.allowCustomAmounts,onChange:a=>e("allowCustomAmounts",a)})]}),(0,b.jsx)("div",{className:"border-t border-gray-200 pt-8",children:(0,b.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Leaderboard"})}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)(k.default,{label:"Enable Leaderboard",description:"Show a list of top donors on the donations page.",enabled:d.leaderboardEnabled,onChange:a=>e("leaderboardEnabled",a)}),d.leaderboardEnabled&&(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"leaderboardVisibility",className:"block text-sm font-medium text-gray-700 mb-1",children:"Visibility"}),(0,b.jsxs)("select",{id:"leaderboardVisibility",name:"leaderboardVisibility",className:"w-full pl-3 pr-10 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-amber-500 focus:border-amber-500 sm:text-sm bg-white text-gray-900",value:d.leaderboardVisibility,onChange:a=>e("leaderboardVisibility",a.target.value),children:[(0,b.jsx)("option",{value:"MEMBERS_ONLY",children:"Members Only"}),(0,b.jsx)("option",{value:"PUBLIC",children:"Public"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"leaderboardTimeframe",className:"block text-sm font-medium text-gray-700 mb-1",children:"Timeframe"}),(0,b.jsxs)("select",{id:"leaderboardTimeframe",name:"leaderboardTimeframe",className:"w-full pl-3 pr-10 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-amber-500 focus:border-amber-500 sm:text-sm bg-white text-gray-900",value:d.leaderboardTimeframe,onChange:a=>e("leaderboardTimeframe",a.target.value),children:[(0,b.jsx)("option",{value:"ALL_TIME",children:"All Time"}),(0,b.jsx)("option",{value:"YEARLY",children:"This Year"}),(0,b.jsx)("option",{value:"MONTHLY",children:"This Month"})]})]})]})]}),(0,b.jsx)("div",{className:"text-right border-t border-gray-200 pt-6",children:(0,b.jsx)(j.default,{onClick:()=>alert("Donation settings saved (mock)!"),children:"Save Changes"})})]})},y=({onSubmit:a,onCancel:d})=>{let[e,f]=(0,c.useState)(""),[g,h]=(0,c.useState)(""),[k,l]=(0,c.useState)(new Date().toISOString().split("T")[0]),[m,n]=(0,c.useState)(1);return(0,b.jsxs)("form",{onSubmit:b=>{(b.preventDefault(),e&&k&&!(m<1))?a({title:e,description:g,date:new Date(k),slotsNeeded:m}):alert("Please fill out all required fields.")},className:"space-y-6",children:[(0,b.jsx)(i.default,{label:"Opportunity Title",id:"title",name:"title",value:e,onChange:a=>f(a.target.value),required:!0}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,b.jsx)("textarea",{id:"description",name:"description",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-amber-500 focus:border-amber-500 sm:text-sm bg-white text-gray-900",value:g,onChange:a=>h(a.target.value)})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,b.jsx)(i.default,{label:"Date",id:"date",name:"date",type:"date",value:k,onChange:a=>l(a.target.value),required:!0}),(0,b.jsx)(i.default,{label:"Slots Needed",id:"slotsNeeded",name:"slotsNeeded",type:"number",min:"1",value:m,onChange:a=>n(parseInt(a.target.value,10)),required:!0})]}),(0,b.jsxs)("div",{className:"flex justify-end items-center space-x-4 pt-4 border-t border-gray-200",children:[(0,b.jsx)(j.default,{type:"button",variant:"secondary",onClick:d,children:"Cancel"}),(0,b.jsx)(j.default,{type:"submit",children:"Create Need"})]})]})},z=({tenant:a,currentUser:d,onRefresh:e})=>{let[f,g]=(0,c.useState)(()=>(0,o.getVolunteerNeedsForTenant)(a.id)),[h,i]=(0,c.useState)(!1),[k,l]=(0,c.useState)(null);return(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Volunteer Management"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Create and manage volunteer opportunities for your members."})]}),(0,b.jsx)(j.default,{onClick:()=>i(!0),children:"+ Create Need"})]}),(0,b.jsx)("div",{className:"space-y-4",children:f.length>0?f.map(a=>(0,b.jsxs)("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200",children:[(0,b.jsxs)("div",{className:"p-4 flex justify-between items-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-semibold text-gray-800",children:a.title}),(0,b.jsxs)("p",{className:"text-sm text-gray-500",children:[a.date.toLocaleDateString()," Â· ",a.signups.length," / ",a.slotsNeeded," Filled"]})]}),(0,b.jsx)(j.default,{variant:"secondary",size:"sm",onClick:()=>{var b;return b=a.id,void l(a=>a===b?null:b)},children:k===a.id?"Hide Signups":"View Signups"})]}),k===a.id&&(0,b.jsxs)("div",{className:"border-t border-gray-200 bg-gray-50 p-4",children:[(0,b.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Signed Up Volunteers:"}),a.signups.length>0?(0,b.jsx)("ul",{className:"divide-y divide-gray-200",children:a.signups.map(({user:a,signup:c})=>(0,b.jsxs)("li",{className:"py-2 flex items-center space-x-3",children:[(0,b.jsx)("img",{src:a.profile.avatarUrl,alt:a.profile.displayName,className:"w-8 h-8 rounded-full"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-900",children:a.profile.displayName}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:a.email})]})]},c.id))}):(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"No volunteers have signed up for this opportunity yet."})]})]},a.id)):(0,b.jsxs)("div",{className:"text-center py-12 border-2 border-dashed border-gray-200 rounded-lg",children:[(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"No Volunteer Needs Created"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:'Click "Create Need" to get started.'})]})}),(0,b.jsx)(r.default,{isOpen:h,onClose:()=>i(!1),title:"Create Volunteer Need",children:(0,b.jsx)(y,{onSubmit:b=>{(0,o.addVolunteerNeed)({tenantId:a.id,...b},d.id),g((0,o.getVolunteerNeedsForTenant)(a.id)),e(),i(!1)},onCancel:()=>i(!1)})})]})},A=({onSubmit:a,onCancel:d,members:e})=>{let[f,g]=(0,c.useState)(""),[h,l]=(0,c.useState)(""),[m,n]=(0,c.useState)(e[0]?.id||""),[o,p]=(0,c.useState)(""),[q,r]=(0,c.useState)(!0);return(0,b.jsxs)("form",{onSubmit:b=>{(b.preventDefault(),f&&m&&o)?a({name:f,description:h,leaderUserId:m,meetingSchedule:o,isActive:q}):alert("Please fill out all required fields.")},className:"space-y-6",children:[(0,b.jsx)(i.default,{label:"Group Name",id:"name",name:"name",value:f,onChange:a=>g(a.target.value),required:!0}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,b.jsx)("textarea",{id:"description",name:"description",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-amber-500 focus:border-amber-500 sm:text-sm bg-white text-gray-900",value:h,onChange:a=>l(a.target.value)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"leaderUserId",className:"block text-sm font-medium text-gray-700 mb-1",children:"Group Leader"}),(0,b.jsx)("select",{id:"leaderUserId",name:"leaderUserId",className:"w-full pl-3 pr-10 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-amber-500 focus:border-amber-500 sm:text-sm bg-white text-gray-900",value:m,onChange:a=>n(a.target.value),required:!0,children:e.map(a=>(0,b.jsx)("option",{value:a.id,children:a.profile.displayName},a.id))})]}),(0,b.jsx)(i.default,{label:"Meeting Schedule",id:"meetingSchedule",name:"meetingSchedule",value:o,onChange:a=>p(a.target.value),placeholder:"e.g., Tuesdays at 7 PM",required:!0}),(0,b.jsx)(k.default,{label:"Group is Active",description:"Inactive groups are hidden from the main discovery page.",enabled:q,onChange:r}),(0,b.jsxs)("div",{className:"flex justify-end items-center space-x-4 pt-4 border-t border-gray-200",children:[(0,b.jsx)(j.default,{type:"button",variant:"secondary",onClick:d,children:"Cancel"}),(0,b.jsx)(j.default,{type:"submit",children:"Create Group"})]})]})},B=({tenant:a,currentUser:d,onRefresh:e})=>{let[f,g]=(0,c.useState)(()=>(0,o.getSmallGroupsForTenant)(a.id)),[h,i]=(0,c.useState)(!1),k=(0,c.useMemo)(()=>(0,o.getMembersForTenant)(a.id),[a.id]);return(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Small Group Management"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Create and manage small groups for your members."})]}),(0,b.jsx)(j.default,{onClick:()=>i(!0),children:"+ Create Group"})]}),(0,b.jsx)("div",{className:"flow-root",children:(0,b.jsx)("div",{className:"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8",children:(0,b.jsx)("div",{className:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8",children:(0,b.jsxs)("table",{className:"min-w-full divide-y divide-gray-300",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-0",children:"Group Name"}),(0,b.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Leader"}),(0,b.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Members"}),(0,b.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Status"}),(0,b.jsx)("th",{scope:"col",className:"relative py-3.5 pl-3 pr-4 sm:pr-0",children:(0,b.jsx)("span",{className:"sr-only",children:"Actions"})})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-gray-200 bg-white",children:f.map(a=>(0,b.jsxs)("tr",{children:[(0,b.jsxs)("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 text-sm sm:pl-0",children:[(0,b.jsx)("div",{className:"font-medium text-gray-900",children:a.name}),(0,b.jsx)("div",{className:"text-gray-500",children:a.meetingSchedule})]}),(0,b.jsx)("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:a.leader.profile.displayName}),(0,b.jsx)("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:a.members.length}),(0,b.jsx)("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:(0,b.jsx)("span",{className:`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium ${a.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:a.isActive?"Active":"Inactive"})}),(0,b.jsx)("td",{className:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-0",children:(0,b.jsx)(j.default,{variant:"secondary",size:"sm",children:"Edit"})})]},a.id))})]})})})}),(0,b.jsx)(r.default,{isOpen:h,onClose:()=>i(!1),title:"Create Small Group",children:(0,b.jsx)(A,{onSubmit:b=>{(0,o.createSmallGroup)({tenantId:a.id,...b},d.id),g((0,o.getSmallGroupsForTenant)(a.id)),e(),i(!1)},onCancel:()=>i(!1),members:k})})]})},C=({tenant:a,onUpdate:c})=>{let d=a.settings.liveStreamSettings,e=(b,e)=>{c({...a,settings:{...a.settings,liveStreamSettings:{...d,[b]:e}}})};return(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Live Stream Settings"}),(0,b.jsxs)("p",{className:"mt-1 text-sm text-gray-500",children:['Configure your live stream embed. The main "Enable Live Stream" toggle is in the ',(0,b.jsx)("span",{className:"font-semibold text-amber-700",children:"Features"})," tab."]})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"provider",className:"block text-sm font-medium text-gray-700 mb-1",children:"Stream Provider"}),(0,b.jsxs)("select",{id:"provider",name:"provider",className:"w-full pl-3 pr-10 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-amber-500 focus:border-amber-500 sm:text-sm bg-white text-gray-900",value:d.provider,onChange:a=>e("provider",a.target.value),children:[(0,b.jsx)("option",{value:"YOUTUBE",children:"YouTube"}),(0,b.jsx)("option",{value:"FACEBOOK",children:"Facebook"}),(0,b.jsx)("option",{value:"VIMEO",children:"Vimeo"}),(0,b.jsx)("option",{value:"OTHER",children:"Other (enter embed URL)"})]})]}),(0,b.jsx)(i.default,{label:"Embed URL",id:"embedUrl",name:"embedUrl",type:"url",value:d.embedUrl||"",onChange:a=>e("embedUrl",a.target.value),placeholder:"https://www.youtube.com/embed/..."})]}),(0,b.jsx)("div",{className:"border-t border-gray-200 pt-8",children:(0,b.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Go Live"})}),(0,b.jsx)(k.default,{label:"We're Live!",description:"Enable this to show a 'Live' indicator on your tenant home page.",enabled:d.isLive,onChange:a=>e("isLive",a)}),(0,b.jsx)("div",{className:"text-right border-t border-gray-200 pt-6",children:(0,b.jsx)(j.default,{onClick:()=>alert("Live stream settings saved (mock)!"),children:"Save Changes"})})]})},D=({tenant:a,currentUser:e,onRefresh:f})=>{let g=(0,c.useMemo)(()=>(0,o.getCommunityPostsForTenant)(a.id,!0),[a.id,f]),[h,i]=(0,c.useState)("ALL"),k=(a,b)=>{window.confirm(`Are you sure you want to change this post's status to ${b}?`)&&((0,o.updateCommunityPostStatus)(a,b,e.id),f())},l=(0,c.useMemo)(()=>"ALL"===h?g:g.filter(a=>a.status===h),[g,h]),m=["ALL",d.CommunityPostStatus.PENDING_APPROVAL,d.CommunityPostStatus.PUBLISHED,d.CommunityPostStatus.FULFILLED];return(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Prayer Wall Moderation"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Manage all prayer requests and tangible needs submitted by members."})]}),(0,b.jsx)("div",{className:"border-b border-gray-200",children:(0,b.jsx)("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:m.map(a=>(0,b.jsx)("button",{onClick:()=>i(a),className:`${h===a?"border-amber-500 text-amber-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:a.replace("_"," ")},a))})}),(0,b.jsx)("div",{className:"flow-root",children:(0,b.jsx)("div",{className:"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8",children:(0,b.jsx)("div",{className:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8",children:(0,b.jsxs)("table",{className:"min-w-full divide-y divide-gray-300",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-0",children:"Author"}),(0,b.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Request"}),(0,b.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Status"}),(0,b.jsx)("th",{scope:"col",className:"relative py-3.5 pl-3 pr-4 sm:pr-0",children:(0,b.jsx)("span",{className:"sr-only",children:"Actions"})})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-gray-200 bg-white",children:l.map(a=>(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 text-sm sm:pl-0",children:(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("div",{className:"h-10 w-10 flex-shrink-0",children:(0,b.jsx)("img",{className:"h-10 w-10 rounded-full",src:a.authorAvatarUrl,alt:a.authorDisplayName})}),(0,b.jsx)("div",{className:"ml-4 font-medium text-gray-900",children:a.authorDisplayName})]})}),(0,b.jsx)("td",{className:"px-3 py-4 text-sm text-gray-500",children:(0,b.jsx)("p",{className:"line-clamp-3",children:a.body})}),(0,b.jsx)("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:(0,b.jsx)("span",{className:"inline-flex items-center rounded-full bg-blue-100 px-2.5 py-0.5 text-xs font-medium text-blue-800",children:a.status.replace("_"," ")})}),(0,b.jsxs)("td",{className:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-0 space-x-2",children:[a.status===d.CommunityPostStatus.PENDING_APPROVAL&&(0,b.jsx)(j.default,{size:"sm",onClick:()=>k(a.id,d.CommunityPostStatus.PUBLISHED),children:"Approve"}),a.status===d.CommunityPostStatus.PUBLISHED&&(0,b.jsx)(j.default,{size:"sm",variant:"secondary",onClick:()=>k(a.id,d.CommunityPostStatus.FULFILLED),children:"Mark as Fulfilled"}),(0,b.jsx)(j.default,{size:"sm",variant:"danger",onClick:()=>{var b;return b=a.id,void(window.confirm("Are you sure you want to delete this post? This cannot be undone.")&&((0,o.updateCommunityPostStatus)(b,"DELETED",e.id),f()))},children:"Delete"})]})]},a.id))})]})})})})]})};var E=a.i(70788);let F=({tenant:a,currentUser:d,onRefresh:e})=>{let f=(0,c.useMemo)(()=>(0,o.getResourceItemsForTenant)(a.id,!0),[a.id,e]),[g,h]=(0,c.useState)(!1);return(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Resource Management"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Manage all downloadable resources for your members."})]}),(0,b.jsx)(j.default,{onClick:()=>h(!0),children:"+ Add Resource"})]}),(0,b.jsx)("div",{className:"flow-root",children:(0,b.jsx)("div",{className:"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8",children:(0,b.jsx)("div",{className:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8",children:(0,b.jsxs)("table",{className:"min-w-full divide-y divide-gray-300",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-0",children:"Title"}),(0,b.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Uploader"}),(0,b.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Visibility"}),(0,b.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Type"}),(0,b.jsx)("th",{scope:"col",className:"relative py-3.5 pl-3 pr-4 sm:pr-0",children:(0,b.jsx)("span",{className:"sr-only",children:"Actions"})})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-gray-200 bg-white",children:f.map(a=>(0,b.jsxs)("tr",{children:[(0,b.jsxs)("td",{className:"py-4 pl-4 pr-3 text-sm sm:pl-0",children:[(0,b.jsx)("div",{className:"font-medium text-gray-900",children:a.title}),(0,b.jsx)("div",{className:"text-gray-500 line-clamp-1",children:a.description})]}),(0,b.jsx)("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:a.uploaderDisplayName}),(0,b.jsx)("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:a.visibility.replace("_"," ")}),(0,b.jsx)("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:a.fileType}),(0,b.jsx)("td",{className:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-0",children:(0,b.jsx)(j.default,{variant:"danger",size:"sm",onClick:()=>{var b;return b=a.id,void(window.confirm("Are you sure you want to delete this resource? This action cannot be undone.")&&((0,o.deleteResourceItem)(b,d.id),e()))},children:"Delete"})})]},a.id))})]})})})}),(0,b.jsx)(r.default,{isOpen:g,onClose:()=>h(!1),title:"Add New Resource",children:(0,b.jsx)(E.default,{onSubmit:b=>{(0,o.addResourceItem)({...b,tenantId:a.id,uploaderUserId:d.id}),e(),h(!1)},onCancel:()=>h(!1)})})]})},G=({isOpen:a,onClose:d,onSubmit:e,submission:f})=>{let[g,h]=(0,c.useState)("");return(0,b.jsx)(r.default,{isOpen:a,onClose:d,title:`Respond to ${f.name}`,children:(0,b.jsxs)("form",{onSubmit:a=>{(a.preventDefault(),g.trim())?e(g):alert("Please enter a response.")},className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"text-sm text-gray-500",children:["Replying to: ",(0,b.jsx)("span",{className:"font-medium text-gray-800",children:f.email})]}),(0,b.jsx)("blockquote",{className:"mt-2 border-l-4 border-gray-200 pl-4 text-sm text-gray-600 italic",children:f.message})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"responseText",className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Response"}),(0,b.jsx)("textarea",{id:"responseText",name:"responseText",rows:8,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-amber-500 focus:border-amber-500 sm:text-sm bg-white text-gray-900",value:g,onChange:a=>h(a.target.value),required:!0,autoFocus:!0})]}),(0,b.jsxs)("div",{className:"flex justify-end items-center space-x-4 pt-4 border-t border-gray-200",children:[(0,b.jsx)(j.default,{type:"button",variant:"secondary",onClick:d,children:"Cancel"}),(0,b.jsx)(j.default,{type:"submit",children:"Send Response"})]})]})})},H=({tenant:a,currentUser:e,onRefresh:f})=>{let g=(0,c.useMemo)(()=>(0,o.getContactSubmissionsForTenant)(a.id),[a.id,f]),[h,i]=(0,c.useState)("ALL"),[k,l]=(0,c.useState)(null),m=(a,b)=>{(0,o.updateContactSubmissionStatus)(a,b,e.id),f()},n=(0,c.useMemo)(()=>"ALL"===h?g:g.filter(a=>a.status===h),[g,h]),p=["ALL",d.ContactSubmissionStatus.UNREAD,d.ContactSubmissionStatus.READ,d.ContactSubmissionStatus.ARCHIVED],q={[d.ContactSubmissionStatus.UNREAD]:"bg-red-100 text-red-800",[d.ContactSubmissionStatus.READ]:"bg-blue-100 text-blue-800",[d.ContactSubmissionStatus.ARCHIVED]:"bg-gray-100 text-gray-800"};return(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Contact Form Submissions"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"View and manage messages sent through your public contact page."})]}),(0,b.jsx)("div",{className:"border-b border-gray-200",children:(0,b.jsx)("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:p.map(a=>(0,b.jsx)("button",{onClick:()=>i(a),className:`${h===a?"border-amber-500 text-amber-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm capitalize`,children:a.toLowerCase()},a))})}),(0,b.jsx)("div",{className:"flow-root",children:(0,b.jsx)("div",{className:"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8",children:(0,b.jsxs)("div",{className:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8",children:[(0,b.jsxs)("table",{className:"min-w-full divide-y divide-gray-300",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-0",children:"From"}),(0,b.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Message"}),(0,b.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Status"}),(0,b.jsx)("th",{scope:"col",className:"relative py-3.5 pl-3 pr-4 sm:pr-0",children:(0,b.jsx)("span",{className:"sr-only",children:"Actions"})})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-gray-200 bg-white",children:n.map(a=>(0,b.jsxs)("tr",{children:[(0,b.jsxs)("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 text-sm sm:pl-0",children:[(0,b.jsx)("div",{className:"font-medium text-gray-900",children:a.name}),(0,b.jsx)("div",{className:"text-gray-500",children:a.email}),(0,b.jsx)("div",{className:"text-xs text-gray-400 mt-1",children:a.createdAt.toLocaleString()})]}),(0,b.jsx)("td",{className:"px-3 py-4 text-sm text-gray-500",children:(0,b.jsx)("p",{className:"line-clamp-3",children:a.message})}),(0,b.jsx)("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:(0,b.jsx)("span",{className:`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium ${q[a.status]}`,children:a.status.toLowerCase()})}),(0,b.jsxs)("td",{className:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-0 space-x-2",children:[(0,b.jsx)(j.default,{size:"sm",onClick:()=>l(a),children:"Respond"}),a.status===d.ContactSubmissionStatus.UNREAD&&(0,b.jsx)(j.default,{size:"sm",variant:"secondary",onClick:()=>m(a.id,d.ContactSubmissionStatus.READ),children:"Mark as Read"}),a.status!==d.ContactSubmissionStatus.ARCHIVED&&(0,b.jsx)(j.default,{size:"sm",variant:"secondary",onClick:()=>m(a.id,d.ContactSubmissionStatus.ARCHIVED),children:"Archive"})]})]},a.id))})]}),0===n.length&&(0,b.jsx)("div",{className:"text-center py-12 text-gray-500",children:"No submissions match the current filter."})]})})}),k&&(0,b.jsx)(G,{isOpen:!!k,onClose:()=>l(null),onSubmit:b=>{k&&((0,o.respondToContactSubmission)(k.id,b,e.id,a.name),l(null),f(),alert("Response sent!"))},submission:k})]})};a.s(["default",0,({tenant:a,onUpdate:h,currentUser:i,onImpersonate:j,onRefresh:k})=>{let o=(0,c.useMemo)(()=>!!i&&(i.isSuperAdmin||(0,q.hasRole)(i,a.id,d.TenantRole.ADMIN)),[i,a.id]),r=(0,c.useMemo)(()=>g.filter(b=>{if(o)return!0;if(!i)return!1;switch(b){case"Membership & Moderation":return(0,q.can)(i,a,"canApproveMembership")||(0,q.can)(i,a,"canBanMembers");case"Prayer Wall":return(0,q.can)(i,a,"canManagePrayerWall");case"Resource Center":return(0,q.can)(i,a,"canManageResources");case"Contact Submissions":return(0,q.can)(i,a,"canManageContactSubmissions");default:return!1}}),[i,a,o]),[s,t]=(0,c.useState)(r[0]||g[0]);return(0,b.jsxs)(f.default,{className:"!p-0",children:[(0,b.jsxs)("div",{className:"px-6 pt-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Control Panel"}),(0,b.jsxs)("p",{className:"mt-1 text-sm text-gray-500",children:["Manage settings for ",a.name,"."]})]}),(0,b.jsx)("div",{className:"px-6 mt-4",children:(0,b.jsx)(e.default,{tabs:r,activeTab:s,onTabClick:t})}),(0,b.jsx)("div",{className:"p-6",children:(()=>{switch(s){case"General":return(0,b.jsx)(l,{tenant:a,onUpdate:h});case"Branding":return(0,b.jsx)(m,{tenant:a,onUpdate:h});case"Features":return(0,b.jsx)(n,{tenant:a,onUpdate:h});case"Permissions":return i?(0,b.jsx)(p,{tenant:a,onUpdate:h,currentUser:i}):null;case"Membership & Moderation":return i?(0,b.jsx)(u,{tenant:a,onUpdate:h,currentUser:i,onImpersonate:j,onRefresh:k}):null;case"User Profiles":return i?(0,b.jsx)(w,{tenant:a,currentUser:i,onRefresh:k}):null;case"Donations":return(0,b.jsx)(x,{tenant:a,onUpdate:h});case"Volunteering":return i?(0,b.jsx)(z,{tenant:a,currentUser:i,onRefresh:k}):null;case"Small Groups":return i?(0,b.jsx)(B,{tenant:a,currentUser:i,onRefresh:k}):null;case"Live Stream":return(0,b.jsx)(C,{tenant:a,onUpdate:h});case"Prayer Wall":return i?(0,b.jsx)(D,{tenant:a,currentUser:i,onRefresh:k}):null;case"Resource Center":return i?(0,b.jsx)(F,{tenant:a,currentUser:i,onRefresh:k}):null;case"Contact Submissions":return i?(0,b.jsx)(H,{tenant:a,currentUser:i,onRefresh:k}):null;default:return null}})()})]})}],19739)}];

//# sourceMappingURL=app_components_tenant_ControlPanel_tsx_4f5e8adb._.js.map