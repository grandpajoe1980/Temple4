module.exports=[82665,8706,a=>{"use strict";var b=a.i(29173);let c=globalThis.prisma||new b.PrismaClient({log:["query"]});a.s(["prisma",0,c],8706);a.i(54799);"function"==typeof setImmediate||"object"==typeof scheduler&&"function"==typeof scheduler.postTask&&scheduler.postTask.bind(scheduler);async function d(a){return await c.user.findUnique({where:{email:a},include:{profile:!0,privacySettings:!0,accountSettings:!0}})}async function e(a){return await c.chatMessage.findMany({where:{conversationId:a},include:{user:{include:{profile:!0}}},orderBy:{createdAt:"asc"}})}async function f(a,b,d){return await c.chatMessage.create({data:{conversationId:a,userId:b,text:d},include:{user:{include:{profile:!0}}}})}async function g(a){return await c.chatMessage.delete({where:{id:a}})}async function h(a,b){return{success:!0}}async function i(){return await c.user.findMany({include:{profile:!0}})}async function j(){return await c.auditLog.findMany({include:{actorUser:{include:{profile:!0}},effectiveUser:{include:{profile:!0}}},orderBy:{createdAt:"desc"},take:100})}async function k(a){return(await c.userTenantMembership.findMany({where:{userId:a},include:{tenant:{include:{settings:!0,branding:!0}}}})).map(a=>({membership:a,tenant:a.tenant}))}async function l(a,b,d){return await c.userTenantMembership.update({where:{id:b,userId:a},data:{displayName:d.displayName,displayTitle:d.displayTitle}})}async function m(a,b){return await c.user.update({where:{id:a},data:{}})}a.s(["addMessage",()=>f,"deleteMessage",()=>g,"getAllUsers",()=>i,"getAuditLogs",()=>j,"getEnrichedMembershipsForUser",()=>k,"getMessagesForConversation",()=>e,"getUserByEmail",()=>d,"markConversationAsRead",()=>h,"updateMembershipProfile",()=>l,"updateUserNotificationPreferences",()=>m],82665)}];

//# sourceMappingURL=lib_data_ts_bc4579d5._.js.map