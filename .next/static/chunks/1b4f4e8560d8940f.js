(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,83079,e=>{"use strict";var s=e.i(43476);e.s(["default",0,({children:e,variant:t="primary",size:a="md",className:r,...l})=>(0,s.jsx)("button",{className:`rounded-md font-semibold focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${{primary:"bg-amber-600 text-white hover:bg-amber-700 focus:ring-amber-500",secondary:"bg-gray-200 text-gray-800 hover:bg-gray-300 focus:ring-gray-400",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500"}[t]} ${{md:"px-4 py-2 text-sm",sm:"px-3 py-1.5 text-xs"}[a]} ${r}`,...l,children:e})])},44849,e=>{"use strict";var s=e.i(43476);e.s(["default",0,({label:e,id:t,containerClassName:a,...r})=>(0,s.jsxs)("div",{className:a,children:[(0,s.jsx)("label",{htmlFor:t,className:"block text-sm font-medium text-gray-700 mb-1",children:e}),(0,s.jsx)("input",{id:t,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-amber-500 focus:border-amber-500 sm:text-sm bg-white text-gray-900 placeholder:text-gray-400",...r})]})])},41497,e=>{"use strict";var s=e.i(43476);e.s(["default",0,({label:e,enabled:t,onChange:a,description:r})=>(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("span",{className:"flex-grow flex flex-col",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e}),r&&(0,s.jsx)("span",{className:"text-sm text-gray-500",children:r})]}),(0,s.jsx)("button",{type:"button",className:`${t?"bg-amber-600":"bg-gray-200"} relative inline-flex flex-shrink-0 h-6 w-11 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-amber-500`,role:"switch","aria-checked":t,onClick:()=>a(!t),children:(0,s.jsx)("span",{"aria-hidden":"true",className:`${t?"translate-x-5":"translate-x-0"} pointer-events-none inline-block h-5 w-5 rounded-full bg-white shadow transform ring-0 transition ease-in-out duration-200`})})]})])},58911,e=>{"use strict";var s=e.i(43476),t=e.i(71645);e.s(["default",0,({isOpen:e,onClose:a,title:r,children:l})=>((0,t.useEffect)(()=>{let e=e=>{"Escape"===e.key&&a()};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[a]),e)?(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 flex justify-center items-start overflow-y-auto p-4 sm:p-10","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",onClick:a,children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"flex justify-between items-center p-4 border-b border-gray-200",children:[(0,s.jsx)("h2",{id:"modal-title",className:"text-lg font-semibold text-gray-900",children:r}),(0,s.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-gray-600","aria-label":"Close modal",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,s.jsx)("div",{className:"p-6",children:l})]})}):null])},41059,e=>{"use strict";var s=e.i(18228),t=e.i(8896);async function a(e,s){return t.prisma.userTenantMembership.findUnique({where:{userId_tenantId:{userId:e,tenantId:s}},include:{roles:{select:{role:!0}}}})}async function r(e,t,r){if(e.isSuperAdmin)return!0;let l=await a(e.id,t.id);if(!l||"APPROVED"!==l.status)return!1;for(let e of l.roles){let a=function(e){switch(e){case s.TenantRole.ADMIN:return"ADMIN";case s.TenantRole.STAFF:case s.TenantRole.CLERGY:return"STAFF";case s.TenantRole.MODERATOR:return"MODERATOR";case s.TenantRole.MEMBER:default:return"MEMBER"}}(e.role),l=t.permissions;if(l)if("ADMIN"===a){if(l.ADMIN&&l.ADMIN[r])return!0}else{let e=l[a];if(e&&e[r])return!0}}return!1}async function l(e,s,t){let r=await a(e,s);return!!r&&"APPROVED"===r.status&&r.roles.some(e=>t.includes(e.role))}async function i(e,s,t,a){return!!(e.isSuperAdmin||s.userId===e.id||!t.isDirectMessage&&await r(e,a,"canModerateChats"))}e.s(["can",()=>r,"canDeleteMessage",()=>i,"hasRole",()=>l])},64807,e=>{"use strict";var s,t,a,r,l,i,n,d,o,c,m=((s={}).MEMBER="MEMBER",s.STAFF="STAFF",s.CLERGY="CLERGY",s.MODERATOR="MODERATOR",s.ADMIN="ADMIN",s),u=((t={}).MEMBER="MEMBER",t.STAFF="STAFF",t.MODERATOR="MODERATOR",t),x=((a={}).REQUESTED="REQUESTED",a.APPROVED="APPROVED",a.REJECTED="REJECTED",a.BANNED="BANNED",a),h=((r={}).OPEN="OPEN",r.APPROVAL_REQUIRED="APPROVAL_REQUIRED",r),f=((l={}).PRAYER_REQUEST="PRAYER_REQUEST",l.TANGIBLE_NEED="TANGIBLE_NEED",l),g=((i={}).PENDING_APPROVAL="PENDING_APPROVAL",i.PUBLISHED="PUBLISHED",i.FULFILLED="FULFILLED",i),p=((n={}).PUBLIC="PUBLIC",n.MEMBERS_ONLY="MEMBERS_ONLY",n),E=((d={}).PDF="PDF",d.DOCX="DOCX",d.MP3="MP3",d.JPG="JPG",d.PNG="PNG",d.OTHER="OTHER",d),N=((o={}).UNREAD="UNREAD",o.READ="READ",o.ARCHIVED="ARCHIVED",o),b=((c={}).IMPERSONATE_START="IMPERSONATE_START",c.IMPERSONATE_END="IMPERSONATE_END",c.CREATE_POST="CREATE_POST",c.DELETE_POST="DELETE_POST",c.BAN_USER="BAN_USER",c.UNBAN_USER="UNBAN_USER",c.DELETE_MESSAGE="DELETE_MESSAGE",c.USER_JOINED_TENANT="USER_JOINED_TENANT",c.MEMBERSHIP_STATUS_UPDATED="MEMBERSHIP_STATUS_UPDATED",c.MEMBER_ROLES_UPDATED="MEMBER_ROLES_UPDATED",c.MEMBERSHIP_PROFILE_UPDATED="MEMBERSHIP_PROFILE_UPDATED",c.USER_REGISTERED="USER_REGISTERED",c.USER_PROFILE_UPDATED="USER_PROFILE_UPDATED",c.ADMIN_UPDATED_USER_PROFILE="ADMIN_UPDATED_USER_PROFILE",c.TENANT_PERMISSIONS_UPDATED="TENANT_PERMISSIONS_UPDATED",c);e.s(["ActionType",()=>b,"CommunityPostStatus",()=>g,"CommunityPostType",()=>f,"ContactSubmissionStatus",()=>N,"FileType",()=>E,"MembershipApprovalMode",()=>h,"MembershipStatus",()=>x,"ResourceVisibility",()=>p,"TenantRole",()=>m,"TenantRoleType",()=>u])},51809,29104,e=>{"use strict";var s=e.i(43476),t=e.i(71645),a=e.i(44849);e.s(["default",0,({conversations:e,currentUser:r,activeConversationId:l,onConversationSelect:i,searchTerm:n,onSearchChange:d})=>{let o=(0,t.useMemo)(()=>{if(!n)return e;let s=n.toLowerCase();return e.filter(e=>e.displayName.toLowerCase().includes(s))},[e,n]);return(0,s.jsxs)("div",{className:"flex-1 flex flex-col",children:[d&&void 0!==n&&(0,s.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,s.jsx)(a.default,{label:"",id:"conversation-search",type:"search",placeholder:"Search conversations...",value:n,onChange:e=>d(e.target.value)})}),(0,s.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,s.jsx)("ul",{className:"divide-y divide-gray-200",children:o.map(e=>{let t=e.isDirect?e.participants.find(e=>e.id!==r.id):null,a=e.id===l,n=e.lastMessage?`${e.lastMessage.userId===r.id?"You: ":""}${e.lastMessage.text}`:"No messages yet";return(0,s.jsx)("li",{onClick:()=>i(e),className:`p-4 cursor-pointer transition-colors ${a?"bg-amber-50":"hover:bg-gray-50"}`,children:(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"relative",children:e.isDirect&&t?(0,s.jsx)("img",{className:"h-10 w-10 rounded-full",src:t.profile.avatarUrl,alt:t.profile.displayName}):(0,s.jsx)("div",{className:"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-gray-500 font-bold",children:"#"})})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("p",{className:"text-sm font-semibold text-gray-900 truncate",children:e.displayName}),e.lastMessage&&(0,s.jsx)("div",{className:"text-xs text-gray-400 self-start flex-shrink-0 ml-2",children:e.lastMessage.createdAt.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("p",{className:"text-sm text-gray-500 truncate",children:n}),e.unreadCount>0&&(0,s.jsx)("span",{className:"ml-2 flex-shrink-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white bg-red-500 rounded-full",children:e.unreadCount})]})]})]})},e.id)})})})]})}],51809);var r=e.i(31487),l=e.i(83079),i=e.i(41059);e.s(["default",0,({currentUser:e,conversation:a,onViewProfile:n,tenant:d,isDetailsPanelOpen:o,onToggleDetailsPanel:c,onMarkAsRead:m})=>{let[u,x]=(0,t.useState)(()=>(0,r.getMessagesForConversation)(a.id,d?.id)),[h,f]=(0,t.useState)(""),[g,p]=(0,t.useState)(null),E=(0,t.useRef)(null);(0,t.useEffect)(()=>{x((0,r.getMessagesForConversation)(a.id,d?.id)),(0,r.markConversationAsRead)(e.id,a.id),m()},[a.id,e.id,m,d?.id]),(0,t.useEffect)(()=>{E.current?.scrollIntoView({behavior:"smooth"})},[u]);let N=(0,t.useMemo)(()=>!!a.isDirect||!d||a.name?.toLowerCase()!=="#announcements"||(0,i.can)(e,d,"canPostInAnnouncementChannels"),[e,a,d]),b=(0,t.useCallback)(s=>{(0,r.deleteMessage)(s,e.id)?(x(e=>e.filter(e=>e.id!==s)),m()):alert("You don't have permission to delete this message.")},[e.id,m]),y=a.isDirect?a.participants.find(s=>s.id!==e.id):null;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[a.isDirect&&y?(0,s.jsx)("img",{src:y.profile.avatarUrl,alt:y.profile.displayName,className:"w-10 h-10 rounded-full"}):(0,s.jsx)("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center font-bold text-gray-500 text-xl",children:"#"}),(0,s.jsx)("div",{children:(0,s.jsx)("h2",{className:"text-lg font-bold text-gray-900",children:a.displayName})})]}),!a.isDirect&&(0,s.jsx)("button",{onClick:c,className:`p-2 rounded-md transition-colors lg:hidden ${o?"bg-amber-100 text-amber-700":"text-gray-400 hover:bg-gray-100 hover:text-gray-600"}`,children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})})]}),(0,s.jsxs)("div",{className:"flex-1 p-6 overflow-y-auto space-y-2",children:[u.map(t=>{let r=(0,i.canDeleteMessage)(e,t,a,d),l=t.userId===e.id;return(0,s.jsxs)("div",{className:`flex items-start gap-3 group relative ${l?"justify-end":"justify-start"}`,onMouseEnter:()=>p(t.id),onMouseLeave:()=>p(null),children:[!l&&(0,s.jsx)("img",{src:t.userAvatarUrl,alt:t.userDisplayName,className:"w-8 h-8 rounded-full cursor-pointer",onClick:()=>n(t.userId)}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsxs)("div",{className:`max-w-md p-3 rounded-lg ${l?"bg-amber-500 text-white":"bg-gray-100 text-gray-800"}`,children:[!l&&(0,s.jsx)("p",{className:"text-xs font-bold mb-1 text-amber-700 cursor-pointer",onClick:()=>n(t.userId),children:t.userDisplayName}),(0,s.jsx)("p",{className:"text-sm",style:{whiteSpace:"pre-wrap"},children:t.text})]}),(0,s.jsx)("p",{className:`text-xs mt-1 ${l?"text-gray-400 self-end":"text-gray-400"}`,children:t.createdAt.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),g===t.id&&r&&(0,s.jsx)("div",{className:`absolute top-0 ${l?"left-0 -translate-x-full pr-2":"right-0 translate-x-full pl-2"}`,children:(0,s.jsx)("div",{className:"bg-white rounded-md shadow-lg border border-gray-200",children:(0,s.jsxs)("button",{onClick:()=>b(t.id),className:"flex items-center space-x-2 w-full text-left px-3 py-1.5 text-xs text-red-600 hover:bg-red-50",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 012 0v6a1 1 0 11-2 0V8z",clipRule:"evenodd"})}),(0,s.jsx)("span",{children:"Delete"})]})})})]},t.id)}),(0,s.jsx)("div",{ref:E})]}),(0,s.jsx)("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:N?(0,s.jsxs)("form",{onSubmit:s=>{s.preventDefault(),""!==h.trim()&&N&&((0,r.addMessage)(a.id,e.id,h.trim()),x((0,r.getMessagesForConversation)(a.id,d?.id)),f(""),m())},className:"flex items-center space-x-4",children:[(0,s.jsx)("input",{type:"text",placeholder:`Message ${a.displayName}...`,"aria-label":"Chat message input",value:h,onChange:e=>f(e.target.value),className:"flex-1 w-full px-4 py-2 border border-gray-300 rounded-full shadow-sm focus:ring-amber-500 focus:border-amber-500 sm:text-sm bg-white text-gray-900 placeholder:text-gray-400"}),(0,s.jsx)(l.default,{type:"submit",children:"Send"})]}):(0,s.jsx)("div",{className:"text-center text-sm text-gray-500 italic px-4 py-2 bg-gray-100 rounded-full",children:"You do not have permission to post in this channel."})})]})}],29104)},33867,e=>{"use strict";var s=e.i(43476),t=e.i(71645),a=e.i(31487),r=e.i(51809),l=e.i(29104),i=e.i(41059),n=e.i(83079),d=e.i(58911),o=e.i(44849),c=e.i(41497);let m=({tenant:e,currentUser:r,onSubmit:l,onCancel:i})=>{let[d,m]=(0,t.useState)(""),[u,x]=(0,t.useState)(!1),[h,f]=(0,t.useState)(()=>new Set([r.id])),[g,p]=(0,t.useState)(""),E=(0,t.useMemo)(()=>(0,a.getMembersForTenant)(e.id),[e.id]),N=(0,t.useMemo)(()=>g?E.filter(e=>e.profile.displayName.toLowerCase().includes(g.toLowerCase())):E,[E,g]);return(0,s.jsxs)("form",{onSubmit:e=>{(e.preventDefault(),d.trim())?l({name:d.trim(),isPrivate:u,participantIds:Array.from(h)}):alert("Please enter a channel name.")},className:"space-y-6",children:[(0,s.jsx)(o.default,{label:"Channel Name",id:"channel-name",name:"name",value:d,onChange:e=>m(e.target.value),required:!0,placeholder:"# announcements"}),(0,s.jsx)(c.default,{label:"Private Channel",description:"If enabled, only selected members can see and join this channel.",enabled:u,onChange:x}),u&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:"Select Members"}),(0,s.jsx)(o.default,{label:"",id:"member-search",placeholder:"Search members to add...",value:g,onChange:e=>p(e.target.value)}),(0,s.jsx)("div",{className:"max-h-60 overflow-y-auto border border-gray-200 rounded-md p-2 space-y-2",children:N.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-2 rounded hover:bg-gray-50",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("img",{src:e.profile.avatarUrl,alt:e.profile.displayName,className:"w-8 h-8 rounded-full"}),(0,s.jsx)("span",{className:"text-sm text-gray-800",children:e.profile.displayName})]}),(0,s.jsx)("input",{type:"checkbox",className:"h-4 w-4 text-amber-600 border-gray-300 rounded focus:ring-amber-500",checked:h.has(e.id),onChange:()=>{var s;(s=e.id)!==r.id&&f(e=>{let t=new Set(e);return t.has(s)?t.delete(s):t.add(s),t})},disabled:e.id===r.id})]},e.id))})]}),(0,s.jsxs)("div",{className:"flex justify-end items-center space-x-4 pt-4 border-t border-gray-200",children:[(0,s.jsx)(n.default,{type:"button",variant:"secondary",onClick:i,children:"Cancel"}),(0,s.jsx)(n.default,{type:"submit",children:"Create Channel"})]})]})};var u=e.i(64807);let x=({conversation:e,tenant:r,onViewProfile:l})=>{let i=(0,t.useMemo)(()=>e.participants.map(e=>{let s=(0,a.getMembershipForUserInTenant)(e.id,r.id);return s?{...e,roles:s.roles.map(e=>e.role),membership:s}:null}).filter(e=>null!==e).sort((e,s)=>{let t={[u.TenantRole.ADMIN]:0,[u.TenantRole.STAFF]:1,[u.TenantRole.CLERGY]:1,[u.TenantRole.MODERATOR]:2,[u.TenantRole.MEMBER]:3},a=e.roles[0]||u.TenantRole.MEMBER,r=s.roles[0]||u.TenantRole.MEMBER;return t[a]<t[r]?-1:t[a]>t[r]?1:e.profile.displayName.localeCompare(s.profile.displayName)}),[e.participants,r.id]),n={ADMIN:"bg-red-100 text-red-800",STAFF:"bg-sky-100 text-sky-800",CLERGY:"bg-emerald-100 text-emerald-800",MODERATOR:"bg-indigo-100 text-indigo-800",MEMBER:"bg-gray-100 text-gray-800"};return(0,s.jsxs)("div",{className:"flex flex-col h-full bg-white",children:[(0,s.jsxs)("div",{className:"p-4 border-b border-gray-200",children:[(0,s.jsx)("h3",{className:"font-bold text-lg text-gray-900",children:e.displayName}),e.description&&(0,s.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:e.description})]}),(0,s.jsxs)("div",{className:"flex-1 overflow-y-auto",children:[(0,s.jsx)("div",{className:"p-4",children:(0,s.jsxs)("h4",{className:"text-xs font-bold uppercase text-gray-500",children:["Members â€” ",i.length]})}),(0,s.jsx)("ul",{children:i.map(e=>(0,s.jsx)("li",{className:"px-4 py-2 hover:bg-gray-50 cursor-pointer",onClick:()=>l(e.id),children:(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("img",{src:e.profile.avatarUrl,alt:e.profile.displayName,className:"w-8 h-8 rounded-full"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:e.membership.displayName||e.profile.displayName}),(0,s.jsx)("div",{className:"flex flex-wrap gap-1 mt-0.5",children:e.roles.map(e=>(0,s.jsx)("span",{className:`inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium ${n[e]||"bg-gray-100 text-gray-800"}`,children:e},e))})]})]})},e.id))})]})]})};e.s(["default",0,({tenant:e,user:o,onViewProfile:c})=>{let[u,h]=(0,t.useState)(0),[f,g]=(0,t.useState)(!0),p=(0,t.useMemo)(()=>(0,a.getConversationsForUser)(o.id).filter(s=>s.tenantId===e.id),[o.id,e.id,u]),[E,N]=(0,t.useState)(null),[b,y]=(0,t.useState)(!1),[v,j]=(0,t.useState)(null),R=(0,i.can)(o,e,"canCreateGroupChats");(0,t.useEffect)(()=>{if(v){let e=p.find(e=>e.id===v);e&&(N(e),j(null))}else if(!p.some(e=>e.id===E?.id)){let e=p.find(e=>"#announcements"===e.name),s=p.find(e=>e.isDefaultChannel);N(e||s||p[0]||null)}},[p,E,v]);let M=(0,t.useCallback)(e=>{N(e)},[]),D=(0,t.useCallback)(()=>{h(e=>e+1)},[]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex h-[calc(100vh-170px)] bg-white rounded-lg shadow-sm overflow-hidden",children:[(0,s.jsxs)("div",{className:"w-full sm:w-1/3 md:w-1/4 border-r border-gray-200 flex flex-col",children:[(0,s.jsxs)("div",{className:"p-4 border-b border-gray-200 flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Channels"}),(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:["Conversations in ",e.name]})]}),R&&(0,s.jsx)(n.default,{size:"sm",onClick:()=>y(!0),children:"New"})]}),(0,s.jsx)(r.default,{conversations:p,currentUser:o,activeConversationId:E?.id,onConversationSelect:M})]}),(0,s.jsx)("div",{className:"flex-1 flex flex-col",children:E?(0,s.jsx)(l.default,{currentUser:o,conversation:E,onViewProfile:c,tenant:e,isDetailsPanelOpen:f,onToggleDetailsPanel:()=>g(!f),onMarkAsRead:D},E.id):(0,s.jsx)("div",{className:"flex-1 flex items-center justify-center text-center",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"No Channels Available"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:R?"Create a channel to start chatting.":"There are no channels for you in this tenant yet."})]})})}),f&&E&&(0,s.jsx)("div",{className:"hidden lg:block w-full sm:w-1/3 md:w-1/4 border-l border-gray-200",children:(0,s.jsx)(x,{conversation:E,tenant:e,onViewProfile:c},E.id)})]}),(0,s.jsx)(d.default,{isOpen:b,onClose:()=>y(!1),title:"Create a New Channel",children:(0,s.jsx)(m,{tenant:e,currentUser:o,onSubmit:s=>{let t=(0,a.createConversation)(e.id,o.id,s.name,s.isPrivate,s.participantIds);y(!1),j(t.id),h(e=>e+1)},onCancel:()=>y(!1)})})]})}],33867)}]);