(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,83079,e=>{"use strict";var t=e.i(43476);e.s(["default",0,({children:e,variant:s="primary",size:a="md",className:r,...n})=>(0,t.jsx)("button",{className:`rounded-md font-semibold focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${{primary:"bg-amber-600 text-white hover:bg-amber-700 focus:ring-amber-500",secondary:"bg-gray-200 text-gray-800 hover:bg-gray-300 focus:ring-gray-400",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500"}[s]} ${{md:"px-4 py-2 text-sm",sm:"px-3 py-1.5 text-xs"}[a]} ${r}`,...n,children:e})])},2265,e=>{"use strict";var t=e.i(43476);e.s(["default",0,({children:e,className:s,title:a,description:r})=>(0,t.jsxs)("div",{className:`bg-white shadow-md rounded-lg overflow-hidden ${s}`,children:[a&&(0,t.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold leading-6 text-gray-900",children:a}),r&&(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:r})]}),(0,t.jsx)("div",{className:"p-6",children:e})]})])},44849,e=>{"use strict";var t=e.i(43476);e.s(["default",0,({label:e,id:s,containerClassName:a,...r})=>(0,t.jsxs)("div",{className:a,children:[(0,t.jsx)("label",{htmlFor:s,className:"block text-sm font-medium text-gray-700 mb-1",children:e}),(0,t.jsx)("input",{id:s,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-amber-500 focus:border-amber-500 sm:text-sm bg-white text-gray-900 placeholder:text-gray-400",...r})]})])},41497,e=>{"use strict";var t=e.i(43476);e.s(["default",0,({label:e,enabled:s,onChange:a,description:r})=>(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("span",{className:"flex-grow flex flex-col",children:[(0,t.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e}),r&&(0,t.jsx)("span",{className:"text-sm text-gray-500",children:r})]}),(0,t.jsx)("button",{type:"button",className:`${s?"bg-amber-600":"bg-gray-200"} relative inline-flex flex-shrink-0 h-6 w-11 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-amber-500`,role:"switch","aria-checked":s,onClick:()=>a(!s),children:(0,t.jsx)("span",{"aria-hidden":"true",className:`${s?"translate-x-5":"translate-x-0"} pointer-events-none inline-block h-5 w-5 rounded-full bg-white shadow transform ring-0 transition ease-in-out duration-200`})})]})])},14640,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(31487),r=e.i(83079),n=e.i(2265),o=e.i(44849),l=e.i(41497);let i=({tenant:e})=>{let r=e.settings.donationSettings.leaderboardTimeframe,o=(0,s.useMemo)(()=>(0,a.getDonationsForTenant)(e.id,r),[e.id,r]),l=(0,s.useMemo)(()=>{let e={};return o.forEach(t=>{if(t.isAnonymousOnLeaderboard)return;let s=t.userId||t.displayName;e[s]||(e[s]={total:0,name:t.displayName,avatar:t.userAvatarUrl}),e[s].total+=t.amount}),Object.values(e).sort((e,t)=>t.total-e.total).slice(0,10)},[o]);return(0,t.jsx)(n.default,{title:`Top Donors (${r.replace("_"," ").toLowerCase()})`,children:l.length>0?(0,t.jsx)("ul",{className:"divide-y divide-gray-200",children:l.map((e,s)=>(0,t.jsxs)("li",{className:"py-3 flex items-center",children:[(0,t.jsx)("div",{className:"w-8 text-lg font-bold text-gray-400",children:s+1}),e.avatar&&(0,t.jsx)("img",{className:"h-10 w-10 rounded-full",src:e.avatar,alt:e.name}),(0,t.jsx)("div",{className:`flex-1 ${!e.avatar&&"ml-10"}`,children:(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.name})}),(0,t.jsxs)("p",{className:"text-sm font-semibold text-amber-700",children:["$",e.total.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]},e.name+s))}):(0,t.jsx)("p",{className:"text-sm text-gray-500 text-center py-4",children:"No donations to display for this period."})})};e.s(["default",0,({tenant:e,user:d,onRefresh:c})=>{let m=e.settings.donationSettings,[u,x]=(0,s.useState)(m.suggestedAmounts[0]||"custom"),[g,b]=(0,s.useState)(""),[h,p]=(0,s.useState)(""),[f,y]=(0,s.useState)(!1),[j,N]=(0,s.useState)(!1);return j?(0,t.jsx)(n.default,{children:(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:"Thank You!"}),(0,t.jsxs)("p",{className:"mt-2 text-gray-600",children:["Your generous donation to ",e.name," is greatly appreciated."]}),(0,t.jsx)(r.default,{onClick:()=>N(!1),className:"mt-6",children:"Make Another Donation"})]})}):(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsx)("div",{className:"flex justify-between items-center",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Donations"}),(0,t.jsxs)("p",{className:"mt-1 text-sm text-gray-500",children:["Support the mission and work of ",e.name,"."]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,t.jsx)("div",{className:"lg:col-span-2",children:"EXTERNAL"===m.mode?(0,t.jsx)(n.default,{children:(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsxs)("h3",{className:"text-xl font-semibold text-gray-800",children:["Donate to ",e.name]}),(0,t.jsx)("p",{className:"mt-2 text-gray-600",children:"This community accepts donations via an external service. Click the button below to be redirected."}),(0,t.jsx)("a",{href:m.externalUrl,target:"_blank",rel:"noopener noreferrer",children:(0,t.jsx)(r.default,{className:"mt-6",children:"Proceed to Donation Site"})})]})}):(0,t.jsx)("form",{onSubmit:t=>{t.preventDefault();let s="custom"===u?parseFloat(g):u;isNaN(s)||s<=0?alert("Please enter a valid donation amount."):((0,a.addDonationRecord)({tenantId:e.id,userId:d.id,displayName:d.profile.displayName,amount:s,currency:m.currency,message:h,isAnonymousOnLeaderboard:f}),c(),N(!0))},children:(0,t.jsxs)(n.default,{title:"Make a Donation",description:`Your support for ${e.name} is greatly appreciated.`,children:[(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select an Amount (",m.currency,")"]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[m.suggestedAmounts.map(e=>(0,t.jsxs)("button",{type:"button",onClick:()=>x(e),className:`p-4 text-center rounded-md border-2 font-semibold transition-colors ${u===e?"bg-amber-100 border-amber-500 text-amber-800":"bg-white border-gray-300 hover:border-amber-400"}`,children:["$",e]},e)),m.allowCustomAmounts&&(0,t.jsx)("button",{type:"button",onClick:()=>x("custom"),className:`p-4 text-center rounded-md border-2 font-semibold transition-colors ${"custom"===u?"bg-amber-100 border-amber-500 text-amber-800":"bg-white border-gray-300 hover:border-amber-400"}`,children:"Custom"})]})]}),"custom"===u&&m.allowCustomAmounts&&(0,t.jsx)(o.default,{label:"Custom Amount",id:"customAmount",name:"customAmount",type:"number",step:"0.01",min:"1",value:g,onChange:e=>b(e.target.value),placeholder:"e.g., 75.50",required:!0}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-1",children:"Message (Optional)"}),(0,t.jsx)("textarea",{id:"message",name:"message",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-amber-500 focus:border-amber-500 sm:text-sm bg-white text-gray-900",value:h,onChange:e=>p(e.target.value)})]}),(0,t.jsx)(l.default,{label:"Remain Anonymous on Leaderboard",enabled:f,onChange:y})]}),(0,t.jsx)("div",{className:"text-right border-t border-gray-200 pt-6 mt-6",children:(0,t.jsx)(r.default,{type:"submit",children:"Donate Now"})})]})})}),(0,t.jsx)("div",{className:"lg:col-span-1",children:m.leaderboardEnabled&&(0,t.jsx)(i,{tenant:e})})]})]})}])}]);