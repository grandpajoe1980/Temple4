(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,48563,e=>{"use strict";var s=e.i(43476),t=e.i(71645),a=e.i(64807),r=e.i(74099),l=e.i(2265);let i=["General","Branding","Features","Permissions","Membership & Moderation","User Profiles","Donations","Volunteering","Small Groups","Live Stream","Prayer Wall","Resource Center","Contact Submissions"],n={canCreatePosts:!0,canCreateEvents:!0,canCreateSermons:!0,canCreatePodcasts:!0,canCreateBooks:!0,canCreateGroupChats:!0,canInviteMembers:!0,canApproveMembership:!0,canBanMembers:!0,canModeratePosts:!0,canModerateChats:!0,canPostInAnnouncementChannels:!0,canManagePrayerWall:!0,canUploadResources:!0,canManageResources:!0,canManageContactSubmissions:!0};a.TenantRoleType.MEMBER,a.TenantRoleType.STAFF,a.TenantRoleType.MODERATOR;var d=e.i(44849),o=e.i(83079),m=e.i(41497);let c=({tenant:e,onUpdate:t})=>{let a=s=>{let{name:a,value:r}=s.target;t({...e,[a]:r})},r=s=>{let{name:a,value:r}=s.target;t({...e,address:{...e.address,[a]:r}})};return(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Basic Information"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Update your community's public details."})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)(d.default,{label:"Temple Name",id:"name",name:"name",value:e.name,onChange:a}),(0,s.jsx)(d.default,{label:"Creed / Religion",id:"creed",name:"creed",value:e.creed,onChange:a}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsx)(d.default,{label:"Contact Email",id:"contactEmail",name:"contactEmail",type:"email",value:e.contactEmail||"",onChange:a}),(0,s.jsx)(d.default,{label:"Phone Number",id:"phoneNumber",name:"phoneNumber",type:"tel",value:e.phoneNumber||"",onChange:a})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,s.jsx)("textarea",{id:"description",name:"description",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-amber-500 focus:border-amber-500 sm:text-sm bg-white text-gray-900",value:e.description,onChange:a})]})]}),(0,s.jsxs)("div",{className:"border-t border-gray-200 pt-8",children:[(0,s.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Location"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Where your community is located."})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsx)(d.default,{containerClassName:"md:col-span-2",label:"Street Address",id:"street",name:"street",value:e.address.street||"",onChange:r}),(0,s.jsx)(d.default,{label:"City",id:"city",name:"city",value:e.address.city,onChange:r}),(0,s.jsx)(d.default,{label:"State / Province",id:"state",name:"state",value:e.address.state,onChange:r}),(0,s.jsx)(d.default,{label:"Country",id:"country",name:"country",value:e.address.country,onChange:r}),(0,s.jsx)(d.default,{label:"Postal Code",id:"postalCode",name:"postalCode",value:e.address.postalCode,onChange:r})]}),(0,s.jsx)("div",{className:"border-t border-gray-200 pt-8",children:(0,s.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Visibility"})}),(0,s.jsx)(m.default,{label:"Public Tenant",description:"Allow this temple to be discovered in public search results.",enabled:e.settings.isPublic,onChange:s=>{t({...e,settings:{...e.settings,isPublic:s}})}}),(0,s.jsx)("div",{className:"text-right border-t border-gray-200 pt-6",children:(0,s.jsx)(o.default,{onClick:()=>alert("Settings saved (mock)!"),children:"Save Changes"})})]})},x=({tenant:e,onUpdate:t})=>{let a=s=>{let{name:a,value:r}=s.target;t({...e,branding:{...e.branding,[a]:r}})},r=(s,a,r)=>{let l=[...e.branding.customLinks];l[s]={...l[s],[a]:r},t({...e,branding:{...e.branding,customLinks:l}})};return(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Branding"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Customize the look and feel of your temple's pages."})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)(d.default,{label:"Logo URL",id:"logoUrl",name:"logoUrl",type:"text",placeholder:"https://example.com/logo.png",value:e.branding.logoUrl,onChange:s=>t({...e,branding:{...e.branding,logoUrl:s.target.value}})}),(0,s.jsx)(d.default,{label:"Banner Image URL",id:"bannerImageUrl",name:"bannerImageUrl",type:"text",placeholder:"https://example.com/banner.png",value:e.branding.bannerImageUrl,onChange:s=>t({...e,branding:{...e.branding,bannerImageUrl:s.target.value}})})]}),(0,s.jsxs)("div",{className:"border-t border-gray-200 pt-8",children:[(0,s.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Colors"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Choose colors that match your community's identity."})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"primaryColor",className:"block text-sm font-medium text-gray-700",children:"Primary Color"}),(0,s.jsxs)("div",{className:"mt-1 flex items-center space-x-3",children:[(0,s.jsx)("input",{type:"color",id:"primaryColor",name:"primaryColor",value:e.branding.primaryColor,onChange:a,className:"h-10 w-10 rounded-md border-gray-300"}),(0,s.jsx)(d.default,{id:"primaryColorText",name:"primaryColor",type:"text",label:"",value:e.branding.primaryColor,onChange:a})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"accentColor",className:"block text-sm font-medium text-gray-700",children:"Accent Color"}),(0,s.jsxs)("div",{className:"mt-1 flex items-center space-x-3",children:[(0,s.jsx)("input",{type:"color",id:"accentColor",name:"accentColor",value:e.branding.accentColor,onChange:a,className:"h-10 w-10 rounded-md border-gray-300"}),(0,s.jsx)(d.default,{id:"accentColorText",name:"accentColor",type:"text",label:"",value:e.branding.accentColor,onChange:a})]})]})]}),(0,s.jsxs)("div",{className:"border-t border-gray-200 pt-8",children:[(0,s.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Custom Links"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Add custom links to your temple's public page (e.g., website, donations)."}),(0,s.jsx)("p",{className:"mt-1 text-xs text-amber-700",children:"To enable the 'Donate' button on your home page, add a link with the exact label \"Donate\"."})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(e.branding.customLinks||[]).map((a,l)=>(0,s.jsxs)("div",{className:"flex items-end space-x-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 flex-grow",children:[(0,s.jsx)(d.default,{label:"Label",id:`linkLabel-${l}`,name:"label",value:a.label,onChange:e=>r(l,"label",e.target.value),placeholder:"e.g., Our Website"}),(0,s.jsx)(d.default,{label:"URL",id:`linkUrl-${l}`,name:"url",type:"url",value:a.url,onChange:e=>r(l,"url",e.target.value),placeholder:"https://..."})]}),(0,s.jsx)(o.default,{type:"button",variant:"danger",size:"sm",onClick:()=>{let s;return s=e.branding.customLinks.filter((e,s)=>s!==l),void t({...e,branding:{...e.branding,customLinks:s}})},"aria-label":"Remove link",className:"!p-2",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 012 0v6a1 1 0 11-2 0V8z",clipRule:"evenodd"})})})]},l)),(0,s.jsx)(o.default,{type:"button",variant:"secondary",onClick:()=>{let s=[...e.branding.customLinks||[],{label:"",url:""}];t({...e,branding:{...e.branding,customLinks:s}})},children:"+ Add Link"})]}),(0,s.jsx)("div",{className:"text-right border-t border-gray-200 pt-6",children:(0,s.jsx)(o.default,{onClick:()=>alert("Branding saved (mock)!"),children:"Save Branding"})})]})},p=({tenant:e,onUpdate:t})=>{let a=Object.keys(e.settings.visitorVisibility),r=e=>e.replace("enable","").replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase());return(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Feature Toggles"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Enable or disable major features for your members."})]}),(0,s.jsx)("div",{className:"space-y-4",children:["enableCalendar","enablePosts","enableSermons","enablePodcasts","enableBooks","enableMemberDirectory","enableGroupChat","enableComments","enableReactions","enableDonations","enableVolunteering","enableSmallGroups","enableLiveStream","enablePrayerWall","enableResourceCenter"].map(a=>(0,s.jsx)(m.default,{label:r(a),enabled:e.settings[a],onChange:s=>{t({...e,settings:{...e.settings,[a]:s}})}},a))}),(0,s.jsxs)("div",{className:"border-t border-gray-200 pt-8",children:[(0,s.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Visitor Visibility"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Control what non-members can see. Features must be enabled above to be visible."})]}),(0,s.jsx)("div",{className:"space-y-4",children:a.map(a=>(0,s.jsx)(m.default,{label:`Show ${r(a)} to Visitors`,enabled:e.settings.visitorVisibility[a]&&e.settings[`enable${a.charAt(0).toUpperCase()+a.slice(1)}`],onChange:s=>{t({...e,settings:{...e.settings,visitorVisibility:{...e.settings.visitorVisibility,[a]:s}}})}},`vis-${a}`))}),(0,s.jsx)("div",{className:"text-right border-t border-gray-200 pt-6",children:(0,s.jsx)(o.default,{onClick:()=>alert("Features saved (mock)!"),children:"Save Feature Settings"})})]})};var u=e.i(31487);let h=({tenant:e,onUpdate:r,currentUser:l})=>{let[i,d]=(0,t.useState)(e.permissions),[m,c]=(0,t.useState)(!1);(0,t.useEffect)(()=>{d(e.permissions),c(!1)},[e.permissions]);let x=[a.TenantRoleType.MEMBER,a.TenantRoleType.STAFF,a.TenantRoleType.MODERATOR],p=Object.keys(n);return(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Role Permissions"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Define what different roles can do within your community. Note: The 'Clergy' role uses 'Staff' permissions."})]}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Permission"}),x.map(e=>(0,s.jsx)("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:e},e)),(0,s.jsx)("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ADMIN"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:p.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.replace("can","").replace(/([A-Z])/g," $1").trim()}),x.map(t=>(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:(0,s.jsx)("input",{type:"checkbox",className:"h-4 w-4 text-amber-600 border-gray-300 rounded focus:ring-amber-500",checked:i[t]?.[e]||!1,onChange:s=>{var a;return a=s.target.checked,void(d(s=>{let r=JSON.parse(JSON.stringify(s));return r[t]||(r[t]={}),r[t][e]=a,r}),c(!0))}})},`${t}-${e}`)),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:(0,s.jsx)("input",{type:"checkbox",className:"h-4 w-4 text-amber-600 border-gray-300 rounded focus:ring-amber-500",checked:!0,disabled:!0})})]},e))})]})}),(0,s.jsx)("div",{className:"text-right border-t border-gray-200 pt-6",children:(0,s.jsx)(o.default,{onClick:()=>{(0,u.updateTenantPermissions)(e.id,i,l.id),r({...e,permissions:i}),c(!1),alert("Permissions saved successfully!")},disabled:!m,children:"Save Permissions"})})]})};var g=e.i(41059),b=e.i(58911);let y=Object.values(a.TenantRole),j=({isOpen:e,onClose:r,member:l,onSubmit:i})=>{let[n,m]=(0,t.useState)(()=>new Set),[c,x]=(0,t.useState)(a.TenantRole.MEMBER),[p,u]=(0,t.useState)("");return(0,t.useEffect)(()=>{if(l){let e=new Set(l.membership.roles.map(e=>e.role)),s=l.membership.roles.find(e=>e.isPrimary)?.role||a.TenantRole.MEMBER,t=l.membership.roles.find(e=>e.displayTitle)?.displayTitle||"";m(e),x(s),u(t)}},[l]),(0,t.useEffect)(()=>{n.has(c)||x(n.size>0?n.values().next().value:a.TenantRole.MEMBER)},[n,c]),(0,s.jsx)(b.default,{isOpen:e,onClose:r,title:`Edit Roles for ${l.profile.displayName}`,children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:"Assigned Roles"}),(0,s.jsx)("div",{className:"mt-2 grid grid-cols-2 gap-2",children:y.map(e=>(0,s.jsxs)("label",{className:"flex items-center space-x-3 p-2 rounded-md hover:bg-gray-50",children:[(0,s.jsx)("input",{type:"checkbox",className:"h-4 w-4 text-amber-600 border-gray-300 rounded focus:ring-amber-500",checked:n.has(e),onChange:()=>{m(s=>{let t=new Set(s);return t.has(e)?t.delete(e):t.add(e),t})}}),(0,s.jsx)("span",{className:"text-sm text-gray-700",children:e})]},e))})]}),n.size>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:"Primary Role"}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"This role determines their main title and sorting order."}),(0,s.jsx)("div",{className:"mt-2 space-y-2",children:Array.from(n).map(e=>(0,s.jsxs)("label",{className:"flex items-center space-x-3 p-2 rounded-md hover:bg-gray-50",children:[(0,s.jsx)("input",{type:"radio",name:"primary-role",className:"h-4 w-4 text-amber-600 border-gray-300 focus:ring-amber-500",checked:c===e,onChange:()=>x(e)}),(0,s.jsx)("span",{className:"text-sm text-gray-700",children:e})]},`primary-${e}`))})]}),(0,s.jsx)(d.default,{label:"Display Title",id:"displayTitle",name:"displayTitle",value:p,onChange:e=>u(e.target.value),placeholder:"e.g., Lead Pastor, Senior Student",containerClassName:"pt-2"})]}),(0,s.jsxs)("div",{className:"flex justify-end items-center space-x-4 pt-4 border-t border-gray-200",children:[(0,s.jsx)(o.default,{type:"button",variant:"secondary",onClick:r,children:"Cancel"}),(0,s.jsx)(o.default,{type:"button",onClick:()=>{if(0===n.size)return void alert("A member must have at least one role.");let e=Array.from(n).map(e=>({id:l.membership.roles.find(s=>s.role===e)?.id||`tr-${Date.now()}-${e}`,role:e,isPrimary:e===c,displayTitle:e===c?p:void 0}));i(l,e)},children:"Save Changes"})]})]})})},v=({tenant:e,onUpdate:r,currentUser:l,onImpersonate:i,onRefresh:n})=>{let d=(0,u.getMembersForTenant)(e.id),[m,c]=(0,t.useState)(null),x=(0,g.can)(l,e,"canApproveMembership"),p=(0,g.can)(l,e,"canBanMembers"),h=(e,s,t)=>{let r=`Are you sure you want to ${s.toLowerCase()} this member?`;s===a.MembershipStatus.BANNED?r=`Are you sure you want to ban ${t}? This will revoke all their permissions and access to this tenant's member-only content.`:s===a.MembershipStatus.APPROVED&&d.find(s=>s.membership.id===e)?.membership.status===a.MembershipStatus.BANNED?r=`Are you sure you want to unban ${t}? This will restore their previous roles and permissions.`:s===a.MembershipStatus.APPROVED&&(r=`Are you sure you want to approve ${t}'s request to join?`),window.confirm(r)&&((0,u.updateMembershipStatus)(e,s,l.id),n())},b=d.filter(e=>e.membership.status===a.MembershipStatus.REQUESTED),y=d.filter(e=>e.membership.status===a.MembershipStatus.APPROVED),v=d.filter(e=>e.membership.status===a.MembershipStatus.BANNED),f=({members:e,title:t})=>0===e.length?(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:t}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"No members in this category."})]}):(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:t}),(0,s.jsx)("div",{className:"mt-4 flow-root",children:(0,s.jsx)("div",{className:"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8",children:(0,s.jsx)("div",{className:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-300",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-0",children:"Name"}),(0,s.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Title / Roles"}),(0,s.jsx)("th",{scope:"col",className:"relative py-3.5 pl-3 pr-4 sm:pr-0",children:(0,s.jsx)("span",{className:"sr-only",children:"Actions"})})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-gray-200 bg-white",children:e.map(e=>{let t=e.membership.roles.find(e=>e.isPrimary)||e.membership.roles[0];return(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 text-sm sm:pl-0",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"h-10 w-10 flex-shrink-0",children:(0,s.jsx)("img",{className:"h-10 w-10 rounded-full",src:e.profile.avatarUrl,alt:""})}),(0,s.jsxs)("div",{className:"ml-4",children:[(0,s.jsx)("div",{className:"font-medium text-gray-900",children:e.profile.displayName}),(0,s.jsx)("div",{className:"text-gray-500",children:e.email})]})]})}),(0,s.jsxs)("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:[(0,s.jsx)("div",{className:"text-gray-900",children:t?.displayTitle}),(0,s.jsx)("div",{className:"text-gray-500",children:e.membership.roles.map(e=>e.role).join(", ")})]}),(0,s.jsx)("td",{className:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-0",children:(0,s.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[e.membership.status===a.MembershipStatus.REQUESTED&&x&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.default,{variant:"secondary",size:"sm",onClick:()=>h(e.membership.id,a.MembershipStatus.REJECTED,e.profile.displayName),children:"Reject"}),(0,s.jsx)(o.default,{size:"sm",onClick:()=>h(e.membership.id,a.MembershipStatus.APPROVED,e.profile.displayName),children:"Approve"})]}),e.membership.status===a.MembershipStatus.APPROVED&&x&&(0,s.jsx)(o.default,{variant:"secondary",size:"sm",onClick:()=>c(e),children:"Edit Roles"}),e.membership.status===a.MembershipStatus.APPROVED&&p&&(0,s.jsx)(o.default,{variant:"danger",size:"sm",onClick:()=>h(e.membership.id,a.MembershipStatus.BANNED,e.profile.displayName),children:"Ban"}),e.membership.status===a.MembershipStatus.BANNED&&p&&(0,s.jsx)(o.default,{variant:"secondary",size:"sm",onClick:()=>h(e.membership.id,a.MembershipStatus.APPROVED,e.profile.displayName),children:"Unban"}),l.isSuperAdmin&&l.id!==e.id&&(0,s.jsx)(o.default,{variant:"secondary",size:"sm",onClick:()=>i(e),children:"Impersonate"})]})})]},e.id)})})]})})})})]});return(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Membership Settings"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Configure how users can join your temple."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"membershipApprovalMode",className:"block text-sm font-medium text-gray-700",children:"Membership Approval Mode"}),(0,s.jsxs)("select",{id:"membershipApprovalMode",name:"membershipApprovalMode",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-amber-500 focus:border-amber-500 sm:text-sm rounded-md bg-white text-gray-900",value:e.settings.membershipApprovalMode,onChange:s=>{r({...e,settings:{...e.settings,membershipApprovalMode:s.target.value}})},children:[(0,s.jsx)("option",{value:a.MembershipApprovalMode.OPEN,children:"Open Enrollment (anyone can join instantly)"}),(0,s.jsx)("option",{value:a.MembershipApprovalMode.APPROVAL_REQUIRED,children:"Approval Required (admins must approve requests)"})]})]}),(0,s.jsxs)("div",{className:"border-t border-gray-200 pt-8 space-y-8",children:[(0,s.jsx)(f,{members:b,title:"Pending Requests"}),(0,s.jsx)(f,{members:y,title:"Approved Members"}),(0,s.jsx)(f,{members:v,title:"Banned Members"})]}),m&&(0,s.jsx)(j,{isOpen:!!m,onClose:()=>c(null),member:m,onSubmit:(e,s)=>{(0,u.updateMemberRolesAndTitle)(e.membership.id,s,l.id),c(null),n()}}),(0,s.jsx)("div",{className:"text-right border-t border-gray-200 pt-6",children:(0,s.jsx)(o.default,{onClick:()=>alert("Membership settings saved (mock)!"),children:"Save Membership Settings"})})]})},f=({isOpen:e,onClose:a,member:r,adminUser:l,onSave:i})=>{let[n,m]=(0,t.useState)(r.profile);(0,t.useEffect)(()=>{r&&m(r.profile)},[r]);let c=e=>{let{name:s,value:t}=e.target;m(e=>({...e,[s]:t}))};return(0,s.jsx)(b.default,{isOpen:e,onClose:a,title:`Edit Profile for ${r.profile.displayName}`,children:(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(0,u.adminUpdateUserProfile)(l.id,r.id,n),i(),alert("Profile updated by admin.")},className:"space-y-6",children:[(0,s.jsx)(d.default,{label:"Display Name",id:"displayName",name:"displayName",value:n.displayName,onChange:c,required:!0}),(0,s.jsx)(d.default,{label:"Avatar URL",id:"avatarUrl",name:"avatarUrl",type:"url",value:n.avatarUrl||"",onChange:c}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"bio",className:"block text-sm font-medium text-gray-700 mb-1",children:"Bio"}),(0,s.jsx)("textarea",{id:"bio",name:"bio",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-amber-500 focus:border-amber-500 sm:text-sm bg-white text-gray-900",value:n.bio||"",onChange:c})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsx)(d.default,{label:"City",id:"locationCity",name:"locationCity",value:n.locationCity||"",onChange:c}),(0,s.jsx)(d.default,{label:"Country",id:"locationCountry",name:"locationCountry",value:n.locationCountry||"",onChange:c})]}),(0,s.jsx)(d.default,{label:"Languages (comma-separated)",id:"languages",name:"languages",value:(n.languages||[]).join(", "),onChange:e=>{let s=e.target.value.split(",").map(e=>e.trim()).filter(Boolean);m(e=>({...e,languages:s}))},placeholder:"e.g., English, Spanish"}),(0,s.jsxs)("div",{className:"flex justify-end items-center space-x-4 pt-4 border-t border-gray-200",children:[(0,s.jsx)(o.default,{type:"button",variant:"secondary",onClick:a,children:"Cancel"}),(0,s.jsx)(o.default,{type:"submit",children:"Save Changes"})]})]})})},N=({tenant:e,currentUser:a,onRefresh:r})=>{let l=(0,t.useMemo)(()=>(0,u.getMembersForTenant)(e.id),[e.id,r]),[i,n]=(0,t.useState)(""),[m,c]=(0,t.useState)(null),x=(0,t.useMemo)(()=>{if(!i)return l;let e=i.toLowerCase();return l.filter(s=>s.profile.displayName.toLowerCase().includes(e)||s.email.toLowerCase().includes(e))},[l,i]);return(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Manage User Profiles"}),(0,s.jsxs)("p",{className:"mt-1 text-sm text-gray-500",children:["View member profiles for ",e.name,". Platform Super Admins can edit profiles from this panel."]})]}),(0,s.jsx)(d.default,{label:"Search Members",id:"profile-search",placeholder:"Search by name or email...",value:i,onChange:e=>n(e.target.value)}),(0,s.jsx)("div",{className:"flow-root",children:(0,s.jsx)("div",{className:"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8",children:(0,s.jsx)("div",{className:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-300",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-0",children:"Name"}),(0,s.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Roles"}),(0,s.jsx)("th",{scope:"col",className:"relative py-3.5 pl-3 pr-4 sm:pr-0",children:(0,s.jsx)("span",{className:"sr-only",children:"Edit"})})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-gray-200 bg-white",children:x.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 text-sm sm:pl-0",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"h-10 w-10 flex-shrink-0",children:(0,s.jsx)("img",{className:"h-10 w-10 rounded-full",src:e.profile.avatarUrl,alt:""})}),(0,s.jsxs)("div",{className:"ml-4",children:[(0,s.jsx)("div",{className:"font-medium text-gray-900",children:e.profile.displayName}),(0,s.jsx)("div",{className:"text-gray-500",children:e.email})]})]})}),(0,s.jsx)("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:e.membership.roles.map(e=>e.role).join(", ")}),(0,s.jsx)("td",{className:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-0",children:a.isSuperAdmin&&(0,s.jsx)(o.default,{variant:"secondary",size:"sm",onClick:()=>c(e),children:"Edit"})})]},e.id))})]})})})}),m&&(0,s.jsx)(f,{isOpen:!!m,onClose:()=>c(null),member:m,adminUser:a,onSave:()=>{r(),c(null)}})]})},C=({tenant:e,onUpdate:t})=>{let a=e.settings.donationSettings,r=(s,r)=>{t({...e,settings:{...e.settings,donationSettings:{...a,[s]:r}}})};return(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Donation Settings"}),(0,s.jsxs)("p",{className:"mt-1 text-sm text-gray-500",children:['Configure how your community can receive donations. The main "Enable Donations" toggle is in the ',(0,s.jsx)("span",{className:"font-semibold text-amber-700",children:"Features"})," tab."]})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"mode",className:"block text-sm font-medium text-gray-700 mb-1",children:"Donation Mode"}),(0,s.jsxs)("select",{id:"mode",name:"mode",className:"w-full pl-3 pr-10 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-amber-500 focus:border-amber-500 sm:text-sm bg-white text-gray-900",value:a.mode,onChange:e=>r("mode",e.target.value),children:[(0,s.jsx)("option",{value:"EXTERNAL",children:"External Link (e.g., PayPal, GoFundMe)"}),(0,s.jsx)("option",{value:"INTEGRATED",children:"Integrated Form (Mock)"})]})]}),"EXTERNAL"===a.mode&&(0,s.jsx)(d.default,{label:"External Donation URL",id:"externalUrl",name:"externalUrl",type:"url",value:a.externalUrl||"",onChange:e=>r("externalUrl",e.target.value),placeholder:"https://www.paypal.com/donate/..."})]}),(0,s.jsxs)("div",{className:"border-t border-gray-200 pt-8",children:[(0,s.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Donation Form"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Customize the integrated donation form."})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)(d.default,{label:"Currency",id:"currency",name:"currency",value:a.currency,onChange:e=>r("currency",e.target.value.toUpperCase()),placeholder:"USD",className:"w-24"}),(0,s.jsx)(d.default,{label:"Suggested Amounts (comma-separated)",id:"suggestedAmounts",name:"suggestedAmounts",value:a.suggestedAmounts.join(", "),onChange:e=>{r("suggestedAmounts",e.target.value.split(",").map(e=>parseInt(e.trim())).filter(e=>!isNaN(e)))},placeholder:"10, 25, 50, 100"}),(0,s.jsx)(m.default,{label:"Allow Custom Amounts",description:"Let donors enter an amount not listed above.",enabled:a.allowCustomAmounts,onChange:e=>r("allowCustomAmounts",e)})]}),(0,s.jsx)("div",{className:"border-t border-gray-200 pt-8",children:(0,s.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Leaderboard"})}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)(m.default,{label:"Enable Leaderboard",description:"Show a list of top donors on the donations page.",enabled:a.leaderboardEnabled,onChange:e=>r("leaderboardEnabled",e)}),a.leaderboardEnabled&&(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"leaderboardVisibility",className:"block text-sm font-medium text-gray-700 mb-1",children:"Visibility"}),(0,s.jsxs)("select",{id:"leaderboardVisibility",name:"leaderboardVisibility",className:"w-full pl-3 pr-10 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-amber-500 focus:border-amber-500 sm:text-sm bg-white text-gray-900",value:a.leaderboardVisibility,onChange:e=>r("leaderboardVisibility",e.target.value),children:[(0,s.jsx)("option",{value:"MEMBERS_ONLY",children:"Members Only"}),(0,s.jsx)("option",{value:"PUBLIC",children:"Public"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"leaderboardTimeframe",className:"block text-sm font-medium text-gray-700 mb-1",children:"Timeframe"}),(0,s.jsxs)("select",{id:"leaderboardTimeframe",name:"leaderboardTimeframe",className:"w-full pl-3 pr-10 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-amber-500 focus:border-amber-500 sm:text-sm bg-white text-gray-900",value:a.leaderboardTimeframe,onChange:e=>r("leaderboardTimeframe",e.target.value),children:[(0,s.jsx)("option",{value:"ALL_TIME",children:"All Time"}),(0,s.jsx)("option",{value:"YEARLY",children:"This Year"}),(0,s.jsx)("option",{value:"MONTHLY",children:"This Month"})]})]})]})]}),(0,s.jsx)("div",{className:"text-right border-t border-gray-200 pt-6",children:(0,s.jsx)(o.default,{onClick:()=>alert("Donation settings saved (mock)!"),children:"Save Changes"})})]})},w=({onSubmit:e,onCancel:a})=>{let[r,l]=(0,t.useState)(""),[i,n]=(0,t.useState)(""),[m,c]=(0,t.useState)(new Date().toISOString().split("T")[0]),[x,p]=(0,t.useState)(1);return(0,s.jsxs)("form",{onSubmit:s=>{(s.preventDefault(),r&&m&&!(x<1))?e({title:r,description:i,date:new Date(m),slotsNeeded:x}):alert("Please fill out all required fields.")},className:"space-y-6",children:[(0,s.jsx)(d.default,{label:"Opportunity Title",id:"title",name:"title",value:r,onChange:e=>l(e.target.value),required:!0}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,s.jsx)("textarea",{id:"description",name:"description",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-amber-500 focus:border-amber-500 sm:text-sm bg-white text-gray-900",value:i,onChange:e=>n(e.target.value)})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,s.jsx)(d.default,{label:"Date",id:"date",name:"date",type:"date",value:m,onChange:e=>c(e.target.value),required:!0}),(0,s.jsx)(d.default,{label:"Slots Needed",id:"slotsNeeded",name:"slotsNeeded",type:"number",min:"1",value:x,onChange:e=>p(parseInt(e.target.value,10)),required:!0})]}),(0,s.jsxs)("div",{className:"flex justify-end items-center space-x-4 pt-4 border-t border-gray-200",children:[(0,s.jsx)(o.default,{type:"button",variant:"secondary",onClick:a,children:"Cancel"}),(0,s.jsx)(o.default,{type:"submit",children:"Create Need"})]})]})},S=({tenant:e,currentUser:a,onRefresh:r})=>{let[l,i]=(0,t.useState)(()=>(0,u.getVolunteerNeedsForTenant)(e.id)),[n,d]=(0,t.useState)(!1),[m,c]=(0,t.useState)(null);return(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Volunteer Management"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Create and manage volunteer opportunities for your members."})]}),(0,s.jsx)(o.default,{onClick:()=>d(!0),children:"+ Create Need"})]}),(0,s.jsx)("div",{className:"space-y-4",children:l.length>0?l.map(e=>(0,s.jsxs)("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200",children:[(0,s.jsxs)("div",{className:"p-4 flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-semibold text-gray-800",children:e.title}),(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:[e.date.toLocaleDateString()," Â· ",e.signups.length," / ",e.slotsNeeded," Filled"]})]}),(0,s.jsx)(o.default,{variant:"secondary",size:"sm",onClick:()=>{var s;return s=e.id,void c(e=>e===s?null:s)},children:m===e.id?"Hide Signups":"View Signups"})]}),m===e.id&&(0,s.jsxs)("div",{className:"border-t border-gray-200 bg-gray-50 p-4",children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Signed Up Volunteers:"}),e.signups.length>0?(0,s.jsx)("ul",{className:"divide-y divide-gray-200",children:e.signups.map(({user:e,signup:t})=>(0,s.jsxs)("li",{className:"py-2 flex items-center space-x-3",children:[(0,s.jsx)("img",{src:e.profile.avatarUrl,alt:e.profile.displayName,className:"w-8 h-8 rounded-full"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.profile.displayName}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:e.email})]})]},t.id))}):(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"No volunteers have signed up for this opportunity yet."})]})]},e.id)):(0,s.jsxs)("div",{className:"text-center py-12 border-2 border-dashed border-gray-200 rounded-lg",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"No Volunteer Needs Created"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:'Click "Create Need" to get started.'})]})}),(0,s.jsx)(b.default,{isOpen:n,onClose:()=>d(!1),title:"Create Volunteer Need",children:(0,s.jsx)(w,{onSubmit:s=>{(0,u.addVolunteerNeed)({tenantId:e.id,...s},a.id),i((0,u.getVolunteerNeedsForTenant)(e.id)),r(),d(!1)},onCancel:()=>d(!1)})})]})},A=({onSubmit:e,onCancel:a,members:r})=>{let[l,i]=(0,t.useState)(""),[n,c]=(0,t.useState)(""),[x,p]=(0,t.useState)(r[0]?.id||""),[u,h]=(0,t.useState)(""),[g,b]=(0,t.useState)(!0);return(0,s.jsxs)("form",{onSubmit:s=>{(s.preventDefault(),l&&x&&u)?e({name:l,description:n,leaderUserId:x,meetingSchedule:u,isActive:g}):alert("Please fill out all required fields.")},className:"space-y-6",children:[(0,s.jsx)(d.default,{label:"Group Name",id:"name",name:"name",value:l,onChange:e=>i(e.target.value),required:!0}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,s.jsx)("textarea",{id:"description",name:"description",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-amber-500 focus:border-amber-500 sm:text-sm bg-white text-gray-900",value:n,onChange:e=>c(e.target.value)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"leaderUserId",className:"block text-sm font-medium text-gray-700 mb-1",children:"Group Leader"}),(0,s.jsx)("select",{id:"leaderUserId",name:"leaderUserId",className:"w-full pl-3 pr-10 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-amber-500 focus:border-amber-500 sm:text-sm bg-white text-gray-900",value:x,onChange:e=>p(e.target.value),required:!0,children:r.map(e=>(0,s.jsx)("option",{value:e.id,children:e.profile.displayName},e.id))})]}),(0,s.jsx)(d.default,{label:"Meeting Schedule",id:"meetingSchedule",name:"meetingSchedule",value:u,onChange:e=>h(e.target.value),placeholder:"e.g., Tuesdays at 7 PM",required:!0}),(0,s.jsx)(m.default,{label:"Group is Active",description:"Inactive groups are hidden from the main discovery page.",enabled:g,onChange:b}),(0,s.jsxs)("div",{className:"flex justify-end items-center space-x-4 pt-4 border-t border-gray-200",children:[(0,s.jsx)(o.default,{type:"button",variant:"secondary",onClick:a,children:"Cancel"}),(0,s.jsx)(o.default,{type:"submit",children:"Create Group"})]})]})},M=({tenant:e,currentUser:a,onRefresh:r})=>{let[l,i]=(0,t.useState)(()=>(0,u.getSmallGroupsForTenant)(e.id)),[n,d]=(0,t.useState)(!1),m=(0,t.useMemo)(()=>(0,u.getMembersForTenant)(e.id),[e.id]);return(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Small Group Management"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Create and manage small groups for your members."})]}),(0,s.jsx)(o.default,{onClick:()=>d(!0),children:"+ Create Group"})]}),(0,s.jsx)("div",{className:"flow-root",children:(0,s.jsx)("div",{className:"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8",children:(0,s.jsx)("div",{className:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-300",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-0",children:"Group Name"}),(0,s.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Leader"}),(0,s.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Members"}),(0,s.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Status"}),(0,s.jsx)("th",{scope:"col",className:"relative py-3.5 pl-3 pr-4 sm:pr-0",children:(0,s.jsx)("span",{className:"sr-only",children:"Actions"})})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-gray-200 bg-white",children:l.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsxs)("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 text-sm sm:pl-0",children:[(0,s.jsx)("div",{className:"font-medium text-gray-900",children:e.name}),(0,s.jsx)("div",{className:"text-gray-500",children:e.meetingSchedule})]}),(0,s.jsx)("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:e.leader.profile.displayName}),(0,s.jsx)("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:e.members.length}),(0,s.jsx)("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:(0,s.jsx)("span",{className:`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium ${e.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:e.isActive?"Active":"Inactive"})}),(0,s.jsx)("td",{className:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-0",children:(0,s.jsx)(o.default,{variant:"secondary",size:"sm",children:"Edit"})})]},e.id))})]})})})}),(0,s.jsx)(b.default,{isOpen:n,onClose:()=>d(!1),title:"Create Small Group",children:(0,s.jsx)(A,{onSubmit:s=>{(0,u.createSmallGroup)({tenantId:e.id,...s},a.id),i((0,u.getSmallGroupsForTenant)(e.id)),r(),d(!1)},onCancel:()=>d(!1),members:m})})]})},R=({tenant:e,onUpdate:t})=>{let a=e.settings.liveStreamSettings,r=(s,r)=>{t({...e,settings:{...e.settings,liveStreamSettings:{...a,[s]:r}}})};return(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Live Stream Settings"}),(0,s.jsxs)("p",{className:"mt-1 text-sm text-gray-500",children:['Configure your live stream embed. The main "Enable Live Stream" toggle is in the ',(0,s.jsx)("span",{className:"font-semibold text-amber-700",children:"Features"})," tab."]})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"provider",className:"block text-sm font-medium text-gray-700 mb-1",children:"Stream Provider"}),(0,s.jsxs)("select",{id:"provider",name:"provider",className:"w-full pl-3 pr-10 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-amber-500 focus:border-amber-500 sm:text-sm bg-white text-gray-900",value:a.provider,onChange:e=>r("provider",e.target.value),children:[(0,s.jsx)("option",{value:"YOUTUBE",children:"YouTube"}),(0,s.jsx)("option",{value:"FACEBOOK",children:"Facebook"}),(0,s.jsx)("option",{value:"VIMEO",children:"Vimeo"}),(0,s.jsx)("option",{value:"OTHER",children:"Other (enter embed URL)"})]})]}),(0,s.jsx)(d.default,{label:"Embed URL",id:"embedUrl",name:"embedUrl",type:"url",value:a.embedUrl||"",onChange:e=>r("embedUrl",e.target.value),placeholder:"https://www.youtube.com/embed/..."})]}),(0,s.jsx)("div",{className:"border-t border-gray-200 pt-8",children:(0,s.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Go Live"})}),(0,s.jsx)(m.default,{label:"We're Live!",description:"Enable this to show a 'Live' indicator on your tenant home page.",enabled:a.isLive,onChange:e=>r("isLive",e)}),(0,s.jsx)("div",{className:"text-right border-t border-gray-200 pt-6",children:(0,s.jsx)(o.default,{onClick:()=>alert("Live stream settings saved (mock)!"),children:"Save Changes"})})]})},k=({tenant:e,currentUser:r,onRefresh:l})=>{let i=(0,t.useMemo)(()=>(0,u.getCommunityPostsForTenant)(e.id,!0),[e.id,l]),[n,d]=(0,t.useState)("ALL"),m=(e,s)=>{window.confirm(`Are you sure you want to change this post's status to ${s}?`)&&((0,u.updateCommunityPostStatus)(e,s,r.id),l())},c=(0,t.useMemo)(()=>"ALL"===n?i:i.filter(e=>e.status===n),[i,n]),x=["ALL",a.CommunityPostStatus.PENDING_APPROVAL,a.CommunityPostStatus.PUBLISHED,a.CommunityPostStatus.FULFILLED];return(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Prayer Wall Moderation"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Manage all prayer requests and tangible needs submitted by members."})]}),(0,s.jsx)("div",{className:"border-b border-gray-200",children:(0,s.jsx)("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:x.map(e=>(0,s.jsx)("button",{onClick:()=>d(e),className:`${n===e?"border-amber-500 text-amber-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:e.replace("_"," ")},e))})}),(0,s.jsx)("div",{className:"flow-root",children:(0,s.jsx)("div",{className:"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8",children:(0,s.jsx)("div",{className:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-300",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-0",children:"Author"}),(0,s.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Request"}),(0,s.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Status"}),(0,s.jsx)("th",{scope:"col",className:"relative py-3.5 pl-3 pr-4 sm:pr-0",children:(0,s.jsx)("span",{className:"sr-only",children:"Actions"})})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-gray-200 bg-white",children:c.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 text-sm sm:pl-0",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"h-10 w-10 flex-shrink-0",children:(0,s.jsx)("img",{className:"h-10 w-10 rounded-full",src:e.authorAvatarUrl,alt:e.authorDisplayName})}),(0,s.jsx)("div",{className:"ml-4 font-medium text-gray-900",children:e.authorDisplayName})]})}),(0,s.jsx)("td",{className:"px-3 py-4 text-sm text-gray-500",children:(0,s.jsx)("p",{className:"line-clamp-3",children:e.body})}),(0,s.jsx)("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:(0,s.jsx)("span",{className:"inline-flex items-center rounded-full bg-blue-100 px-2.5 py-0.5 text-xs font-medium text-blue-800",children:e.status.replace("_"," ")})}),(0,s.jsxs)("td",{className:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-0 space-x-2",children:[e.status===a.CommunityPostStatus.PENDING_APPROVAL&&(0,s.jsx)(o.default,{size:"sm",onClick:()=>m(e.id,a.CommunityPostStatus.PUBLISHED),children:"Approve"}),e.status===a.CommunityPostStatus.PUBLISHED&&(0,s.jsx)(o.default,{size:"sm",variant:"secondary",onClick:()=>m(e.id,a.CommunityPostStatus.FULFILLED),children:"Mark as Fulfilled"}),(0,s.jsx)(o.default,{size:"sm",variant:"danger",onClick:()=>{var s;return s=e.id,void(window.confirm("Are you sure you want to delete this post? This cannot be undone.")&&((0,u.updateCommunityPostStatus)(s,"DELETED",r.id),l()))},children:"Delete"})]})]},e.id))})]})})})})]})};var E=e.i(31478);let T=({tenant:e,currentUser:a,onRefresh:r})=>{let l=(0,t.useMemo)(()=>(0,u.getResourceItemsForTenant)(e.id,!0),[e.id,r]),[i,n]=(0,t.useState)(!1);return(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Resource Management"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Manage all downloadable resources for your members."})]}),(0,s.jsx)(o.default,{onClick:()=>n(!0),children:"+ Add Resource"})]}),(0,s.jsx)("div",{className:"flow-root",children:(0,s.jsx)("div",{className:"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8",children:(0,s.jsx)("div",{className:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-300",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-0",children:"Title"}),(0,s.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Uploader"}),(0,s.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Visibility"}),(0,s.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Type"}),(0,s.jsx)("th",{scope:"col",className:"relative py-3.5 pl-3 pr-4 sm:pr-0",children:(0,s.jsx)("span",{className:"sr-only",children:"Actions"})})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-gray-200 bg-white",children:l.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsxs)("td",{className:"py-4 pl-4 pr-3 text-sm sm:pl-0",children:[(0,s.jsx)("div",{className:"font-medium text-gray-900",children:e.title}),(0,s.jsx)("div",{className:"text-gray-500 line-clamp-1",children:e.description})]}),(0,s.jsx)("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:e.uploaderDisplayName}),(0,s.jsx)("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:e.visibility.replace("_"," ")}),(0,s.jsx)("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:e.fileType}),(0,s.jsx)("td",{className:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-0",children:(0,s.jsx)(o.default,{variant:"danger",size:"sm",onClick:()=>{var s;return s=e.id,void(window.confirm("Are you sure you want to delete this resource? This action cannot be undone.")&&((0,u.deleteResourceItem)(s,a.id),r()))},children:"Delete"})})]},e.id))})]})})})}),(0,s.jsx)(b.default,{isOpen:i,onClose:()=>n(!1),title:"Add New Resource",children:(0,s.jsx)(E.default,{onSubmit:s=>{(0,u.addResourceItem)({...s,tenantId:e.id,uploaderUserId:a.id}),r(),n(!1)},onCancel:()=>n(!1)})})]})},P=({isOpen:e,onClose:a,onSubmit:r,submission:l})=>{let[i,n]=(0,t.useState)("");return(0,s.jsx)(b.default,{isOpen:e,onClose:a,title:`Respond to ${l.name}`,children:(0,s.jsxs)("form",{onSubmit:e=>{(e.preventDefault(),i.trim())?r(i):alert("Please enter a response.")},className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:["Replying to: ",(0,s.jsx)("span",{className:"font-medium text-gray-800",children:l.email})]}),(0,s.jsx)("blockquote",{className:"mt-2 border-l-4 border-gray-200 pl-4 text-sm text-gray-600 italic",children:l.message})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"responseText",className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Response"}),(0,s.jsx)("textarea",{id:"responseText",name:"responseText",rows:8,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-amber-500 focus:border-amber-500 sm:text-sm bg-white text-gray-900",value:i,onChange:e=>n(e.target.value),required:!0,autoFocus:!0})]}),(0,s.jsxs)("div",{className:"flex justify-end items-center space-x-4 pt-4 border-t border-gray-200",children:[(0,s.jsx)(o.default,{type:"button",variant:"secondary",onClick:a,children:"Cancel"}),(0,s.jsx)(o.default,{type:"submit",children:"Send Response"})]})]})})},L=({tenant:e,currentUser:r,onRefresh:l})=>{let i=(0,t.useMemo)(()=>(0,u.getContactSubmissionsForTenant)(e.id),[e.id,l]),[n,d]=(0,t.useState)("ALL"),[m,c]=(0,t.useState)(null),x=(e,s)=>{(0,u.updateContactSubmissionStatus)(e,s,r.id),l()},p=(0,t.useMemo)(()=>"ALL"===n?i:i.filter(e=>e.status===n),[i,n]),h=["ALL",a.ContactSubmissionStatus.UNREAD,a.ContactSubmissionStatus.READ,a.ContactSubmissionStatus.ARCHIVED],g={[a.ContactSubmissionStatus.UNREAD]:"bg-red-100 text-red-800",[a.ContactSubmissionStatus.READ]:"bg-blue-100 text-blue-800",[a.ContactSubmissionStatus.ARCHIVED]:"bg-gray-100 text-gray-800"};return(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Contact Form Submissions"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"View and manage messages sent through your public contact page."})]}),(0,s.jsx)("div",{className:"border-b border-gray-200",children:(0,s.jsx)("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:h.map(e=>(0,s.jsx)("button",{onClick:()=>d(e),className:`${n===e?"border-amber-500 text-amber-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm capitalize`,children:e.toLowerCase()},e))})}),(0,s.jsx)("div",{className:"flow-root",children:(0,s.jsx)("div",{className:"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8",children:(0,s.jsxs)("div",{className:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8",children:[(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-300",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-0",children:"From"}),(0,s.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Message"}),(0,s.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Status"}),(0,s.jsx)("th",{scope:"col",className:"relative py-3.5 pl-3 pr-4 sm:pr-0",children:(0,s.jsx)("span",{className:"sr-only",children:"Actions"})})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-gray-200 bg-white",children:p.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsxs)("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 text-sm sm:pl-0",children:[(0,s.jsx)("div",{className:"font-medium text-gray-900",children:e.name}),(0,s.jsx)("div",{className:"text-gray-500",children:e.email}),(0,s.jsx)("div",{className:"text-xs text-gray-400 mt-1",children:e.createdAt.toLocaleString()})]}),(0,s.jsx)("td",{className:"px-3 py-4 text-sm text-gray-500",children:(0,s.jsx)("p",{className:"line-clamp-3",children:e.message})}),(0,s.jsx)("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:(0,s.jsx)("span",{className:`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium ${g[e.status]}`,children:e.status.toLowerCase()})}),(0,s.jsxs)("td",{className:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-0 space-x-2",children:[(0,s.jsx)(o.default,{size:"sm",onClick:()=>c(e),children:"Respond"}),e.status===a.ContactSubmissionStatus.UNREAD&&(0,s.jsx)(o.default,{size:"sm",variant:"secondary",onClick:()=>x(e.id,a.ContactSubmissionStatus.READ),children:"Mark as Read"}),e.status!==a.ContactSubmissionStatus.ARCHIVED&&(0,s.jsx)(o.default,{size:"sm",variant:"secondary",onClick:()=>x(e.id,a.ContactSubmissionStatus.ARCHIVED),children:"Archive"})]})]},e.id))})]}),0===p.length&&(0,s.jsx)("div",{className:"text-center py-12 text-gray-500",children:"No submissions match the current filter."})]})})}),m&&(0,s.jsx)(P,{isOpen:!!m,onClose:()=>c(null),onSubmit:s=>{m&&((0,u.respondToContactSubmission)(m.id,s,r.id,e.name),c(null),l(),alert("Response sent!"))},submission:m})]})};e.s(["default",0,({tenant:e,onUpdate:n,currentUser:d,onImpersonate:o,onRefresh:m})=>{let u=(0,t.useMemo)(()=>!!d&&(d.isSuperAdmin||(0,g.hasRole)(d,e.id,a.TenantRole.ADMIN)),[d,e.id]),b=(0,t.useMemo)(()=>i.filter(s=>{if(u)return!0;if(!d)return!1;switch(s){case"Membership & Moderation":return(0,g.can)(d,e,"canApproveMembership")||(0,g.can)(d,e,"canBanMembers");case"Prayer Wall":return(0,g.can)(d,e,"canManagePrayerWall");case"Resource Center":return(0,g.can)(d,e,"canManageResources");case"Contact Submissions":return(0,g.can)(d,e,"canManageContactSubmissions");default:return!1}}),[d,e,u]),[y,j]=(0,t.useState)(b[0]||i[0]);return(0,s.jsxs)(l.default,{className:"!p-0",children:[(0,s.jsxs)("div",{className:"px-6 pt-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Control Panel"}),(0,s.jsxs)("p",{className:"mt-1 text-sm text-gray-500",children:["Manage settings for ",e.name,"."]})]}),(0,s.jsx)("div",{className:"px-6 mt-4",children:(0,s.jsx)(r.default,{tabs:b,activeTab:y,onTabClick:j})}),(0,s.jsx)("div",{className:"p-6",children:(()=>{switch(y){case"General":return(0,s.jsx)(c,{tenant:e,onUpdate:n});case"Branding":return(0,s.jsx)(x,{tenant:e,onUpdate:n});case"Features":return(0,s.jsx)(p,{tenant:e,onUpdate:n});case"Permissions":return d?(0,s.jsx)(h,{tenant:e,onUpdate:n,currentUser:d}):null;case"Membership & Moderation":return d?(0,s.jsx)(v,{tenant:e,onUpdate:n,currentUser:d,onImpersonate:o,onRefresh:m}):null;case"User Profiles":return d?(0,s.jsx)(N,{tenant:e,currentUser:d,onRefresh:m}):null;case"Donations":return(0,s.jsx)(C,{tenant:e,onUpdate:n});case"Volunteering":return d?(0,s.jsx)(S,{tenant:e,currentUser:d,onRefresh:m}):null;case"Small Groups":return d?(0,s.jsx)(M,{tenant:e,currentUser:d,onRefresh:m}):null;case"Live Stream":return(0,s.jsx)(R,{tenant:e,onUpdate:n});case"Prayer Wall":return d?(0,s.jsx)(k,{tenant:e,currentUser:d,onRefresh:m}):null;case"Resource Center":return d?(0,s.jsx)(T,{tenant:e,currentUser:d,onRefresh:m}):null;case"Contact Submissions":return d?(0,s.jsx)(L,{tenant:e,currentUser:d,onRefresh:m}):null;default:return null}})()})]})}],48563)}]);